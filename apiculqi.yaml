openapi: 3.0.0
info:
  title: CULQI API
  version: '1.0'
  description: |
    # Introducción
    La API de [Culqi](http://culqi.com/) está construido bajo los estándares de **REST**. Es decir, nuestra API posee URLs orientada a recursos, y hace uso de los [códigos de respuesta HTTP](https://httpstatuses.com/) para indicar los posibles errores en el API. Es importante indicar que se encuentra implementada una autenticación HTTP (<em>Bearer Token</em>), solicitada en cada petición. A<demás, soportamos las solicitudes HTTP de origen cruzdo (CORS), permitiendo que tu sitio y Culqi puedan interactuar de manera segura mediante nuestra API desde una aplicación cliente (aunque NUNCA deberías exponer tu Llave Secreta en el código de la aplicación web cliente). Por otro lado, un objeto JSON es retornado en cada una las peticiones hacia el API, incluyendo los errores. Adicionalmente nuestras bibliotecas convierten las respuestas en objetos específicos para cada lenguaje soportado.

    Finalmente, para que puedas comenzar a experimentar con nuestra API, todas las cuentas registradas en Culqi poseen llaves para el entorno de pruebas (Regístrate y obtén tus llaves) y el entorno de producción. Usando las llaves de prueba las transacciones nunca pasan por las redes bancarias y no tienen ningún costo. (¡Recuerda usar tarjetas de prueba, no tarjetas reales al probar!).
    
    <div class="cntrecursos">
      <a href="#tag/Tokens">
       <div class="cnttoken">
           <div class="cnttokenup">
               <div class="contentimgtokenletra">
                   <div class="cntimgtoken"><img src="assets/images/boxes/tokens.png" width="40"></div>
                   <div class="cnttextotoken"> <strong>Tokens</strong>
                       <br><span> /tokens</span> </div>
               </div>
               <div class="cntimgletrintokenurl"><img src="assets/images/flechon.jpg"></div>
           </div>
           <div class="cnttokenlower"> Captura de manera segura datos sensibles de tarjetas de crédito y débito directamente desde el navegador de tu cliente sin que toquen tus servidores.</div>
       </div>
      </a>
      <a href="#tag/Cargos">
         <div class="cnttoken" style="margin-right:0px;">
             <div class="cnttokenup">
                 <div class="contentimgtokenletra">
                     <div class="cntimgtoken"><img src="assets/images/boxes/charges.png" width="40"></div>
                     <div class="cnttextotoken"> <strong>Cargos</strong>
                         <br><span> /charges</span> </div>
                 </div>
                 <div class="cntimgletrintokenurl"><img src="assets/images/flechon.jpg"></div>
             </div>
             <div class="cnttokenlower"> Realiza un cargo o cobro a las tarjetas de crédito o débito de tus clientes usando un token de cargo único o una tarjeta que haya sido guardada previamente. </div>
         </div>
      </a>
      <a href="#tag/Planes">
       <div class="cnttoken">
           <div class="cnttokenup">
               <div class="contentimgtokenletra">
                   <div class="cntimgtoken"><img src="assets/images/boxes/plans.png" width="40"></div>
                   <div class="cnttextotoken"> <strong>Planes</strong>
                       <br><span> /plans</span> </div>
               </div>
               <div class="cntimgletrintokenurl"><img src="assets/images/flechon.jpg"></div>
           </div>
           <div class="cnttokenlower"> Define un plan que contenga información acerca del tipo de cargo, frecuencia, intervalo y monto que quieres cobrarle a un cliente de manera recurrente. </div>
       </div>
     </a>
        <a href="#tag/Suscripciones">
        <div class="cnttoken" style="margin-right:0px;">
         <div class="cnttokenup">
             <div class="contentimgtokenletra">
                 <div class="cntimgtoken"><img src="assets/images/boxes/subscriptions.png" width="40"></div>
                 <div class="cnttextotoken"> <strong>Suscripciones</strong>
                     <br><span> /subscriptions</span> </div>
             </div>
             <div class="cntimgletrintokenurl"><img src="assets/images/flechon.jpg"></div>
         </div>
         <div class="cnttokenlower"> Realiza cargos recurrentes a tus clientes asociando una tarjeta de crédito o débito guardada con un plan de suscripción creado previamente. </div>
        </div>
      </a>
      <a href="#tag/Clientes">
       <div class="cnttoken">
           <div class="cnttokenup">
               <div class="contentimgtokenletra">
                   <div class="cntimgtoken"><img src="assets/images/boxes/customers.png" width="40"></div>
                   <div class="cnttextotoken"> <strong>Clientes</strong>
                       <br><span> /customers</span> </div>
               </div>
               <div class="cntimgletrintokenurl"><img src="assets/images/flechon.jpg"></div>
           </div>
           <div class="cnttokenlower"> Crear un cliente te permitirá asociar un usuario a una o varias tarjetas de crédito o débito para realizarles cargos recurrentes o pagos en un solo click. </div>
       </div>
     </a>
     <a href="#tag/Tarjetas">
         <div class="cnttoken" style="margin-right:0px;">
             <div class="cnttokenup">
                 <div class="contentimgtokenletra">
                     <div class="cntimgtoken"><img src="assets/images/boxes/cards.png" width="40"></div>
                     <div class="cnttextotoken"> <strong>Tarjetas</strong>
                         <br><span> /cards</span> </div>
                 </div>
                 <div class="cntimgletrintokenurl"><img src="assets/images/flechon.jpg"></div>
             </div>
             <div class="cnttokenlower"> Guarda información de las tarjetas de tus clientes frecuentes para realizarles cargos sin que vuelvan a colocar toda la información de sus tarjetas de crédito o débito. </div>
         </div>
      </a>
    </div>

    # Autenticación
    Para poder acceder y utilizar la API de Culqi necesitas previamente obtener tus [Llaves de Autenticación](https://docs.culqi.com/#/cuenta/cuenta#llaves) e incluirlas en cada petición que hagas al API. Podrás encontrar tus llaves en el Panel de [Integración](http://integ-panel.culqi.com/) y [Producción](http://panel.culqi.com/) de Culqi.
    <div class="box warning"><div class="content">Ten en cuenta que es información muy sensible y no puedes compartirlas con nadie.</div></div>
    Para usar el API de Culqi utiliza autenticación Bearer como se muestra a continuación :
    
    **Ejemplo de Autenticación:**
    ```
    -H "Authorization: Bearer sk_test_UTCQSGcXW8bCyU59"
    ```
    
    Todas las peticiones al API deben ser hechas bajo el protocolo de transferencia [HTTPS.](https://es.wikipedia.org/wiki/Hypertext_Transfer_Protocol_Secure) Las llamadas hechas bajo el protocolo HTTP plano fallarán en el [entorno de producción](https://docs.culqi.com/#/cuenta/cuenta) al igual que las peticiones sin autenticación.
    
    # Errores

    # Metadata
    La metadata es una manera útil de guardar información adicional de manera estructurada en un objeto. Todos los recursos de Culqi, incluyendo [Tokens](#tag/Tokens), [Cargos](#tag/Cargos), [Planes](#tag/Planes), [Suscripciones](#tag/Suscripciones), [Devoluciones](#tag/Devoluciones), [Tarjetas](#tag/Tarjetas), [Clientes](#tag/Tarjetas) tienen un parámetro metadata que puede ser utilizado para reflejar información clave de tu negocio que quieras relacionar con las operaciones.

    Por ejemplo, en el parámetro *metadata* del recurso [Clientes](#tag/Clientes) podrías guardar el nombre completo de tu cliente, su número de documento de identidad y su fecha de nacimiento. La *metadata* no es utilizada por Culqi para analizar, realizar o rechazar un cargo.

    <div class="box info"><div class="content">El atributo metadata no puede tener más de 20 objetos clave-valor. Adicionalmente, la clave no podrá exceder de 30 caracteres y el valor de 200 caracteres.</div></div>

    **Ejemplos de Metadata** </br>
    Por ejemplo, en la petición para [crear un cargo](#operation/crear-cargo) al API, podrías enviar a través del objeto metadata los valores definidos anteriormente:
    ```json
    {
      "amount":200,
      "currency_code":"PEN",
      "source_id":"tkn_live_189fqQ2eZvKYlo2",
      "description":"Apple Watch Series 20",
      "installments":6,
      "capture":true,
      "metadata": {
          "order_id":"204055",
          "user_id":"4625",
          "user_details":"46734527"
      }
    }
    ```
    Aquí te presentamos algunas sugerencias para los valores de *metadata:*
    <SchemaDefinition schemaRef="#/components/schemas/Metadata" hideSamples={false}/>
   

    # Paginación
    Todos los recursos principales de Culqi soportan operaciones de listado, entre ellos Tokens, Cargos, Transferencias, Tarjetas, Clientes, Suscripciones, Devoluciones y Planes. Adicionalmente, todos los métodos de listado del API comparten una estructura similar tomando en cuenta estos tres parámetros: limit, after y before.

    Culqi utiliza una paginación en tiempo real basada en cursor a través de los parámetros after y before. Un cursor se refiere a un string de caracteres random que marca un ítem específico en una lista de datos. A menos que el ítem sea borrado, el cursor siempre estará punteando la misma parte de la lista, pero será invalidado si el ítem es removido.

    En Culqi, los parámetros after y before toman el valor ID y retornan los objetos en un orden cronológico reverso. El parámetro before devuelve los objetos creados antes del objeto en cuestión. El parámetro after devuelve los objetos creados después del objeto en cuestión. Si ambos parámetros son provistos sólo before es utilizado.  

    

    # ID de Rastreo
    Cada petición al API está asociada a un identificador de rastreo. Puedes encontrar este valor en los headers de respuesta, bajo el nombre de x-culqi-tracking-id, también lo puedes encontrar en el Panel de Culqi y en el detalle de cada petición.

    :::attention
    Si necesitas ayuda con alguna petición en específico, brindando este ID de rastreo hará más fácil la ubicación y posterior solución del problema o incidencia.
    :::

    <div class="box info"><div class="content">Si necesitas ayuda con alguna petición en específico, brindando este ID de rastreo hará más fácil la ubicación y posterior solución del problema o incidencia.</div></div>
    

    **Ejemplo de Headers de Respuesta:**
    
    ```json Headers
    "date": "1476132639",
    "x-culqi-environment": "live",
    "x-culqi-tracking-id": "9283",
    "x-culqi-version": "17.01.89",
    "content-type": "application/json"
    ```
    Atributos:
    
    <SchemaDefinition schemaRef="#/components/schemas/Rastreo" hideSamples={false} />
    
    | Parámetro | Tipo | Descripcion |
    | --- | --- | --- |
    | <span class="property-name">date</span> <br/> <div class="sc-oeezt sc-hhIiOg bkbCTW kXduun">required</div> | string | Fecha en la que se creó la petición en [UNIX Timestamp.](http://www.unixtimestamp.com/)<br/>Ejemplo: "1476132639" |
    | <span class="property-name">x-culqi-environment</span> <div class="sc-oeezt sc-hhIiOg bkbCTW kXduun">required</div> | string | Fecha en la que se creó la petición en [UNIX Timestamp.](http://www.unixtimestamp.com/)<br/>Ejemplo: "live"<br/>Posibles valores:  live, test |
    | <span class="property-name">x-culqi-tracking-id</span> <div class="sc-oeezt sc-hhIiOg bkbCTW kXduun">required</div> | string | Código de identificación de la petición.<br/>Ejemplo: "9283" |
    | <span class="property-name">x-culqi-version</span> <div class="sc-oeezt sc-hhIiOg bkbCTW kXduun">required</div> | string | Número de versión del API.<br/>Ejemplo: "17.01.89" |
    | <span class="content-type">x-culqi-version</span> <div class="sc-oeezt sc-hhIiOg bkbCTW kXduun">required</div> | string | Formato de contenido de la respuesta.<br/>Valor:  applcation/json |
    
    <div class="sc-eCApnc chOOHy">
      <div class="sc-iCoGMd dolNKP">
        <div class="sc-hKFxyN hutltu">
          <table class="sc-hHEiqL iZJLLY">
            <tbody>
              <tr class="">
                <td class="sc-hBMUJo sc-fFSPTT eJvdeH dLEyPf" kind="field" title="date"><span class="sc-iemWCZ kMjgQu"></span><span class="property-name">date</span>
                  <div class="sc-oeezt sc-hhIiOg bkbCTW kXduun">required</div>
                </td>
                <td class="sc-bkbkJK gaTxIt">
                  <div>
                    <div><span class="sc-laZMeE sc-iNiQyp dmLkmF isTLDY"></span><span class="sc-laZMeE sc-jffHpj dmLkmF lVyis">string</span></div>
                    <div>
                      <div class="sc-iJCRrE sc-ciSkZP ifDxYI wfptf">
                        <p>Fecha en la que se creó la petición en UNIX Timestamp.</p>
                      </div>
                    </div>
                  </div>
                </td>
              </tr>
              <tr class="">
                <td class="sc-hBMUJo sc-fFSPTT eJvdeH dLEyPf" kind="field" title="x-culqi-environment"><span class="sc-iemWCZ kMjgQu"></span><span class="property-name">x-culqi-environment</span>
                  <div class="sc-oeezt sc-hhIiOg bkbCTW kXduun">required</div>
                </td>
                <td class="sc-bkbkJK gaTxIt">
                  <div>
                    <div><span class="sc-laZMeE sc-iNiQyp dmLkmF isTLDY"></span><span class="sc-laZMeE sc-jffHpj dmLkmF lVyis">string</span></div>
                    <div><span class="sc-laZMeE dmLkmF"> Enum:</span> <span class="sc-laZMeE sc-ckTSus dmLkmF cDPDUw">"live"</span> <span class="sc-laZMeE sc-ckTSus dmLkmF cDPDUw">"test"</span> </div>
                    <div>
                      <div class="sc-iJCRrE sc-ciSkZP ifDxYI wfptf">
                        <p>Entorno al que se realizó la petición. Ver más.</p>
                      </div>
                    </div>
                  </div>
                </td>
              </tr>
              <tr class="">
                <td class="sc-hBMUJo sc-fFSPTT eJvdeH dLEyPf" kind="field" title="x-culqi-tracking-id"><span class="sc-iemWCZ kMjgQu"></span><span class="property-name">x-culqi-tracking-id</span>
                  <div class="sc-oeezt sc-hhIiOg bkbCTW kXduun">required</div>
                </td>
                <td class="sc-bkbkJK gaTxIt">
                  <div>
                    <div><span class="sc-laZMeE sc-iNiQyp dmLkmF isTLDY"></span><span class="sc-laZMeE sc-jffHpj dmLkmF lVyis">string</span></div>
                    <div>
                      <div class="sc-iJCRrE sc-ciSkZP ifDxYI wfptf">
                        <p>Código de identificación de la petición.</p>
                      </div>
                    </div>
                  </div>
                </td>
              </tr>
              <tr class="">
                <td class="sc-hBMUJo sc-fFSPTT eJvdeH dLEyPf" kind="field" title="x-culqi-version"><span class="sc-iemWCZ kMjgQu"></span><span class="property-name">x-culqi-version</span>
                  <div class="sc-oeezt sc-hhIiOg bkbCTW kXduun">required</div>
                </td>
                <td class="sc-bkbkJK gaTxIt">
                  <div>
                    <div><span class="sc-laZMeE sc-iNiQyp dmLkmF isTLDY"></span><span class="sc-laZMeE sc-jffHpj dmLkmF lVyis">string</span></div>
                    <div>
                      <div class="sc-iJCRrE sc-ciSkZP ifDxYI wfptf">
                        <p>Número de versión del API.</p>
                      </div>
                    </div>
                  </div>
                </td>
              </tr>
              <tr class="last ">
                <td class="sc-hBMUJo sc-fFSPTT eJvdeH dLEyPf" kind="field" title="content-type"><span class="sc-iemWCZ kMjgQu"></span><span class="property-name">content-type</span>
                  <div class="sc-oeezt sc-hhIiOg bkbCTW kXduun">required</div>
                </td>
                <td class="sc-bkbkJK gaTxIt">
                  <div>
                    <div><span class="sc-laZMeE sc-iNiQyp dmLkmF isTLDY"></span><span class="sc-laZMeE sc-jffHpj dmLkmF lVyis">string</span></div>
                    <div><span class="sc-laZMeE dmLkmF"> Value:</span> <span class="sc-laZMeE sc-ckTSus dmLkmF cDPDUw">"applcation/json"</span> </div>
                    <div>
                      <div class="sc-iJCRrE sc-ciSkZP ifDxYI wfptf">
                        <p>Formato de contenido de la respuesta.</p>
                      </div>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    otro ejemplo:
    <div class="sc-hKFxyN hutltu_culqi">
          <table class="sc-hHEiqL iZJLLY">
            <tbody>
              <tr class="">
                <td class="sc-hBMUJo sc-fFSPTT eJvdeH dLEyPf" kind="field" title="date"><span class="sc-iemWCZ kMjgQu"></span><span class="property-name">date</span>
                  <div class="sc-oeezt sc-hhIiOg bkbCTW kXduun">required</div>
                </td>
                <td class="sc-bkbkJK gaTxIt_culqi">
                  <div>
                    <div><span class="sc-laZMeE sc-iNiQyp dmLkmF isTLDY"></span><span class="sc-laZMeE sc-jffHpj dmLkmF lVyis">string</span></div>
                    <div>
                      <div class="sc-iJCRrE sc-ciSkZP ifDxYI wfptf">
                        <p>Fecha en la que se creó la petición en UNIX Timestamp.</p>
                      </div>
                    </div>
                  </div>
                </td>
              </tr>
              <tr class="">
                <td class="sc-hBMUJo sc-fFSPTT eJvdeH dLEyPf" kind="field" title="x-culqi-environment"><span class="sc-iemWCZ kMjgQu"></span><span class="property-name">x-culqi-environment</span>
                  <div class="sc-oeezt sc-hhIiOg bkbCTW kXduun">required</div>
                </td>
                <td class="sc-bkbkJK gaTxIt_culqi">
                  <div>
                    <div><span class="sc-laZMeE sc-iNiQyp dmLkmF isTLDY"></span><span class="sc-laZMeE sc-jffHpj dmLkmF lVyis">string</span></div>
                    <div><span class="sc-laZMeE dmLkmF"> Enum:</span> <span class="sc-laZMeE sc-ckTSus dmLkmF cDPDUw">"live"</span> <span class="sc-laZMeE sc-ckTSus dmLkmF cDPDUw">"test"</span> </div>
                    <div>
                      <div class="sc-iJCRrE sc-ciSkZP ifDxYI wfptf">
                        <p>Entorno al que se realizó la petición. Ver más.</p>
                      </div>
                    </div>
                  </div>
                </td>
              </tr>
              <tr class="">
                <td class="sc-hBMUJo sc-fFSPTT eJvdeH dLEyPf" kind="field" title="x-culqi-tracking-id"><span class="sc-iemWCZ kMjgQu"></span><span class="property-name">x-culqi-tracking-id</span>
                  <div class="sc-oeezt sc-hhIiOg bkbCTW kXduun">required</div>
                </td>
                <td class="sc-bkbkJK gaTxIt_culqi">
                  <div>
                    <div><span class="sc-laZMeE sc-iNiQyp dmLkmF isTLDY"></span><span class="sc-laZMeE sc-jffHpj dmLkmF lVyis">string</span></div>
                    <div>
                      <div class="sc-iJCRrE sc-ciSkZP ifDxYI wfptf">
                        <p>Código de identificación de la petición.</p>
                      </div>
                    </div>
                  </div>
                </td>
              </tr>
              <tr class="">
                <td class="sc-hBMUJo sc-fFSPTT eJvdeH dLEyPf" kind="field" title="x-culqi-version"><span class="sc-iemWCZ kMjgQu"></span><span class="property-name">x-culqi-version</span>
                  <div class="sc-oeezt sc-hhIiOg bkbCTW kXduun">required</div>
                </td>
                <td class="sc-bkbkJK gaTxIt_culqi">
                  <div>
                    <div><span class="sc-laZMeE sc-iNiQyp dmLkmF isTLDY"></span><span class="sc-laZMeE sc-jffHpj dmLkmF lVyis">string</span></div>
                    <div>
                      <div class="sc-iJCRrE sc-ciSkZP ifDxYI wfptf">
                        <p>Número de versión del API.</p>
                      </div>
                    </div>
                  </div>
                </td>
              </tr>
              <tr class="last ">
                <td class="sc-hBMUJo sc-fFSPTT eJvdeH dLEyPf" kind="field" title="content-type"><span class="sc-iemWCZ kMjgQu"></span><span class="property-name">content-type</span>
                  <div class="sc-oeezt sc-hhIiOg bkbCTW kXduun">required</div>
                </td>
                <td class="sc-bkbkJK gaTxIt_culqi">
                  <div>
                    <div><span class="sc-laZMeE sc-iNiQyp dmLkmF isTLDY"></span><span class="sc-laZMeE sc-jffHpj dmLkmF lVyis">string</span></div>
                    <div><span class="sc-laZMeE dmLkmF"> Value:</span> <span class="sc-laZMeE sc-ckTSus dmLkmF cDPDUw">"applcation/json"</span> </div>
                    <div>
                      <div class="sc-iJCRrE sc-ciSkZP ifDxYI wfptf">
                        <p>Formato de contenido de la respuesta.</p>
                      </div>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
    
    # Versionado
    Cuando realizamos cambios al API de Culqi que afectan la compatibilidad con versiones anteriores, realizamos lanzamientos de nuevas modificaciones de manera versionada. La última versión fue lanzada el 08-02-2017.
    
    <div class="box info"><div class="content">Los eventos generados por las peticiones al API estarán siempre estructurados de acuerdo a tu versión del API.</div></div>

    | Versión API | Fecha | Docs  |
    | --- | ----------- | ----- |
    | v2.0 | 08-02-2017 | [API 2.0](https://apidocs.culqi.com/) |
    | v1.2 | 23-08-2016 | [API 1.2](https://culqi.api-docs.io/v1.2) |
    | v1.0 | 01-09-2015	| Descontinuada |

    **Historial de Cambios**
    <br/>
    **07-03-2017**
    + Se añadió el parámetro 'validate' para validar tarjeta en [Crear Tarjeta](#operation/crear-tarjeta) (Tarjetas).
    + Se añadió el parámetro 'token_id' en [Actualizar Tarjeta](#operation/actualizar-tarjeta) (Tarjetas).
     

    **15-02-2017**
    - Se limitó el Content-Type que consumen y producen los endpoint a application/json.
    - Se añadió el filtro de metadata en las operaciones de listado.

    # Webhooks
    Para usar los eventos listados debes leer nuestra [guía de integración de Webhooks.](https://docs.culqi.com/#/desarrollo/webhooks)
    **Lista de Eventos Tokens**
    | Evento | Descripción |
    | --- | --- |
    | token.creation.succeeded | El token fue creado con éxito. |     
    | token.creation.failed | El token no pudo ser creado. |
    | token.expired | El token ha expirado y no puede ser usado para realizar un cargo. |
    | token.update.succeeded | La información del token fue actualizada. |
    | token.update.failed | La información del token no pudo ser actualizada. |
    
    **Lista de Eventos Cargos**
    
    | Evento | Descripción |
    | --- | --- |
    | charge.creation.succeeded | El cargo fue procesado con éxito. |     
    | charge.creation.failed | El cargo no pudo ser procesado y ha sigo denegado. |
    | charge.expired | El cargo ha expirado y el monto de la venta devuelto a la tarjeta del cliente. |
    | charge.update.succeeded | El cargo fue procesado con éxito. |
    | charge.update.fail | La información del cargo no pudo ser actualizada. |
    | charge.capture.succeeded | El cargo fue capturado. |
    | charge.capture.failed | El cargo no pudo ser capturado. |
    
    **Lista de Eventos Devoluciones**
    | Evento | Descripción |
    | --- | --- |
    | refund.creation.succeeded | La devolución ha sido procesada con éxito. | 
    | refund.creation.failed | La devolución no pudo ser procesada. |
    | refund.update.succeeded | La información de la devolución fue actualizada. |
    | refund.update.failed | La información de la devolución no pudo ser actualizada. |
    
    **Lista de Eventos Clientes**
    | Evento | Descripción |
    | --- | --- |
    | customer.creation.succeeded | El cliente fue creado con éxito. | 
    | customer.creation.failed | El cliente no pudo ser creado. |
    | customer.delete.succeeded | El cliente ha sido eliminado con éxito. |
    | customer.delete.failed | El cliente no pudo ser eliminado. |

    **Lista de Eventos Tarjetas**
    | Evento | Descripción |
    | --- | --- |
    | card.creation.succeeded | La tarjeta fue creada con éxito. |
    | card.creation.failed | La tarjeta no pudo ser creada. |
    | card.updated.succeeded | La información de la tarjeta fue actualizada con éxito. |
    | card.updated.failed | La información de la tarjeta no pudo ser actualizada. |
    | card.delete.succeeded | La tarjeta fue eliminada con éxito. |
    | card.delete.failed | La tarjeta no pudo ser eliminada. |

    **Lista de Eventos Planes**
    | Evento | Descripción |
    | --- | --- |
    | plan.creation.succeeded	| El plan fue creado con éxito. |
    | plan.creation.failed | El plan no pudo ser creado. |
    | plan.update.succeeded | La información del plan fue actualizada con éxito. |
    | plan.update.failed | La información del plan no pudo ser actualizada. |
    | plan.delete.succeeded | El plan fue eliminado con éxito. |
    | plan.delete.failed | El plan no pudo ser eliminado. |

    **Lista de Eventos Suscripciones**
    | Evento | Descripción |
    | --- | --- |
    | subscription.creation.succeeded	| La suscripción fue creada con éxito. |
    | subscription.creation.failed | La suscripción no pudo ser creada. |
    | subscription.update.succeeded | La información de la suscripción fue actualizada con éxito. |
    | subscription.update.failed | La información de la suscripción no pudo ser actualizada. |
    | subscription.cancel.succeeded | La suscripción ha sido cancelada con éxito. |
    | subscription.cancel.failed | La suscripción no pudo ser cancelada. |

    **Lista de Eventos Órdenes**
    | Evento | Descripción |
    | --- | --- |
    | order.status.changed	| La orden cambió de estado. Ver los ejemplos de cambios de estado de órdenes [aquí.](https://docs.culqi.com/#/multipagos/pruebas) |
    | order.creation.succeeded | La orden fue creada con éxito. |
        
servers:
  - url: 'https://api.culqi.com'
tags:
  - name: Tokens
    description: |-
      **Tokenización** es el proceso que utiliza Culqi para capturar de manera segura datos sensibles de tarjetas de crédito y débito directamente desde el navegador del cliente. Un token representa la información de la tarjeta y es devuelto a tus servidores para que puedas utilizarlo a través de [Culqi Checkout](https://docs.culqi.com/#/pagos/checkout), [Culqi.JS](https://docs.culqi.com/#/pagos/js) o nuestras bibliotecas para móviles ([iOS](https://docs.culqi.com/#/pagos/ios) y [Android](https://docs.culqi.com/#/pagos/android)). Este método nos asegura que ningún dato de tarjeta toque tus servidores y permite que la integración cumple con la normativa **PCI DSS**.
      </br> </br>
      Si no deseas hacer uso de los métodos de tokenización disponibles, también puedes crear tokens utilizando la API y tu llave pública. Pero en este caso recuerda que tu empresa será la responsable de cualquier procedimiento requerido por la normativa **PCI DSS**, como por ejemplo el [siguiente autocuestionario](https://www.pcisecuritystandards.org/documents/SAQ_D_v3_Merchant.pdf). A diferencia de Culqi Checkout, Culqi.JS y los SDKs para móviles, la información de tu cliente no será enviada directamente a Culqi así que no podríamos determinar si manejas o guardas esta información con seguridad.
      </br>
      <div class="box info"><div class="content">Los tokens tienen un tiempo de expiración de 5 minutos por lo que no pueden ser guardados y utilizados más de una vez. Para hacerlos permanentes y generar cargos posteriores o recurrentes, debes <a href="#operation/crear-cliente">crear un cliente</a> y posteriormente <a href="#operation/crear-tarjeta"> crear una tarjeta</a>.</div></div>

      # Objeto Token
      <SchemaDefinition schemaRef="#/components/schemas/Token" />
  - name: Cargos
    description: |
      Para realizar un cargo a una tarjeta de débito o crédito debes crear un objeto cargo. Adicionalmente puedes consultar, devolver un cargo en particular o listar tu historial de cargos en base a los filtros que desees. Todos los cargos están identificados por un ID.
      # Objeto Cargo
      <SchemaDefinition schemaRef="#/components/schemas/Cargo" />
  - name: Devoluciones
    description: |
      Una devolución te permite devolver un cargo que ha sido creado previamente y que aún no ha sido devuelto en su totalidad. Los fondos serán devueltos a la tarjeta de crédito o débito que se ha realizado el cargo.
      # Objeto Devolucion
      <SchemaDefinition schemaRef="#/components/schemas/Devolucion" />
  - name: Clientes
    description: |
      El recurso cliente te permite guardar la información de tus clientes para realizarles cargos recurrentes o posteriores. La API de Culqi permite crear, eliminar y actualizar los datos de tus clientes. Adicionalmente podrás consultar los datos de un cliente en particular o listar a todos tus clientes en base a los filtros que desees.
      # Objeto Cliente
      <SchemaDefinition schemaRef="#/components/schemas/Cliente" />
  - name: Tarjetas
    description: |
      El objeto Tarjeta se usa para crear cargos posteriores a una tarjeta. Recuerda que un Token por si solo vence a los 5 minutos de creado, pero si lo conviertes en una Tarjeta podrás realizar cargos posteriores. Podrás relacionar múltiples tarjeta al mismo Cliente.
      # Objeto Tarjeta
      <SchemaDefinition schemaRef="#/components/schemas/Tarjeta" />      
  - name: Planes
    description: |
      Un plan de suscripción contiene información acerca del tipo de cargo, frecuencia y monto que quieres cargarle a un Card de manera recurrente. Por ejemplo, podrías configurar un plan básico de S/ 50 mensuales y un plan Premium de S/ 75 mensuales.
      # Objeto Plan
      <SchemaDefinition schemaRef="#/components/schemas/Plan" />      
  - name: Suscripciones
    description: |
      El crear suscripciones te permite realizar cargos recurrentes a la tarjeta de un cliente. Una suscripción relaciona al objeto Customer y al objeto Plan que has creado previamente.
      <SchemaDefinition schemaRef="#/components/schemas/Suscripcion" />
  - name: Ordenes
    description: |
      El objeto Orden contiene información de una posible venta. Es usado para el método de pago en efectivo. Una vez es pagada la orden por tu cliente via banco o agente, cambia de estado en el momento de la acción. Con este recurso podrás brindar a tus clientes la opción de pagar sus compras en efectivo.
      # Objeto Orden
      <SchemaDefinition schemaRef="#/components/schemas/Orden" />
  - name: Eventos
    description: |
      Los eventos son formas de hacerte saber cuando algo sucede en tu cuenta de Culqi. Cuando un evento ocurre, Culqi crea un objeto Evento. Por ejemplo, cuando un cargo es exitoso, Culqi crea el evento charge.succeeded. Adicionalmente, si realizas muchas peticiones al API podría llegar a causar multiples eventos. Por ejemplo, si creas una suscripción para un cliente, recibirás el evento customer.subscription.created y el evento charge.succeeded.

      Al igual que los otros recursos del API, puedes consultar un evento particular o listar una serie de eventos directamente desde el API. Adicionalmente, hemos construido un sistema automatizado que enviará eventos directamente a tu servidor: webhooks. Te reconedamos que revises nuestra guía de webhooks para que sepas como configurarlos.
      # Objeto Evento
      <SchemaDefinition schemaRef="#/components/schemas/Evento" />
paths:
  /v2/tokens:
    post:
      tags:
        - Tokens
      summary: Crear Token
      operationId: crear-token
      description: |-
        Crear tokens te permitirá obtener información de la tarjeta y utilizarla para [crear un cargo](#operation/crear-cargo) o [crear una tarjeta](#operation/crear-tarjeta).
        - Si desarrollas una pagina web deberías crear token utilizando Culqi Checkout o CulqiJS
        - Si desarrollas una aplicación móvil deberías crear token utilizando nuestros SDKs para móviles (iOS o Android)
        - Si deseas crear el token de manera directa con el API de Culqi debes llenar el siguiente autocuestionario.
      parameters:
        - schema:
            type: string
            example: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer pk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          required: true
          description: '[Llave pública](#section/Autenticacion)'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              x-examples:
                example-1:
                  card_number: '4111111111111111'
                  cvv: '123'
                  expiration_month: '09'
                  expiration_year: '2020'
                  email: richard@piedpiper.com
              properties:
                card_number:
                  type: string
                  minLength: 13
                  maxLength: 16
                  description: Número de tarjeta.
                  example: '4111111111111111'
                cvv:
                  type: string
                  minLength: 1
                  description: CVV de la tarjeta.
                  example: '123'
                expiration_month:
                  type: string
                  minLength: 1
                  maxLength: 2
                  example: '09'
                  description: Mes de expiración de la tarjeta.
                expiration_year:
                  type: string
                  description: Año de expiración de la tarjeta.
                  minLength: 4
                  maxLength: 4
                  example: '2020'
                email:
                  type: string
                  description: Dirección de correo electrónico del cliente.
                  minLength: 5
                  maxLength: 50
                  example: ichard@piedpiper.com
                metadata:
                  type: object
                  description: Informacion adicional que se quiere enviar del token.
                  example:
                    dni: '5831543'
              required:
                - card_number
                - cvv
                - expiration_month
                - expiration_year
                - email
            examples:
              ejemplo 1:
                value:
                  card_number: '4111111111111111'
                  cvv: '123'
                  expiration_month: '09'
                  expiration_year: '2020'
                  email: ichard@piedpiper.com
                  metadata:
                    dni: '5831543'
        description: ''
      responses:
        '201':
          description: La petición exitosa.
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                ejemplo 1:
                  value:
                    object: token
                    id: tkn_live_0CjjdWhFpEAZlxlz
                    type: card
                    email: richard@piedpiper.com
                    creation_date: 1476132639
                    card_number: 442328******1214
                    last_four: '1214'
                    active: true
                    iin:
                      object: iin
                      bin: '442328'
                      card_brand: Visa
                      card_type: credito
                      card_category: platinum
                      issuer:
                        name: Silicon Valley Bank
                        country: United States
                        country_code: US
                        website: 'https://www.svb.com'
                        phone_number: +1.800.774.7390
                      installments_allowed:
                        - 2
                        - 4
                        - 8
                        - 12
                        - 24
                        - 36
                    client:
                      ip: 72.229.28.185
                      ip_country: United States
                      ip_country_code: US
                      browser: Google Chrome 56.0.2924.87
                      device_fingerprint: 6rITdVTYkWfOrss8
                      device_type: escritorio
                    metadata:
                      dni: '5831543'
    get:
      tags:
        - Tokens
      summary: Listar Tokens
      operationId: get-v2-tokens
      responses:
        '200':
          description: La petición fue exitosa.
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                ejemplo 1:
                  value:
                    data: []
                    paging:
                      previous: null
                      next: null
                      cursors:
                        before: null
                        after: null
      description: 'Listar tokens te permitirá obtener una serie de tokens existentes. De acuerdo a los filtros que uses los tokens serán ordenados de acuerdo a la fecha de creación, siendo el primero el más reciente.'
      parameters:
        - schema:
            type: string
            example: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          required: true
          description: '[Llave privada](#section/Autenticacion)'
        - schema:
            type: string
            example: '1476132639'
          in: query
          name: creation_date
          description: 'Fecha del token en [UNIX Timestamp.](http://www.unixtimestamp.com/)'
        - schema:
            type: string
          in: query
          name: creation_date_to
          description: Número de tarjeta.
        - schema:
            type: string
            enum:
              - Visa
              - Mastercard
              - Amex
              - Diner
          in: query
          name: card_brand
          description: Marca de la tarjeta.
        - schema:
            type: string
            enum:
              - credito
              - debito
              - prepagada
          in: query
          name: card_type
          description: Tipo de tarjeta.
        - schema:
            type: string
            enum:
              - escritorio
              - movil
              - tablet
          in: query
          name: device_type
          description: Tipo de dispositivo.
        - schema:
            type: string
            minLength: 6
            maxLength: 6
            example: '411111'
          in: query
          name: bin
          description: 'Primeros seis dígitos de la tarjeta expresado en formato [ISO/IEC 7812.](https://es.wikipedia.org/wiki/N%C3%BAmero_de_tarjeta_bancaria)'
        - schema:
            type: string
            example: PE
          in: query
          name: country_code
          description: 'Código del país, en formato ISO-3166 (Alfa 2).'
        - schema:
            type: string
            example: '50'
            minLength: 1
            maxLength: 100
          in: query
          name: limit
          description: Cantidad exacta de tokens que se quieren listar.
        - schema:
            type: string
            minLength: 25
            maxLength: 25
            example: tkn_live_7lYOtONQ9LxcgJUW
          in: query
          name: before
          description: El ID del token desde donde se quiere traer los resultados anteriores. No inclusivo.
        - schema:
            type: string
            example: tkn_live_7lYOtOMM6LxcgJUW
            minLength: 25
            maxLength: 25
          in: query
          name: after
          description: El ID del token desde donde se quiere traer los resultados siguientes. No inclusivo.
      requestBody:
        content:
          application/json:
            schema:
              type: object
  '/v2/tokens/{id}':
    get:
      tags:
        - Tokens
      summary: Consultar Token
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                ejemplo 1:
                  value:
                    object: token
                    id: tkn_live_701ug3CDNJOAt5Q6
                    type: card
                    creation_date: 1486686216000
                    card_number: 411111******1111
                    last_four: '1111'
                    active: false
                    iin:
                      object: iin
                      bin: '411111'
                      card_brand: Visa
                      card_type: credit
                      card_category: Clásica
                      issuer:
                        name: 'JPMORGAN CHASE BANK, N.A.'
                        country: United States
                        country_code: PE
                        website: null
                        phone_number: null
                      installments_allowed:
                        - 2
                        - 4
                        - 6
                        - 8
                        - 10
                        - 12
                    client:
                      ip: 190.235.231.153
                      ip_country: Perú
                      ip_country_code: PE
                      browser: null
                      device_fingerprint: null
                      device_type: null
      operationId: get-v2-cc
      description: 'Consultar el detalle de un [token](#operation/crear-token) utilizando su respectivo ID te permitirá obtener como respuesta el objeto token solicitado. Si la petición es inválida te devolveremos un [error.](#section/Errores)'
      parameters:
        - schema:
            type: string
            example: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          required: true
          description: '[Llave privada](#section/Autenticacion)'
    parameters:
      - schema:
          type: string
          example: tkn_live_LVNpj300apa78Pjq
          minLength: 25
          maxLength: 25
        name: id
        in: path
        required: true
        description: ID del token a consultar.
    patch:
      tags:
        - Tokens
      summary: Actualizar Token
      operationId: patch-v2-tokens-id
      responses:
        '200':
          description: La petición fue exitosa.
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                ejemplo 1:
                  value:
                    data: []
                    paging:
                      previous: null
                      next: null
                      cursors:
                        before: null
                        after: null
      description: Actualizar un token te permitirá agregar o reemplazar información a los valores de la metadata que enviaste a la hora de crearla. Cualquier parámetro o valor no provisto será omitido en los valores de la metadata.
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  metadata:
                    order_id: '0001'
              properties:
                metadata:
                  type: object
                  description: Informacion adicional que se quiere enviar del token.
                  example:
                    dni: '5831543'
                    cliente_id: 259
      parameters:
        - schema:
            type: string
            example: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          required: true
          description: '[Llave privada](#section/Autenticacion)'
  /v2/charges:
    post:
      tags:
        - Cargos
      summary: Crear cargo
      operationId: crear-cargo
      responses:
        '200':
          description: La petición fue exitosa.
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                example-1:
                  value:
                    duplicated: false
                    object: charge
                    id: chr_live_kEazTaQBDtzNdwFr
                    amount: 10000
                    amount_refunded: 0
                    current_amount: 10000
                    installments: 0
                    installments_amount: null
                    currency: PEN
                    email: null
                    description: null
                    source:
                      object: token
                      id: tkn_live_701ug3CDNJOAt5Q6
                      type: card
                      creation_date: 1487021247000
                      card_number: 411111******1111
                      last_four: '1111'
                      active: true
                      iin:
                        object: iin
                        bin: '411111'
                        card_brand: Visa
                        card_type: credit
                        card_category: Clásica
                        issuer:
                          name: 'JPMORGAN CHASE BANK, N.A.'
                          country: United States
                          country_code: PE
                          website: null
                          phone_number: null
                        installments_allowed:
                          - 2
                          - 4
                          - 6
                          - 8
                          - 10
                          - 12
                      client:
                        ip: 190.235.231.153
                        ip_country: Perú
                        ip_country_code: PE
                        browser: null
                        device_fingerprint: null
                        device_type: null
                    fraud_score: null
                    antifraud_details:
                      country_code: null
                      first_name: null
                      last_name: null
                      address_city: null
                      address: null
                      email: richard@piedpiper.com
                      phone: null
                      object: client
                    date: 1487021262000
                    reference_code: kwd3glvhbs
                    fee: null
                    fee_details:
                      - type: comision_porcentual
                        amount: 375
                        taxes: 68
                        total_amount: 443
                        currency_code: PEN
                        object: fee
                    net_amount: 9557
                    response_code: venta_exitosa
                    merchant_message: La operación de venta ha sido autorizada exitosamente
                    user_message: Su compra ha sido exitosa.
                    device_ip: 190.235.231.153
                    device_country: null
                    country_ip: null
                    product: token
                    state: Exitosa
                    metadata: null
      description: 'Para realizar un cobro a una tarjeta de débito o crédito es necesario crear un cargo usando un Token o una Tarjeta. Si utilizas tu llave secreta de integración no se realizarán cargos reales, a diferencia del entorno de producción donde enviamos tu petición a los bancos y marcas procesadoras.'
      parameters:
        - schema:
            type: string
            example: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          required: true
          description: '[Llave privada](#section/Autenticacion)'
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  amount: '10000'
                  currency_code: PEN
                  email: richard@piedpiper.com
                  source_id: tkn_live_0CjjdWhFpEAZlxlz
              properties:
                amount:
                  type: integer
                  description: Monto del cargo. Sin punto decimal.
                  example: 100.00 serían 10000
                  maximum: 999900
                  minimum: 300
                currency_code:
                  type: string
                  minLength: 1
                  description: Código de la moneda en tres letras (Formato ISO 4217).
                  enum:
                    - PEN
                    - USD
                email:
                  type: string
                  minLength: 5
                  description: Correo electrónico del cliente.
                  example: richard@piedpiper.com
                  maxLength: 50
                source_id:
                  type: string
                  description: ID del objeto Token u objeto Tarjeta que se va usar para realizar el cargo.
                  example: 'tkn_live_701ug3CDNJOAt5Q6, crd_live_TWsfemI22ypplGK6'
                  minLength: 25
                  maxLength: 25
                capture:
                  type: boolean
                  description: Indica si se va realizar la captura automática de la tarjeta. Si no se considera por defecto tiene el valor de "true"
                description:
                  type: string
                  description: Descripción del cargo a realizarse.
                  example: Prueba
                  minLength: 5
                  maxLength: 80
                installments:
                  type: string
                  description: Cantidad de cuotas que se van a aplicar al pago. Estas dependen de las cuotas aceptadas por el objeto token.
                  minLength: 2
                  maxLength: 48
                  example: 2
                metadata:
                  type: object
                  description: Informacion adicional que se quiere enviar del cargo
                  example:
                    dni: '70202170'
                antifraud_details:
                  type: object
                  description: 'Datos de la persona que realiza la compra, para detectar posibles fraudes.'
              required:
                - amount
                - currency_code
                - email
                - source_id
            examples:
              example-1:
                value:
                  amount: '10000'
                  currency_code: PEN
                  email: richard@piedpiper.com
                  source_id: tkn_live_0CjjdWhFpEAZlxlz
    get:
      tags:
        - Cargos
      summary: Listar Cargos
      operationId: get-v2-charges
      responses:
        '200':
          description: La petición fue exitosa.
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                example-1:
                  value:
                    data:
                      - ...
                    paging:
                      previous: 'https://api.culqi.com/v2/charges?limit=50&before=chr_test_ 3nKwGp5EGMA8fxaW'
                      next: 'https://api.culqi.com/v2/charges?limit=50&after=chr_test_3nKwG p5EGMA8fxaW'
                      cursors:
                        before: chr_test_3nKwGp5EGMA8fxaW
                        after: chr_test_3nKwGp5EGMA8fxaW
      description: 'Listar cargos te permitirá obtener una serie de cargos existentes, de acuerdo a los filtros que uses. Los cargos serán ordenados de acuerdo a su fecha de creación, siendo el primero el más reciente.'
      parameters:
        - schema:
            type: string
            example: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          required: true
          description: '[Llave privada](#section/Autenticacion)'
        - schema:
            type: string
            minLength: 300
            maxLength: 999900
            example: 500.00 sería 50000
          in: query
          name: amount
          description: Monto de los cargos en céntimos.
        - schema:
            type: string
            minLength: 300
            maxLength: 999900
            example: 100.00 sería 10000
          in: query
          name: min_amount
          description: Monto mínimo de los cargos en céntimos.
        - schema:
            type: string
            example: 100.00 sería 10000
            maxLength: 999900
            minLength: 300
          in: query
          name: max_amount
          description: Monto máximo de los cargos en céntimos.
        - schema:
            type: string
            minLength: 2
            maxLength: 48
            example: '4'
          in: query
          name: installments
          description: Cantidad de cuotas que se aplicaron al Cargo.
        - schema:
            type: string
            example: '8'
            minLength: 2
            maxLength: 48
          in: query
          name: min_installments
          description: Cantidad mínima de cuotas que se aplicaron al Cargo.
        - schema:
            type: string
            example: '48'
            minLength: 2
            maxLength: 48
          in: query
          name: max_installments
          description: Cantidad máxima de cuotas que se aplicaron al Cargo.
        - schema:
            type: string
          in: query
          name: currency_code
          description: Código de la moneda en la que se realizaron los cargos cargo en formato ISO 4217.
      requestBody:
        content:
          application/json:
            schema:
              type: object
            examples:
              example-1: {}
        description: ''
  '/v2/charges/{id}':
    parameters:
      - schema:
          type: string
          example: chr_live_7VUwCneoG1XtLeS7
          minLength: 25
          maxLength: 25
        name: id
        in: path
        required: true
        description: ID del cargo.
    get:
      summary: Consultar Cargo
      tags:
        - Cargos
      responses:
        '200':
          description: La petición fue exitosa.
      operationId: get-v2-charges-id
      parameters:
        - schema:
            type: string
            example: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          required: true
          description: '[Llave privada](#section/Autenticacion)'
      description: 'Consultar el detalle de un cargo utilizando el ID devuelto en la petición de creación, esto te permitirá obtener como respuesta todos los parámetros del objeto cargo.'
    patch:
      summary: Actualizar Cargo
      operationId: patch-v2-charges-id
      responses:
        '200':
          description: La petición fue exitosa.
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  metadata:
                    type: object
                    properties:
                      dni:
                        type: string
                        minLength: 1
                    required:
                      - dni
                required:
                  - metadata
                x-examples:
                  example-1:
                    metadata:
                      dni: '71702323'
              examples:
                example-1:
                  value:
                    metadata:
                      dni: '71702323'
      description: Actualizar un cargo te permitirá agregar o reemplazar información a los valores de la metadata que enviaste a la hora de crear un cargo. Cualquier parámetro o valor no provisto será omitido en la el valores de la metadata.
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          description: '[Llave privada](#section/Autenticacion)'
          required: true
      tags:
        - Cargos
  '/v2/charges/{id}/capture':
    parameters:
      - schema:
          type: string
          minLength: 25
          maxLength: 25
          example: chr_live_7VUwCneoG1XtLeS7
        name: id
        in: path
        required: true
        description: ID del cargo a capturar.
    post:
      summary: Capturar Cargos
      operationId: post-v2-charges-id-capture
      responses:
        '200':
          description: La petición fue exitosa.
      description: 'Esta operación permite capturar una transacción que se encuentra en estado "Autorizada", es decir que aún no ha sido capturada. Esta operación es la segunda mitad del flujo de pagos en dos pasos (autorización y captura) que sucede cuando creas un cargo con el parámetro de captura falso. Una vez que captures un cargo, empezará el proceso de transferencia de esa transacción a tu cuenta bancaria. En el caso que no captures un cargo en un periodo de 4 días, el cargo vencerá y los fondos serán devueltos inmediatamente a la tarjeta de tu cliente y el estado del cargo cambiará a "Devuelta".'
      tags:
        - Cargos
      parameters:
        - schema:
            type: string
            example: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          required: true
  /v2/refunds:
    post:
      summary: Crear Devolución
      operationId: post-v2-refunds
      responses:
        '201':
          description: La petición fue exitosa.
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                example-1:
                  value:
                    id: ref_live_TTfLAgaA8nz8PWbO
                    charge_id: chr_live_TWsfemI22ypplGK6
                    amount: 5000
                    reason: Devolución solicitada por el comercio
                    creation_date: 1487039706000
                    object: refund
                    metadata: {}
      parameters:
        - schema:
            type: string
            example: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          required: true
      description: |-
        Para crear una devolución es necesario que envíes el ID del cargo que deseas devolver. Esta operación retorna los fondos a la tarjeta de crédito o débito de tu cliente y adicionalmente las comisión variable cargada por Culqi.

        Opcionalmente podrías devolver solo una parte del cargo, operación conocida como devolución parcial. Puedes hacerlo las veces que quieras hasta que el monto total del cargo haya sido devuelto por completo.
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  amount: 2000
                  charge_id: chr_live_7lYOtONQ9LxcgJUW
                  reason: fraudulento
              properties:
                amount:
                  type: integer
                  description: Monto de la devolución en céntimos.
                  example: 2000
                charge_id:
                  type: string
                  minLength: 1
                  description: ID del cargo a devolver.
                  example: chr_live_3xWxRF1Zswgp6C7N
                reason:
                  type: string
                  minLength: 1
                  description: 'Razón o motivo de la devolución, es una cadena de texto predefinida.'
                  enum:
                    - duplicado
                    - fraudulento
                    - solicitud_comprador
              required:
                - amount
                - charge_id
                - reason
      tags:
        - Devoluciones
    get:
      summary: Listar Devoluciones
      operationId: get-v2-refunds
      responses:
        '200':
          description: La petición fue exitosa.
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                example-1:
                  value:
                    data: []
                    paging:
                      previous: null
                      next: null
                      cursors:
                        before: null
                        after: null
      description: 'Listar devoluciones te permitirá obtener una serie de devoluciones existentes. De acuerdo a los filtros que uses, las devoluciones serán ordenados de acuerdo a su fecha de creación; siendo el primero el más reciente.'
      parameters:
        - schema:
            type: string
            example: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          required: true
        - schema:
            type: string
            example: '1476132639'
          in: query
          name: creation_date
          description: Fecha de la devolución en UNIX Timestamp
        - schema:
            type: string
            example: '1476132639'
          in: query
          name: creation_date_from
          description: Fecha inicial de las devoluciones en UNIX Timestamp
        - schema:
            type: string
            example: '1476132639'
          in: query
          name: creation_date_to
          description: Fecha limite de las devoluciones en UNIX Timestamp
        - schema:
            type: string
            enum:
              - duplicado
              - fraudulento
              - solicitud_comprador
          in: query
          name: reason
          description: 'Razón o motivo de la devolución, es una cadena de texto predefinida.'
        - schema:
            type: string
            example: '50'
            minLength: 1
            maxLength: 100
          in: query
          name: limit
          description: Cantidad exacta de devoluciones que se quieren listar.
        - schema:
            type: string
            example: ref_live_7lYOtONQ9LxcgJUW
            minLength: 25
            maxLength: 25
          in: query
          name: before
          description: El ID de la devolución desde donde se quiere traer la página anterior. No inclusivo.
        - schema:
            type: string
            example: ref_live_7lYOtOMM6LxcgJUW
            minLength: 25
            maxLength: 25
          in: query
          name: after
          description: El ID de la devolución desde donde se quiere traer la siguiente página. No inclusivo.
      tags:
        - Devoluciones
  '/v2/refunds/{id}':
    parameters:
      - schema:
          type: string
          example: ref_live_LVNpj300apa78Pjq
          minLength: 25
          maxLength: 25
        name: id
        in: path
        required: true
        description: ID de la devolución a consultar.
    get:
      summary: Consultar Devolución
      tags:
        - Devoluciones
      responses:
        '200':
          description: La petición fue exitosa.
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                example-1:
                  value:
                    id: ref_live_TTfLAgaA8nz8PWbO
                    charge_id: chr_live_TWsfemI22ypplGK6
                    amount: 5000
                    reason: Devolución solicitada por el comercio
                    creation_date: 1487039706000
                    object: refund
                    metadata: {}
      operationId: get-v2-refunds-id
      description: Devuelve los detalles de una devolución en particular. Para la petición solo debes enviar el ID de la devolución que Culqi te devolvió a la hora de crear una Devolución.
      parameters:
        - schema:
            type: string
            example: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          required: true
          description: '[Llave privada.](#section/Autenticacion)'
    patch:
      summary: Actualizar Devolución
      operationId: patch-v2-refunds-id
      responses:
        '200':
          description: La petición fue exitosa.
      tags:
        - Devoluciones
      description: Actualizar una devolución te permitirá agregar o reemplazar información a los valores de la metadata que enviaste a la hora de crear una devolución. Cualquier parámetro o valor no provisto será omitido en la el valores de la metadata.
      parameters:
        - schema:
            type: string
            example: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          required: true
          description: '[Llave privada.](#section/Autenticacion)'
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  metadata:
                    dni: '71702323'
              properties:
                metadata:
                  type: object
                  example:
                    dni: '71702323'
              required:
                - metadata
            examples:
              example-1:
                value:
                  metadata:
                    dni: '71702323'
  /v2/customers:
    get:
      summary: Listar Clientes
      tags:
        - Clientes
      responses:
        '200':
          description: La petición fue exitosa.
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                example-1:
                  value:
                    data:
                      - ...
                    paging:
                      previous: 'https://api.culqi.com/v2/customers?limit=50&before=cus_live_ Psny4smwxpmEDooU'
                      next: 'https://api.culqi.com/v2/customers?limit=50&after=cus_live_Lz6Yf sm7QqCPIECW'
                      cursors:
                        before: cus_live_Psny4smwxpmEDooU
                        after: cus_live_Lz6Yfsm7QqCPIECW
      operationId: get-v2-customers
      description: 'Listar Clientes te permitirá obtener una serie de Customer existentes. De acuerdo a los filtros que uses, los clientes serán ordenados de acuerdo a su fecha de creación; siendo el primero el más reciente.'
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          required: true
        - schema:
            type: string
            minLength: 2
            maxLength: 50
            example: Richard
          in: query
          name: first_name
          description: Nombre del cliente.
        - schema:
            type: string
            example: Hendricks
            minLength: 2
            maxLength: 50
          in: query
          name: last_name
          description: Apellido del cliente.
        - schema:
            type: string
            minLength: 5
            maxLength: 50
            example: richard@piedpiper.com
          in: query
          name: email
          description: Correo electrónico del cliente.
        - schema:
            type: string
            minLength: 5
            maxLength: 100
            example: San Francisco Bay
          in: query
          name: address
          description: Dirección física del cliente.
        - schema:
            type: string
            example: San Francisco
            minLength: 5
            maxLength: 15
          in: query
          name: address_city
          description: Ciudad del cliente.
        - schema:
            type: string
            example: '3383478'
            minLength: 5
            maxLength: 15
          in: query
          name: phone_number
          description: Teléfono del cliente.
        - schema:
            type: string
            example: PE
          in: query
          name: country_code
          description: 'Código del país, en formato ISO-3166 (Alfa 2).'
        - schema:
            type: string
            minLength: 1
            example: '50'
            maxLength: 100
          in: query
          name: limit
          description: Cantidad exacta de clientes que se quieren listar.
        - schema:
            type: string
            example: cus_live_7lYOtONQ9LxcgJUW
            minLength: 25
            maxLength: 25
          in: query
          name: before
          description: El ID del cliente desde donde se quiere traer los resultados anteriores. No inclusivo.
        - schema:
            type: string
            example: cus_live_7lYOtOMM6LxcgJUW
            minLength: 25
            maxLength: 25
          in: query
          name: after
          description: El ID del cliente desde donde se quiere traer los resultados siguientes. No inclusivo.
    post:
      summary: Crear Cliente
      operationId: crear-cliente
      responses:
        '201':
          description: La petición fue exitosa.
      description: Crea un cliente enviando los datos de tu cliente y más datos relacionados al mismo a través de los valores de metadata.
      parameters:
        - schema:
            type: string
            example: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          required: true
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  first_name: Richard
                  last_name: Hendricks
                  email: richard@piedpiper.com
                  address: San Francisco Bay Area
                  address_city: Palo Alto
                  country_code: US
                  phone_number: '6505434800'
              properties:
                address:
                  type: string
                  description: Dirección del cliente.
                  example: Av. Brasil 123
                  minLength: 2
                  maxLength: 50
                address_city:
                  type: string
                  description: Ciudad del cliente
                  minLength: 2
                  maxLength: 50
                  example: Lima
                country_code:
                  type: string
                  minLength: 1
                  description: Código ISO-3166-1 (Alfa 2) del país del cliente.
                  example: PE
                email:
                  type: string
                  description: Correo electrónico del cliente
                  minLength: 5
                  maxLength: 50
                  example: richard@piedpiper.com
                  format: email
                first_name:
                  type: string
                  description: Nombre del cliente.
                  example: Richard
                  minLength: 2
                  maxLength: 50
                last_name:
                  type: string
                  description: Apellido del cliente.
                  example: Hendricks
                  minLength: 2
                  maxLength: 50
                phone_number:
                  type: string
                  description: Teléfono del cliente.
                  example: '6505434800'
                  minLength: 5
                  maxLength: 15
                metadata:
                  type: object
                  description: Informacion adicional que se requiera enviar al crear el plan.
                  example:
                    codigo_alumno: 0001A
              required:
                - address
                - address_city
                - country_code
                - email
                - first_name
                - last_name
                - phone_number
            examples:
              example-1:
                value:
                  first_name: Richard
                  last_name: Hendricks
                  email: richard@piedpiper.com
                  address: San Francisco Bay Area
                  address_city: Palo Alto
                  country_code: US
                  phone_number: '6505434800'
      tags:
        - Clientes
  '/v2/customers/{id}':
    parameters:
      - schema:
          type: string
          minLength: 25
          maxLength: 25
          example: cus_live_QDO81GT6Zaseewkp
        name: id
        in: path
        required: true
        description: ID del cliente.
    get:
      summary: Consultar Cliente
      tags:
        - Clientes
      responses:
        '200':
          description: La petición fue exitosa.
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                example-1:
                  value:
                    object: customer
                    id: cus_live_Lz6Yfsm7QqCPIECW
                    creation_date: 1487041774773
                    email: richard@piedpiper.com
                    antifraud_details:
                      country_code: US
                      first_name: Richard
                      last_name: Richard
                      address_city: Palo Alto
                      address: San Francisco Bay Area
                      email: null
                      phone: '6505434800'
                      object: client
      operationId: get-v2-customers-id
      description: Devuelve los detalles de un cliente en particular. En la petición solo debes enviar el ID del cliente que Culqi te devolvió a la hora de crear uno.
      parameters:
        - schema:
            type: string
            default: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          required: true
    patch:
      summary: Actualizar Cliente
      operationId: patch-v2-customers-id
      responses:
        '200':
          description: OK
      description: Actualizar un cliente te permitirá modificar los valores enviados a la hora de crearlo. Cualquier parámetro que no sea proveído en la petición mantendrá el valor de la creación.
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          required: true
          description: '[Llave privada.](#section/Autenticacion)'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties: {}
            examples:
              example-1:
                value:
                  metadata:
                    dni: '71702323'
          application/xml:
            schema:
              description: ''
              type: object
              properties:
                metadata:
                  type: object
                  properties:
                    dni:
                      type: string
                      minLength: 1
                  required:
                    - dni
              required:
                - metadata
              x-examples:
                example-1:
                  metadata:
                    dni: '71702323'
        description: ''
      tags:
        - Clientes
    delete:
      summary: Eliminar Cliente
      operationId: delete-v2-customers-id
      responses:
        '200':
          description: Petición exitosa.
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                example-1:
                  value:
                    id: cus_live_LbB0x6yB2Pd0JJnP
                    deleted: true
                    merchant_message: Se eliminó el cliente con ID cus_live_LbB0x6yB2Pd0JJnP exitosamente.
      description: Elimina de manera permanente a un cliente. Esta operación cancela cualquier cargo posterior o suscripción que esté relacionada con el Cliente.
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          required: true
      tags:
        - Clientes
  /v2/plans:
    parameters: []
    get:
      summary: Listar Planes
      tags:
        - Planes
      responses:
        '200':
          description: La petición fue exitosa
      operationId: get-users-userId
      description: 'Listar planes te permitirá obtener una serie de planes existentes. De acuerdo a los filtros que uses los planes serán ordenados de acuerdo a la fecha de creación, siendo el primero el más reciente.'
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          description: application/json
        - schema:
            type: string
          in: header
          name: Authorization
          description: '[Llave_privada](#section/Autenticacion)'
        - schema:
            type: integer
            example: Prueba
            minLength: 300
            maxLength: 999900
            minimum: 300
            maximum: 999900
          in: query
          name: amount
          description: Monto de los planes en céntimos.
        - schema:
            type: integer
            example: 100.00 sería 10000
            minLength: 300
            maxLength: 999900
            minimum: 300
            maximum: 999900
          in: query
          name: min_amount
          description: Monto mínimo de los planes en céntimos.
        - schema:
            type: integer
            example: 100.00 sería 10000
            minimum: 300
            maximum: 999900
          in: query
          name: max_amount
          description: Monto máximo de los planes en céntimos.
        - schema:
            type: string
            minLength: 5
            maxLength: 15
            example: '34343443434'
          in: query
          name: creation_date_from
          description: Fecha inicial de los planes en UNIX Timestamp
        - schema:
            type: string
            minLength: 5
            maxLength: 15
            example: '34343443434'
          in: query
          name: creation_date_to
          description: Fecha limite de los planes en UNIX Timestamp
        - schema:
            type: integer
            minimum: 1
            maximum: 100
            example: 50
          in: query
          name: limit
          description: Cantidad exacta de planes que se quieren listar.
        - schema:
            type: string
            minLength: 25
            maxLength: 25
            example: pln_live_7lYOtONQ9LxcgJUW
          in: query
          name: before
          description: El ID del plan desde donde se quiere traer los resultados anteriores. No inclusivo.
        - schema:
            type: string
            example: pln_live_7lYOtOMM6LxcgJUW
            minLength: 25
            maxLength: 25
          in: query
          name: after
          description: El ID del plan desde donde se quiere traer los resultados siguientes. No inclusivo.
    post:
      summary: Crear Plan
      operationId: post-v2-plans
      responses:
        '201':
          description: La petición fue exitosa
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  object:
                    type: string
                    minLength: 1
                  id:
                    type: string
                    minLength: 1
                  creation_date:
                    type: number
                  name:
                    type: string
                    minLength: 1
                  amount:
                    type: number
                  currency_code:
                    type: string
                    minLength: 1
                  interval_count:
                    type: number
                  interval:
                    type: string
                    minLength: 1
                  limit:
                    type: number
                  trial_days:
                    type: number
                  total_subscriptions:
                    type: number
                  metadata:
                    type: object
                    properties: {}
                    required: []
                required:
                  - object
                  - id
                  - creation_date
                  - name
                  - amount
                  - currency_code
                  - interval_count
                  - interval
                  - limit
                  - trial_days
                  - total_subscriptions
                  - metadata
                x-examples:
                  example-1:
                    object: plan
                    id: pln_live_uvBzalwuY3UsxJ9l
                    creation_date: 1556569427000
                    name: Hooli Subscription
                    amount: 2000
                    currency_code: PEN
                    interval_count: 1
                    interval: Meses
                    limit: 0
                    trial_days: 0
                    total_subscriptions: 0
                    metadata: {}
      description: Esta operación te permitirá configurar los detalles del plan para que puedas realizar cargos recurrentes. Adicionalmente podrás hacer esta operación vía el Panel de Culqi.
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          description: application/json
        - schema:
            type: string
          in: header
          name: Authorization
          description: '[Llave_privada](#section/Autenticacion)'
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  name: Hooli Subscription
                  amount: 2000
                  currency_code: PEN
                  interval: meses
                  interval_count: 1
                  limit: 12
              properties:
                name:
                  type: string
                  description: |-
                    Nombre del plan.

                    Ejemplo: "Mi primer plan Básico"
                  example: '"Mi primer plan Básico"'
                  minLength: 2
                  maxLength: 50
                amount:
                  type: number
                  description: |-
                    Monto del plan a cobrar recurrentemente. Sin punto decimal

                    Ejemplo: 100.00 serían 10000
                  example: 100.00 serían 10000
                  minimum: 300
                  maximum: 999900
                currency_code:
                  type: string
                  minLength: 1
                  description: |
                    Código de la moneda en tres letras (Formato ISO 4217).

                    Ejemplo: "PEN", "USD"
                  example: '"PEN", "USD"'
                interval:
                  type: string
                  minLength: 1
                  example: 'Valores permitidos: dias, semanas, meses, años,'
                  maxLength: 7
                  description: 'Cantidad de cada cuanto se deben ejecutar los cargos del plan. Si en ''interval'' pusimos "meses", poner valor 1 en este campo hará que se cobre cada mes.'
                interval_count:
                  type: number
                  description: |-
                    Cantidad de cada cuanto se deben ejecutar los cargos del plan. Si en 'interval' pusimos "meses", poner valor 1 en este campo hará que se cobre cada mes.

                    Ejemplo: 1
                  example: 1
                  minimum: 1
                  maximum: 999
                trial_days:
                  type: integer
                  description: |-
                    Número de días del periodo de prueba (sin costo).

                    Ejemplo: "5
                  example: '"5"'
                  minimum: 1
                  maximum: 99
                limit:
                  type: number
                  description: |-
                    Limite de cargos a realizar (ciclos). Si no se define, es automáticamente sin límite.

                    Ejemplo: "12"
                  example: '"12"'
                  minimum: 2
                  maximum: 99
                metadata:
                  type: object
                  description: |
                    Informacion adicional que se requiera enviar al crear el plan.

                    Example: {"descripcion" : "Este es un plan para poder agruparlos a todos."}
              required:
                - name
                - amount
                - currency_code
                - interval
                - interval_count
            examples:
              example-1:
                value: {}
      tags:
        - Planes
  '/v2/plans/{id}':
    parameters:
      - schema:
          type: string
          minLength: 25
          maxLength: 25
          example: '"pln_live_QDO81GT6Zaseewkp"'
        name: id
        in: path
        required: true
        description: ID del plan a consultar
    get:
      summary: Consultar Plan
      tags:
        - Planes
      responses:
        '200':
          description: La petición fue exitosa
      operationId: get-v2-plans-id
      description: Devuelve los detalles de un Plan en particular. Para la petición solo debes enviar el ID del Plan que Culqi te devolvió a la hora de crearlo.
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          description: application/json
        - schema:
            type: string
          in: header
          name: Authorization
          description: '[Llave_privada](#section/Autenticacion)'
      requestBody:
        content:
          application/json:
            schema:
              type: object
        description: ''
    patch:
      summary: Actualizar Plan
      operationId: patch-v2-plans-id
      responses:
        '200':
          description: La petición fue exitosa
      description: Actualizar un plan te permitirá agregar o reemplazar información a los valores de la metadata que enviaste a la hora de crearla. Cualquier parámetro o valor no provisto será omitido en los valores de la metadata.
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          description: application/json
        - schema:
            type: string
          in: header
          name: Authorization
          description: '[Llave_privada](#section/Autenticacion)'
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  metadata:
                    descripcion: Plan inicial.
              properties:
                metadata:
                  type: object
                  required:
                    - descripcion
                  description: |-
                    Información adicional del plan a modificar

                    Example: "{"descripcion"=>"Este es un plan simple."}"
                  properties:
                    descripcion:
                      type: string
                      minLength: 1
              required:
                - metadata
      tags:
        - Planes
    delete:
      summary: Eliminar Plan
      operationId: delete-v2-plans-id
      responses:
        '200':
          description: La petición fue exitosa
      description: Elimina de manera permanente un Plan. Esta operación cancela todas las suscripciones relacionadas con el Plan.
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          description: application/json
        - schema:
            type: string
          in: header
          name: Authorization
          description: '[Llave_privada](#section/Autenticacion)'
      tags:
        - Planes
  /v2/cards:
    post:
      summary: Crear Tarjeta
      operationId: crear-tarjeta
      responses:
        '201':
          description: La petición fue exitosa.
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                example-1:
                  value:
                    object: card
                    id: crd_live_RzjTyGUwZioJLpZt
                    date: 1487044833972
                    customer_id: cus_live_Lz6Yfsm7QqCPIECW
                    token:
                      object: token
                      id: tkn_live_vEcZSCOVz5PGDPdQ
                      type: card
                      creation_date: 1487044809000
                      card_number: 411111******1111
                      last_four: '1111'
                      active: true
                      iin:
                        object: iin
                        bin: '411111'
                        card_brand: Visa
                        card_type: credit
                        card_category: Clásica
                        issuer:
                          name: 'JPMORGAN CHASE BANK, N.A.'
                          country: United States
                          country_code: PE
                          website: null
                          phone_number: null
                        installments_allowed:
                          - 2
                          - 4
                          - 6
                          - 8
                          - 10
                          - 12
                      client:
                        ip: 190.235.231.153
                        ip_country: Perú
                        ip_country_code: PE
                        browser: null
                        device_fingerprint: null
                        device_type: null
                    metadata: {}
      description: A la hora de crear una Tarjeta tendrás que relacionar un token con un Cliente que has creado anteriormente para que este pueda ser utilizado para pagos posteriores y suscripciones.
      tags:
        - Tarjetas
      parameters:
        - schema:
            type: string
            example: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          required: true
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  customer_id: cus_live_Lz6Yfsm7QqCPIECW
                  token_id: tkn_live_vEcZSCOVz5PGDPdQ
              properties:
                customer_id:
                  type: string
                  minLength: 25
                  maxLength: 25
                  description: ID de la tarjeta a enlazar a la tarjeta.
                  example: cus_live_Lz6Yfsm7QqCPIECW
                token_id:
                  type: string
                  description: ID del token generado al Crear Token.
                  example: tkn_live_vEcZSCOVz5PGDPdQ
                  minLength: 25
                  maxLength: 25
                validate:
                  type: boolean
                  default: true
                  description: 'Indica si se debe realizar una validación a la tarjeta, es decir, Culqi crea un cargo mínimo (3 PEN) y lo devuelve inmediatamente. Si no se considera el parametro, por defecto tiene un valor true.'
                metadata:
                  type: object
                  description: Informacion adicional que se requiera enviar al crear la tarjeta.
                  example:
                    marca_tarjeta: VISA
              required:
                - customer_id
                - token_id
    get:
      summary: Listar Tarjetas
      operationId: get-v2-cards
      responses:
        '200':
          description: La petición fue exitosa.
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                example-1:
                  value:
                    data:
                      - ...
                    paging:
                      previous: 'https://api.culqi.com/v2/cards?limit=50&before=crd_live_RzjT yGUwZioJLpZt'
                      next: 'https://api.culqi.com/v2/cards?limit=50&after=crd_live_Z1YXhVdg6 0B0UCLI'
                      cursors:
                        before: crd_live_RzjTyGUwZioJLpZt
                        after: crd_live_Z1YXhVdg60B0UCLI
      tags:
        - Tarjetas
      description: 'Listar Tarjetas te permitirá obtener una serie de Tarjetas existentes. De acuerdo a los filtros que uses, las tarjetas serán ordenados de acuerdo a su fecha de creación; siendo el primero el más reciente.'
      parameters:
        - schema:
            type: string
            example: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          required: true
          description: '[Llave privada.](#section/Autenticacion)'
        - schema:
            type: string
            example: '1476132639'
          in: query
          name: creation_date
          description: Fecha de la tarjeta en UNIX Timestamp.
        - schema:
            type: string
            example: '1476132639'
            minLength: 5
            maxLength: 15
          in: query
          name: creation_date_from
          description: Fecha inicial de las tarjetas en UNIX Timestamp.
        - schema:
            type: string
            example: '1476132639'
            minLength: 5
            maxLength: 15
          in: query
          name: creation_date_to
          description: Fecha limite de las tarjetas en UNIX Timestamp.
        - schema:
            type: string
            enum:
              - Visa
              - Mastercard
              - Amex
              - Diners
          in: query
          name: card_brand
          description: Marca de la tarjeta.
        - schema:
            type: string
            enum:
              - credito
              - debito
              - prepagada
          in: query
          name: card_type
          description: Tipo de la tarjeta a consultar.
        - schema:
            type: string
            enum:
              - escritorio
              - movil
              - tablet
          in: query
          name: device_type
          description: Tipo de dispositivo.
        - schema:
            type: string
            example: '411111'
            minLength: 5
            maxLength: 15
          in: query
          name: bin
          description: Son los primeros seis dígitos del número de tarjeta.
        - schema:
            type: string
            example: PE
          in: query
          name: country_code
          description: 'Código del país, en formato ISO-3166 (Alfa 2).'
        - schema:
            type: string
            example: '50'
            minLength: 1
            maxLength: 100
          in: query
          name: limit
          description: Cantidad exacta de clientes que se quieren listar.
        - schema:
            type: string
            minLength: 25
            maxLength: 25
            example: crd_live_7lYOtONQ9LxcgJUW
          in: query
          name: before
          description: El ID de la tarjeta desde donde se quiere traer los resultados anteriores. No inclusivo.
        - schema:
            type: string
            example: crd_live_7lYOtOMM6LxcgJUW
            minLength: 25
            maxLength: 25
          in: query
          name: after
          description: El ID de la tarjeta desde donde se quiere traer los resultados siguientes. No inclusivo..
  '/v2/cards/{id}':
    parameters:
      - schema:
          type: string
          minLength: 25
          maxLength: 25
          example: crd_live_QDO81GT6Zaseewkp
        name: id
        in: path
        required: true
        description: ID de la tarjeta.
    get:
      summary: Consultar Tarjeta
      tags:
        - Tarjetas
      responses:
        '200':
          description: La petición fue exitosa.
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                example-1:
                  value:
                    object: card
                    id: crd_live_RzjTyGUwZioJLpZt
                    date: 1487044833972
                    customer_id: cus_live_Lz6Yfsm7QqCPIECW
                    token:
                      object: token
                      id: tkn_live_vEcZSCOVz5PGDPdQ
                      type: card
                      creation_date: 1487044809000
                      card_number: 411111******1111
                      last_four: '1111'
                      active: true
                      iin:
                        object: iin
                        bin: '411111'
                        card_brand: Visa
                        card_type: credit
                        card_category: Clásica
                        issuer:
                          name: 'JPMORGAN CHASE BANK, N.A.'
                          country: United States
                          country_code: PE
                          website: null
                          phone_number: null
                        installments_allowed:
                          - 2
                          - 4
                          - 6
                          - 8
                          - 10
                          - 12
                      client:
                        ip: 190.235.231.153
                        ip_country: Perú
                        ip_country_code: PE
                        browser: null
                        device_fingerprint: null
                        device_type: null
                    metadata: null
      operationId: get-v2-cards-id
      description: 'Consultar el detalle de una tarjeta utilizando el ID devuelto en la petición para crear una Tarjeta, te permitirá obtener como respuesta todos los parámetros de esta. Si la petición es inválida te devolveremos un error.'
      parameters:
        - schema:
            type: string
            example: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          required: true
          description: '[Llave privada](#section/Autenticacion)'
    patch:
      summary: Actualizar Tarjeta
      operationId: actualizar-tarjeta
      responses:
        '200':
          description: Petición fue exitosa.
      description: 'Actualizar una Tarjeta te permitirá agregar o reemplazar información a los valores de la metadata que enviaste a la hora de crearla. Cualquier parámetro o valor no provisto será omitido en los valores de la metadata. Actualmente, también permite actualizar el **ID del token asociado.**'
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          description: application/json
          required: true
        - schema:
            type: string
          in: header
          name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          required: true
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                token_id:
                  type: string
                  description: 'ID del token nuevo a actualizar en la Tarjeta, este es generado previamente en Crear Token.'
                  example: tkn_live_vEcZSCOVz5PGDPdQ
                  minLength: 25
                  maxLength: 25
                metadata:
                  type: object
                  example:
                    dni: '71701978'
            examples:
              example-1:
                value:
                  metadata:
                    dni: '71702323'
      tags:
        - Tarjetas
    delete:
      summary: Eliminar Tarjeta
      operationId: delete-v2-cards-id
      responses:
        '200':
          description: La petición fue exitosa.
      description: 'Eliminar una Tarjeta te permitirá limpiar la cantidad de tarjetas asociadas a un Customer por varios motivos: la tarjeta superó la cantidad de denegaciones esperadas o el cliente es fraudulento y no quieres realizar más cobros a ese cliente, prevenir que tus clientes no paguen una suscripción de la que se han retirado, entre otras cosas. La petición devuelva el objeto Card eliminado.'
      parameters:
        - schema:
            type: string
            example: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          required: true
          description: '[Llave privada.](#section/Autenticacion)'
      tags:
        - Tarjetas
  /v2/subscriptions:
    parameters: []
    get:
      summary: Listar Suscripciones
      tags:
        - Suscripciones
      responses:
        '200':
          description: La petición fue exitosa
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
              examples:
                Get User Alice Smith:
                  value:
                    id: 142
                    firstName: Alice
                    lastName: Smith
                    email: alice.smith@gmail.com
                    dateOfBirth: '1997-10-31'
                    emailVerified: true
                    signUpDate: '2019-08-24'
      operationId: get-users-userId
      description: 'Listar suscripciones te permitirá obtener una serie de suscripciones existentes. De acuerdo a los filtros que uses, las diferentes suscripciones serán ordenadas de acuerdo a su fecha de creación; siendo el primero el más reciente.'
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          description: application/json
        - schema:
            type: string
          in: header
          name: Authorization
          description: Bearer << llave_privada >>
        - schema:
            type: string
            example: '2000'
            minLength: 300
            maxLength: 9999900
          in: query
          name: amount
          description: Monto de los planes asociados a las suscripciones
        - schema:
            type: string
            example: '2000'
            minLength: 300
            maxLength: 9999900
          in: query
          name: min_amount
          description: Monto mínimo de los planes asociados a las suscripciones
        - schema:
            type: string
            example: '4000'
            minLength: 300
            maxLength: 9999900
          in: query
          name: max_amount
          description: Monto máximo de los planes asociados a las suscripciones
        - schema:
            type: string
            example: '1476132639'
            format: date
          in: query
          name: date
          description: Fecha de la suscripción en UNIX Timestamp
        - schema:
            type: string
            example: '1476132639'
            format: date
          in: query
          name: date_from
          description: Fecha inicial de las suscripciones en UNIX Timestamp
        - schema:
            type: string
            example: '1476132639'
            format: date
          in: query
          name: date_to
          description: Fecha limite de las suscripciones en UNIX Timestamp
        - schema:
            type: string
            example: 'Valores permitidos: Dias, Semanas, Meses, Años,'
          in: query
          name: interval
          description: Intervalo de los planes asociados a las suscripciones
        - schema:
            type: string
            example: 'Activa, Cancelada, Finalizada,'
          in: query
          name: status
          description: Estado de las suscripciones  Valores permitidos
        - schema:
            type: string
            example: '50'
            minLength: 1
            maxLength: 100
          in: query
          name: limit
          description: Cantidad exacta de suscripciones que se quieren listar.
        - schema:
            type: string
            example: sub_live_7lYOtONQ9LxcgJUW
            minLength: 25
            maxLength: 25
          in: query
          name: before
          description: El ID de la suscripción desde donde se quiere traer la página anterior. No inclusivo.
        - schema:
            type: string
            minLength: 25
            maxLength: 25
            example: sub_live_7lYOtOMM6LxcgJUW
          in: query
          name: after
          description: El ID de la suscripción desde donde se quiere traer la siguiente página. No inclusivo.
    patch:
      summary: Update User Information
      operationId: patch-users-userId
      responses:
        '200':
          description: User Updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
              examples:
                Updated User Rebecca Baker:
                  value:
                    id: 13
                    firstName: Rebecca
                    lastName: Baker
                    email: rebecca@gmail.com
                    dateOfBirth: '1985-10-02'
                    emailVerified: false
                    createDate: '2019-08-24'
        '404':
          description: User Not Found
        '409':
          description: Email Already Taken
      description: Update the information of an existing user.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                firstName:
                  type: string
                lastName:
                  type: string
                email:
                  type: string
                  description: 'If a new email is given, the user''s email verified property will be set to false.'
                dateOfBirth:
                  type: string
            examples:
              Update First Name:
                value:
                  firstName: Rebecca
              Update Email:
                value:
                  email: rebecca@gmail.com
              Update Last Name & Date of Birth:
                value:
                  lastName: Baker
                  dateOfBirth: '1985-10-02'
        description: Patch user properties to update.
    post:
      summary: Crear Suscripción
      operationId: post-v2-subscriptions
      responses:
        '201':
          description: La petición fue exitosa
      description: Esta operación relaciona la tarjeta de un cliente con un plan de cobranza recurrente creado anteriormente.
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          description: application/json
        - schema:
            type: string
          in: header
          name: Authorization
          description: Bearer << llave_privada >>
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  card_id: crd_live_b3MMECR8cJ5tZqf2
                  plan_id: pln_live_jwOAYnxX49o2ydWv
              properties:
                card_id:
                  type: string
                  example: '"crd_live_b3MMECR8cJ5tZqf2"'
                  minLength: 25
                  maxLength: 25
                  description: ID de la tarjeta.
                plan_id:
                  type: string
                  description: ID del plan.
                  example: '"pln_live_jwOAYnxX49o2ydWv"'
                  minLength: 25
                  maxLength: 25
                metadata:
                  type: object
                  description: |-
                    Información adicional de la suscripción

                    Example: {"cliente_id": "256", "documento_identidad": "000551487"}
              required:
                - card_id
                - plan_id
        description: ''
  '/v2/subscriptions/{id}':
    parameters:
      - schema:
          type: string
          minLength: 25
          maxLength: 25
          example: '"sub_live_0CjjdWhFpEAZlxlz"'
        name: id
        in: path
        required: true
        description: ID de la suscripcion a consultar.
    get:
      summary: Consultar Suscripción
      tags:
        - Suscripciones
      responses:
        '200':
          description: La petición fue exitosa
      operationId: get-v2-subscriptions-id
      description: Devuelve los detalles de una Suscripción en particular. Para la petición solo debes enviar el ID de la Suscripción que Culqi te devolvió a la hora de crearlo.
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          description: application/json
        - schema:
            type: string
          in: header
          name: Authorization
          description: Bearer << llave_privada >>
    patch:
      summary: Actualizar Suscripción
      operationId: patch-v2-subscriptions-id
      responses:
        '200':
          description: La petición fue exitosa
      description: Actualizar una suscripción te permitirá agregar o reemplazar información a los valores de la metadata que enviaste a la hora de crearla. Cualquier parámetro o valor no provisto será omitido en los valores de la metadata.
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          description: application/json
        - schema:
            type: string
          in: header
          name: Authorization
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  metadata:
                    dni: '71702323'
              properties:
                metadata:
                  type: object
                  required:
                    - dni
                  description: |-
                    Información adicional de la suscripción a modificar

                    Example: {"cliente_id": "259", "documento_identidad": "000551337"}
                  properties:
                    dni:
                      type: string
                      minLength: 1
              required:
                - metadata
    delete:
      summary: Cancelar Suscripción
      operationId: delete-v2-subscriptions-id
      responses:
        '200':
          description: La pertición fue exitosa
      description: Esta operación permite cancelar la suscripción a una tarjeta para que el cliente no vuelva a ser cobrado nuevamente.
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          description: application/json
        - schema:
            type: string
          in: header
          name: Authorization
          description: Bearer << llave_privada >>
  /v2/orders:
    parameters: []
    get:
      summary: Listar órdenes
      tags:
        - Ordenes
      responses:
        '200':
          description: La petición fue exitosa
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
              examples:
                Get User Alice Smith:
                  value:
                    id: 142
                    firstName: Alice
                    lastName: Smith
                    email: alice.smith@gmail.com
                    dateOfBirth: '1997-10-31'
                    emailVerified: true
                    signUpDate: '2019-08-24'
      operationId: get-users-userId
      description: 'Listas órdenes permtie obtener el listado de órdenes de tu comercio. De acuerdo a los filtros que uses, las ordenes serán ordenados de acuerdo a su fecha de creación; siendo el primero el más reciente.'
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          description: application/json
        - schema:
            type: string
          in: header
          name: Authorization
          description: Bearer << llave_privada >>
        - schema:
            type: integer
            minimum: 100
            maximum: 999900
            example: 50.00 sería 5000
          in: query
          name: amount
          description: Monto de la orden en céntimos.
        - schema:
            type: integer
            example: 100.00 sería 10000
          in: query
          name: min_amount
          description: Monto mínimo de los cargos en céntimos.
        - schema:
            type: integer
            minimum: 100
            maximum: 999900
            example: 100.00 sería 10000
          in: query
          name: max_amount
          description: Monto máximo de los cargos en céntimos.
        - schema:
            type: string
            example: '1476132639'
          in: query
          name: creation_date
          description: Fecha de la tarjeta en UNIX Timestamp
        - schema:
            type: string
            example: '1476132639'
          in: query
          name: creation_date_from
          description: Fecha inicial de las tarjetas en UNIX Timestamp
        - schema:
            type: string
            example: '1476132639'
          in: query
          name: creation_date_to
          description: Fecha limite de las tarjetas en UNIX Timestamp
        - schema:
            type: string
            example: 'created, pending, paid, expired, deleted,'
          in: query
          name: state
          description: 'Estado de la orden a consultar  Valores permitidos:'
        - schema:
            type: integer
            example: 50
            minimum: 1
            maximum: 100
          in: query
          name: limit
          description: Cantidad exacta de ordenes que se quieren listar.
        - schema:
            type: string
            minLength: 25
            maxLength: 25
            example: ord_live_7lYOtONQ9LxcgJUW
          in: query
          name: before
          description: El ID de la orden desde donde se quiere traer los resultados anteriores. No inclusivo.
        - schema:
            type: string
            example: ord_live_7lYOtOMM6LxcgJUW
            minLength: 25
            maxLength: 25
          in: query
          name: after
          description: El ID de la orden desde donde se quiere traer los resultados siguientes. No inclusivo.
    patch:
      summary: Update User Information
      operationId: patch-users-userId
      responses:
        '200':
          description: User Updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
              examples:
                Updated User Rebecca Baker:
                  value:
                    id: 13
                    firstName: Rebecca
                    lastName: Baker
                    email: rebecca@gmail.com
                    dateOfBirth: '1985-10-02'
                    emailVerified: false
                    createDate: '2019-08-24'
        '404':
          description: User Not Found
        '409':
          description: Email Already Taken
      description: Update the information of an existing user.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                firstName:
                  type: string
                lastName:
                  type: string
                email:
                  type: string
                  description: 'If a new email is given, the user''s email verified property will be set to false.'
                dateOfBirth:
                  type: string
            examples:
              Update First Name:
                value:
                  firstName: Rebecca
              Update Email:
                value:
                  email: rebecca@gmail.com
              Update Last Name & Date of Birth:
                value:
                  lastName: Baker
                  dateOfBirth: '1985-10-02'
        description: Patch user properties to update.
    post:
      summary: Crear Orden
      operationId: post-v2-orders
      responses:
        '201':
          description: La petición fue exitosa
      description: 'La creación de una orden permite que se genere un objeto orden con los detalles de la posible venta. Esta orden nace con un estado pendiente de pago. Además, al momento de la creación tu cliente recibe un correo con las instrucciones de como pagar la orden.'
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          description: application/json
        - schema:
            type: string
          in: header
          name: Authorization
          description: Bearer << llave_privada >>
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  amount: 1000
                  currency_code: PEN
                  description: Venta de prueba
                  order_number: pedido-9999
                  client_details:
                    first_name: Richard
                    last_name: Hendricks
                    email: richard@piedpiper.com
                    phone_number: '+51945145288'
                  expiration_date: 1538772846
              properties:
                amount:
                  type: integer
                  description: Monto de la orden. Sin punto decimal.
                  example: 600.00 serían 60000
                  minimum: 600
                  maximum: 999900
                currency_code:
                  type: string
                  minLength: 1
                  description: Código de la moneda en tres letras (Formato ISO 4217).
                  example: PEN
                description:
                  type: string
                  description: Descripcion de la orden
                  example: ' Venta de polo'
                  minLength: 5
                  maxLength: 80
                order_number:
                  type: string
                  minLength: 1
                  description: Numero que identifica a la orden. Debe ser unico
                  example: '"#id-9999"'
                  maxLength: 36
                expiration_date:
                  type: string
                  description: Fecha de expiracion de la orden. Debe ser una fecha futura.
                  example: '"1476132639"'
                  format: time
                client_details:
                  type: object
                  required:
                    - confirm
                    - metadata
                  description: "\t\nDatos de la persona que realiza la compra."
                  properties:
                    confirm:
                      type: boolean
                      description: "\t\nIndica si se debe confirmar la orden. Por defecto tiene un valor true.\n\nExample: true"
                    metadata:
                      type: object
                      description: |-
                        Informacion adicional que se requiera enviar al crear la orden.

                        Example: "{dni"=>"71702999"}"
              required:
                - amount
                - currency_code
                - description
                - order_number
                - expiration_date
                - client_details
  '/v2/orders/{id}/confirm':
    post:
      summary: Confirmar orden
      operationId: post-user
      responses:
        '200':
          description: La peticioón fue exitosa
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
              examples:
                New User Bob Fellow:
                  value:
                    id: 12
                    firstName: Bob
                    lastName: Fellow
                    email: bob.fellow@gmail.com
                    dateOfBirth: '1996-08-24'
                    emailVerified: false
                    createDate: '2020-11-18'
        '400':
          description: Missing Required Information
        '409':
          description: Email Already Taken
      description: 'El uso de este método es opcional. Confirmar una orden permite que una orden se habilite para ser pagada, generandole un código de pago y pasando a estado "pendiente". Solo se puede usar este método cuando la orden se encuentra en estado "creada".'
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          description: application/json
        - schema:
            type: string
          in: header
          name: Authorization
          description: Bearer << llave_privada >>
      tags:
        - Ordenes
    parameters:
      - schema:
          type: string
          example: '"ord_live_0CjjdWhFpEAZlxlz"'
          minLength: 25
          maxLength: 25
        name: id
        in: path
        required: true
        description: ID de la orden a confirmar.
  '/v2/orders/{id}':
    parameters:
      - schema:
          type: string
          example: '"ord_live_QDO81GT6Zaseewkp"'
          minLength: 25
          maxLength: 25
        name: id
        in: path
        required: true
        description: ID de la orden a consultar.
    get:
      summary: Consultar Orden
      tags:
        - Ordenes
      responses:
        '200':
          description: La petición fue exitosa
      operationId: get-v2-orders-id
      description: Consulta el detalle de una orden utilizando su ID. Como respuesta exitosa obtendrás un objeto Orden. Si la petición es inválida te devolveremos un error
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          description: application/json
        - schema:
            type: string
          in: header
          name: Authorization
          description: Bearer << llave_privada >>
    patch:
      summary: Actualizar orden
      operationId: patch-v2-orders-id
      responses:
        '200':
          description: La petición fue exitosa
      description: |
        Con actualizar una orden se puede extender la validez de una orden, es decir, el tiempo de expiración. Además, te permitirá agregar o reemplazar información a los valores de la metadata que enviaste a la hora de crearla. Cualquier parámetro o valor no provisto será omitido en los valores de la metadata.
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          description: application/json
        - schema:
            type: string
          in: header
          name: Authorization
          description: Bearer << llave_privada >>
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  expiration_date: 234354545
              properties:
                expiration_date:
                  type: string
                  description: Nueva fecha de expiración. Debe ser mayor a la fecha de expiración original.
                  example: '"ord_live_vEcZSCOVz5PGDPdQ"'
                  minLength: 25
                  maxLength: 25
                metadata:
                  type: object
                  description: "\t\nInformación adicional de la orden a modificar\n\nExample: \"{\"dni\"=>\"71701978\"}\""
              required:
                - expiration_date
      tags:
        - Ordenes
    delete:
      summary: Eliminar orden
      operationId: delete-v2-orders-id
      responses:
        '200':
          description: La petición fue exitosa
      description: Eliminar una Orden te permitirá desactivar y dejar sin efecto una orden. Solo se puede aplicar para ordenes que se encuentren en estado 'pendiente' o 'creada'.
      parameters:
        - schema:
            type: string
          in: header
          name: Content-type
          description: application/json
        - schema:
            type: string
          in: header
          name: Authorization
          description: Bearer << llave_privada >>
      tags:
        - Ordenes
  '/v2/events/{id}':
    parameters:
      - schema:
          type: string
          example: evt_live_0CjjdWhFpEAZlxlz
          minLength: 25
          maxLength: 25
        name: id
        in: path
        required: true
        description: ID del evento a consultar.
    get:
      summary: Consultar Evento
      tags:
        - Eventos
      responses:
        '200':
          description: La petición fue exitosa.
      operationId: consultar-evento
      description: Devuelve los detalles de un Evento en particular. Para la petición solo debes enviar el ID del Evento que Culqi te devolvió en el Webhook. Todos los eventos comparten una estructura común y la única propiedad que es diferente es el parámetro data.
      parameters:
        - schema:
            type: string
            example: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          required: true
          description: Llave privada.
  /v2/events:
    get:
      summary: Listar Eventos
      tags:
        - Eventos
      responses:
        '200':
          description: La petición fue exitosa.
      operationId: listar-eventos
      description: 'Listar eventos te permitirá obtener una serie de eventos existentes. De acuerdo a los filtros que uses, los diferentes eventos serán ordenados de acuerdo a su fecha de creación; siendo el primero el más reciente.'
      parameters:
        - schema:
            type: string
            example: application/json
          in: header
          name: Content-type
          required: true
        - schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          name: Authorization
          required: true
          description: Llave privada.
        - schema:
            type: string
            example: charge.creation.succeeded (cargos exitosos)
          in: query
          name: type
          description: Tipo de evento a filtrar.
        - schema:
            type: string
            example: '1476132639'
          in: query
          name: creation_date
          description: 'Fecha del evento en [UNIX Timestamp](http://www.unixtimestamp.com/)'
        - schema:
            type: string
            example: '1476132639'
          in: query
          name: creation_date_from
          description: 'Fecha inicial de los eventos en [UNIX Timestamp.](http://www.unixtimestamp.com/)'
        - schema:
            type: string
            example: '1476132639'
          in: query
          name: creation_date_to
          description: 'Fecha limite de los eventos en [UNIX Timestamp.](http://www.unixtimestamp.com/)'
        - schema:
            type: string
            minLength: 1
            maxLength: 100
            example: '50'
          in: query
          name: limit
          description: Cantidad exacta de eventos que se quieren listar.
        - schema:
            type: string
            example: evt_live_7lYOtONQ9LxcgJUW
          in: query
          name: before
          description: El ID del evento desde donde se quiere traer la página anterior. No inclusivo.
        - schema:
            type: string
            example: evt_live_7lYOtOMM6LxcgJUW
            minLength: 25
            maxLength: 25
          in: query
          name: after
          description: El ID del evento desde donde se quiere traer la siguiente página. No inclusivo.
components:
  schemas:
    Token:
      description: Objeto Token
      type: object
      x-examples:
        example-1:
          object: token
          id: tkn_live_0CjjdWhFpEAZlxlz
          type: card
          email: richard@piedpiper.com
          creation_date: 1476132639
          card_number: 442328******1214
          last_four: '1214'
          active: true
          iin:
            object: iin
            bin: '442328'
            card_brand: Visa
            card_type: credito
            card_category: platinum
            issuer:
              name: Silicon Valley Bank
              country: United States
              country_code: US
              website: 'https://www.svb.com'
              phone_number: +1.800.774.7390
            installments_allowed:
              - 2
              - 4
              - 8
              - 12
              - 24
              - 36
          client:
            ip: 72.229.28.185
            ip_country: United States
            ip_country_code: US
            browser: Google Chrome 56.0.2924.87
            device_fingerprint: 6rITdVTYkWfOrss8
            device_type: escritorio
          metadata:
            dni: '5831543'
      title: Objeto Token
      properties:
        object:
          type: string
          minLength: 1
          description: Nombre del objeto
          enum:
            - token
        id:
          type: string
          minLength: 1
          description: ID del token.
          example: tkn_live_0CjjdWhFpEAZlxlz
        type:
          type: string
          minLength: 1
          description: Método de pago.
          enum:
            - card
        creation_date:
          type: integer
          example: 1476132639
          description: 'Fecha de creación del [token en UNIX.](http://www.unixtimestamp.com/)'
        email:
          type: string
          minLength: 1
          description: Dirección de correo electrónico del cliente.
          example: richard@piedpiper.com
        card_number:
          type: string
          minLength: 1
          description: Número de la tarjeta enmascarado.
          example: 442328******1214
        last_four:
          type: string
          minLength: 1
          description: Ultimos cuatro números de la tarjeta.
          example: '1214'
        active:
          type: boolean
          description: Indica si el token se encuentra activo para realizar un cargo.
        iin:
          type: object
          required:
            - object
            - bin
            - card_brand
            - card_type
            - card_category
            - issuer
            - installments_allowed
          description: Información del banco emisor y el tipo de tarjeta.
          properties:
            object:
              type: string
              minLength: 1
              description: Nombre del objeto.
            bin:
              type: string
              description: Código de identificación del banco emisor expresado en formato ISO/IEC 7812.
              example: '442328'
            card_brand:
              type: string
              minLength: 1
              description: Marca de la tarjeta.
              enum:
                - Visa
                - Mastercard
                - Amex
                - Diners
            card_type:
              type: string
              minLength: 1
              description: Tipo de tarjeta.
              enum:
                - credito
                - debito
                - prepagada
            card_category:
              type: string
              minLength: 1
              description: Categoría de la tarjeta.
              example: platinum
            issuer:
              type: object
              required:
                - name
                - country
                - country_code
                - website
                - phone_number
              description: Información del banco emisor de la tarjeta.
              properties:
                name:
                  type: string
                  minLength: 1
                  description: Nombre del banco emisor de la tarjeta.
                  example: Silicon Valley Bank
                country:
                  type: string
                  minLength: 1
                  example: País del banco emisor de la tarjeta.
                country_code:
                  type: string
                  minLength: 1
                  description: Código del país del banco emisor en formato ISO 3166-2.
                  example: US
                website:
                  type: string
                  description: Sitio web del banco emisor.
                  example: 'https://www.svb.com/'
                phone_number:
                  type: string
                  minLength: 1
                  description: Número de teléfono del banco emisor.
                  example: +1.800.774.7390
            installments_allowed:
              type: array
              description: Número de cuotas soportadas por la tarjeta.
              items:
                type: integer
                example: '2, 4, 8, 12, 24, 36'
        client:
          type: object
          required:
            - ip
            - ip_country
            - ip_country_code
            - browser
            - device_fingerprint
            - device_type
          description: Información del cliente y dispositivo utilizado.
          properties:
            ip:
              type: string
              description: Dirección IP.
              example: 72.229.28.185
            ip_country:
              type: string
              description: País de la Dirección IP.
              example: United States
            ip_country_code:
              type: string
              minLength: 1
              description: Código del país de la Dirección IP en formato ISO 3166-2.
              example: US
            browser:
              type: string
              minLength: 1
              description: Nombre y versión del navegador.
              example: Google Chrome 56.0.2924.87
            device_fingerprint:
              type: string
              description: Código único de identificación del dispositivo.
              example: 6rITdVTYkWfOrss8
            device_type:
              type: string
              description: Tipo de dispositivo.
              enum:
                - escritorio
                - tablet
                - smartphone
        metadata:
          type: object
          description: 'Envía parametros adicionales con información relevante. [Ver más](#section/Metadata)'
          properties:
            dni:
              type: string
              example: '5831543'
      required:
        - object
        - id
        - type
        - creation_date
        - email
        - card_number
        - last_four
        - active
        - iin
        - client
    Cargo:
      title: Cargo
      type: object
      x-examples:
        example-1:
          object: charge
          id: chr_live_kEazTaQBDtzNdwFr
          creation_date: 1556206150307
          amount: 10000
          amount_refunded: 0
          current_amount: 10000
          installments: 0
          installments_amount: null
          currency: PEN
          email: null
          description: Hooli Phone
          source:
            object: token
            id: tkn_live_0CjjdWhFpEAZlxlz
            type: card
            email: richard@piedpiper.com
            creation_date: 1476132639
            card_number: 442328******1214
            last_four: '1214'
            active: true
            iin:
              object: iin
              bin: '442328'
              card_brand: Visa
              card_type: credito
              card_category: platinum
              issuer:
                name: Silicon Valley Bank
                country: United States
                country_code: US
                website: 'https://www.svb.com'
                phone_number: +1.800.774.7390
              installments_allowed:
                - 2
                - 4
                - 8
                - 12
                - 24
                - 36
            client:
              ip: 72.229.28.185
              ip_country: United States
              ip_country_code: US
              browser: Google Chrome 56.0.2924.87
              device_fingerprint: 6rITdVTYkWfOrss8
              device_type: escritorio
      properties:
        object:
          type: string
          description: Nombre del objeto.
        id:
          type: string
          description: ID del cargo.
          example: chr_live_kEazTaQBDtzNdwFr
        creation_date:
          type: integer
          description: Fecha de creación del cargo en UNIX Timestamp.
          example: '1476132639'
        amount:
          type: integer
          description: Monto inicial del cargo en céntimos.
          example: 10000
        amount_refunded:
          description: Monto devuelto del cargo en céntimos.
          example: '500'
          type: integer
        current_amount:
          type: integer
          description: Monto actual del cargo en céntimos.
          example: 9900
        installments:
          type: integer
          description: Número de cuotas aplicadas al cargo.
          example: '2'
        installments_amount:
          type: integer
          description: Monto aproximado de la cuota que se aplicará al cliente.
        currency_code:
          type: string
          description: 'Código de la moneda en la que se realizó el cargo en formato [ISO 3166-2.](https://es.wikipedia.org/wiki/ISO_3166-2)'
          enum:
            - PEN
            - USD
        email:
          type: string
          description: Dirección de correo electrónico del cliente.
          example: richard@piedpiper.com
        description:
          type: string
          description: Descripción del producto o servicio adquirido.
          example: Hooli Phone
        source:
          type: object
          description: 'Información del objeto utilizado para crear el cargo. Puede ser un [token](#tag/Tokens) o una [tarjeta](#tag/Tarjetas).'
        outcome:
          type: object
          description: Información detallada acerca del éxito o denegación del cargo.
        fraud_score:
          type: number
          description: 'Métrica que define el nivel de riesgo de fraude del cliente. Revisa la [guía de análisis de riesgo](https://docs.culqi.com/#/fraude/riesgo) para más información.'
          example: 30
        antifraud_details:
          type: object
          description: Parámetros evaluados para el motor de fraude.
        dispute:
          type: boolean
          description: 'Indica si el cargo está en disputa. Revisa la [guía de disputas](https://docs.culqi.com/#/fraude/disputas) para más información.'
        reference_code:
          type: string
          description: ID de referencia de la marca procesadora.
          example: 1jKsutQy4s
        duplicated:
          type: boolean
          description: Indica si ya se realizó un cargo con la misma información.
        metadata:
          type: object
          description: 'Envía parametros adicionales con información relevante. [Ver más.](#section/Metadata)'
        total_fee:
          type: integer
          description: Monto total de la comisión variable cobrada por Culqi en céntimos.
          example: 471
        fee_details:
          type: object
          description: |-
            Información detallada acerca de la comisión cobrada por Culqi.

            **IMPORTANTE:** Las comisiones se calculan de manera asíncrona, por lo que podrá recibir valores en blanco o NULL temporalmente.
        total_fee_taxes:
          type: integer
          description: Monto total del IGV de la comisión variable expresado en céntimos.
          example: '72'
        transfer_amount:
          type: integer
          description: Monto total a transferir por el cargo en la cuenta bancaria (Descuento de solo la comisión variable).
          example: 9529
        paid:
          type: boolean
          description: 'Indica si el cargo está depositado en la cuenta bancaria. Revisa la [guía de depósitos](https://docs.culqi.com/#/operaciones/depositos) para más información.'
        statement_descriptor:
          type: string
          description: Descripción que aparecerá en el estado de cuenta del cliente para reflejar el cargo.
          example: Culqi
        operations:
          type: object
          description: Información de las operaciones que afectaron el monto original del cargo.
      required:
        - object
        - id
        - creation_date
        - amount
        - current_amount
        - currency_code
        - email
        - source
        - outcome
        - antifraud_details
        - dispute
        - reference_code
        - duplicated
        - metadata
        - total_fee
        - fee_details
        - total_fee_taxes
        - transfer_amount
        - paid
        - statement_descriptor
        - operations
    Devolucion:
      description: ''
      type: object
      x-examples:
        example-1:
          object: refund
          id: ref_live_TTfLAgaA8nz8PWbO
          charge_id: chr_live_kEazTaQBDtzNdwFr
          creation_date: 1556552960000
          amount: 2000
          reason: Devolución solicitada por el comercio
          metadata: {}
      title: Objeto Devolución
      properties:
        object:
          type: string
          minLength: 1
          description: Nombre del objeto.
          enum:
            - refund
        id:
          type: string
          minLength: 1
          description: ID de la devolución.
          example: ref_live_TTfLAgaA8nz8PWbO
        charge_id:
          type: string
          minLength: 1
          example: chr_live_kEazTaQBDtzNdwFr
          description: ID del cargo al que se le aplicó la devolución.
        creation_date:
          type: integer
          description: Fecha de creación de la devolución en UNIX Timestamp.
          example: 1476132639
        amount:
          type: integer
          example: 1000
          description: Monto de la devolución en céntimos.
        reason:
          type: string
          minLength: 1
          description: Razón o motivo de la devolución.
          enum:
            - Duplicado
            - Fraudulento
            - Devolución solicitada por el comercio
        metadata:
          type: object
          description: Envía parametros adicionales con información
      required:
        - object
        - id
        - charge_id
        - creation_date
        - amount
        - reason
    Cliente:
      description: ''
      type: object
      x-examples:
        example-1:
          object: customer
          id: cus_live_Lz6Yfsm7QqCPIECW
          creation_date: 1487041774773
          email: richard@piedpiper.com
          antifraud_details:
            country_code: US
            first_name: Richard
            last_name: Richard
            address_city: Palo Alto
            address: San Francisco Bay Area
            phone: '6505434800'
            object: client
          metadata: {}
      properties:
        object:
          type: string
          minLength: 1
          description: Nombre del objeto.
          enum:
            - customer
        id:
          type: string
          minLength: 1
          description: ID del cliente.
          example: cus_live_TWsfemI22ypplGK6
        creation_date:
          type: integer
          description: Fecha de creación del cliente en UNIX Timestamp.
          example: 1476132639
        email:
          type: string
          minLength: 1
          description: Dirección de correo electrónico del cliente.
          example: richard@piedpiper.com
        antifraud_details:
          type: object
          required:
            - country_code
            - first_name
            - last_name
            - address_city
            - address
            - phone
            - object
          description: Parámetros evaluados para el motor de fraude.
          properties:
            country_code:
              type: string
              minLength: 1
              description: Código del país de la dirección del cliente en formato ISO 3166-2.
              example: US
            first_name:
              type: string
              minLength: 1
              description: Nombres del cliente.
              example: Richard
            last_name:
              type: string
              minLength: 1
              description: Apellidos del cliente.
              example: Hendricks
            address_city:
              type: string
              minLength: 1
              description: Ciudad del cliente.
              example: Palo Alto
            address:
              type: string
              minLength: 1
              description: Dirección del cliente.
              example: 5230 Newell Road
            phone:
              type: string
              minLength: 1
              description: Número de teléfono del cliente.
              example: '65054324800'
            object:
              type: string
              minLength: 1
              description: Nombre del objeto.
              example: client
        metadata:
          type: object
          description: Envía parametros adicionales con información relevante. Ver más.
      required:
        - object
        - id
        - creation_date
        - email
        - antifraud_details
    Tarjeta:
      description: ''
      type: object
      x-examples:
        example-1:
          object: card
          id: crd_live_TWsfemI22ypplGK6
          date: 1487044833972
          customer_id: cus_live_TWsfemI22ypplGK6
          source:
            object: token
            id: tkn_live_vEcZSCOVz5PGDPdQ
            type: card
            creation_date: 1487044809000
            card_number: 411111******1111
            last_four: '1111'
            active: true
            iin:
              object: iin
              bin: '411111'
              card_brand: Visa
              card_type: credit
              card_category: Clásica
              issuer:
                name: 'JPMORGAN CHASE BANK, N.A.'
                country: United States
                country_code: PE
                website: null
                phone_number: null
              installments_allowed:
                - 2
                - 4
                - 6
                - 8
                - 10
                - 12
            client:
              ip: 190.235.231.153
              ip_country: Perú
              ip_country_code: PE
              browser: null
              device_fingerprint: null
              device_type: null
          metadata: {}
      properties:
        object:
          type: string
          description: Nombre del objeto.
          enum:
            - card
        id:
          type: string
          description: ID de la tarjeta.
          example: crd_live_TWsfemI22ypplGK6
        creation_date:
          type: integer
          description: Fecha de creación de la tarjeta en UNIX Timestamp.
          example: 1476132639
        customer_id:
          type: string
          description: ID del cliente.
          example: cus_live_TWsfemI22ypplGK6
        source:
          type: object
          description: |
            Información del objeto <a href="#operation/crear-token">token</a> utilizado para crear una tarjeta.
        metadata:
          type: object
          description: Envia parámetros adicionales con información relevante. Ver más.
      required:
        - object
        - id
        - creation_date
        - customer_id
        - source
        - metadata
    Plan:
      description: ''
      type: object
      x-examples:
        example-1:
          object: plan
          id: pln_live_uvBzalwuY3UsxJ9l
          creation_date: 1556569427000
          name: Hooli Subscription
          amount: 2000
          currency_code: PEN
          interval_count: 1
          interval: Meses
          limit: 0
          trial_days: 0
          total_subscriptions: 0
          metadata: {}
      properties:
        object:
          type: string
          minLength: 1
          description: Nombre del objeto.
          enum:
            - plan
        id:
          type: string
          minLength: 1
          description: ID del plan.
          example: pln_live_QDO81GT6Zaseewkp
        creation_date:
          type: integer
          description: 'Fecha de creación del plan en [UNIX Timestamp](http://www.unixtimestamp.com/).'
          example: 1476132639
        name:
          type: string
          minLength: 1
          description: Descripción del plan.
          example: Hooli Subscription
        amount:
          type: number
          description: Monto del plan a cobrar recurrentemente expresado en céntimos.
          example: 10000
        currency_code:
          type: string
          minLength: 1
          description: 'Código del país de la moneda de la suscripción en formato [ISO 3166-2](https://es.wikipedia.org/wiki/ISO_3166-2).'
          enum:
            - PEN
            - USD
        interval_count:
          type: integer
          description: Define el intervalo de cada cuánto se va a realizar un cargo.
          example: 1
        interval:
          type: string
          minLength: 1
          description: Define el periodo de un cargo recurrente.
          enum:
            - dias
            - semanas
            - meses
            - años
        limit:
          type: integer
          description: 'Define el límite de cuántos cargos se deben realizar. Si no se define, los cargos recurrentes son infinitos.'
          example: 2
        trial_days:
          description: Número de días del "periodo de pruebas".
          example: 1
          type: integer
        total_subscriptions:
          type: integer
          description: Número de suscripciones afiliadas a un plan.
          example: 79
        metadata:
          type: object
          description: 'Envía parametros adicionales con información relevante. [Ver más](#section/Metadata).'
      required:
        - object
        - id
        - creation_date
        - name
        - amount
        - currency_code
        - interval_count
        - interval
        - limit
        - trial_days
        - total_subscriptions
        - metadata
    Orden:
      description: ''
      type: object
      x-examples:
        example-1:
          object: order
          id: ord_live_xjmEW4dIyJM9G4cc
          amount: 6000
          payment_code: '13642064'
          currency_code: PEN
          description: Venta de polo
          order_number: '#id-9999'
          state: pending
          total_fee: null
          net_amount: null
          fee_details: null
          creation_date: 1538540487000
          expiration_date: 1538540700000
          updated_at: null
          paid_at: null
          available_on: null
          metadata: null
          qr: iVBORw0KGgoAAAANSUhE..........K5CYII=
          cuotealo: url de cuotéalo
      properties:
        object:
          type: string
          minLength: 1
          enum:
            - order
          description: Nombre del objeto.
        id:
          type: string
          minLength: 1
          description: ID de la Orden.
          example: ord_live_TWsfemI22ypplGK6
        amount:
          type: integer
          example: 600.00 serían 60000
          description: Monto de la Orden. Sin punto decimal.
        payment_code:
          type: string
          minLength: 1
          description: Código de pago de la orden.
          example: '13642064'
        currency_code:
          type: string
          minLength: 1
          description: 'Código de la moneda en tres letras Formato (ISO 4217)[https://es.wikipedia.org/wiki/ISO_4217].'
          enum:
            - PEN
        description:
          type: string
          description: Descripcion de la orden.
          example: Venta de polo
          minLength: 5
          maxLength: 80
        order_number:
          type: string
          minLength: 1
          description: Número de la orden. Este debe ser único entre todas tus órdenes.
          example: '#id-9999'
        creation_date:
          type: integer
          description: 'Fecha de creación de la orden en [UNIX Timestamp.](http://www.unixtimestamp.com/)'
          example: 1476132639
        expiration_date:
          type: integer
          description: |-
            Fecha de creación de la tarjeta en [UNIX Timestamp.](http://www.unixtimestamp.com/)

            El tiempo de vigencia de CIP es mínimo 10 minutos y máximo 6 meses
          example: 1476132639
        metadata:
          description: 'Envia parámetros adicionales con información relevante. [Ver más.](#section/Metadata)'
          type: object
        qr:
          type: string
          minLength: 1
          description: Contiene la imagen del QR en base 64 para los pagos con billeteras móviles.
        cuotealo:
          type: string
          minLength: 1
          description: Muestra la URL que será redirigido tu cliente para evaluar si su compra será financiada por Cuotéalo BCP.
      required:
        - object
        - id
        - amount
        - currency_code
        - description
        - creation_date
        - expiration_date
      title: ''
    Suscripcion:
      description: ''
      type: object
      x-examples:
        example-1:
          object: subscription
          id: sub_live_3jswePaiCzqgrGeb
          creation_date: 1556573460000
          status: Activa
          current_period: 1
          total_period: 2
          current_period_start: 1556600400000
          current_period_end: 1556686800000
          cancel_at_period_end: true
          cancel_at: null
          ended_at: 1556686800000
          next_billing_date: 1556600400000
          trial_start: 1556573460000
          trial_end: 1556573460000
          charges:
            - duplicated: null
              object: charge
              id: chr_live_ZIFPHDMxfK4o3SWG
              creation_date: 1556573460854
              amount: 300
              amount_refunded: 0
              current_amount: 300
              installments: 0
              installments_amount: null
              currency_code: PEN
              email: richard@piedpiper.com
              description: Plan Basico
              source:
                object: token
                id: tkn_live_0uBKVi3TYWvJktrZ
                type: card
                creation_date: 1542057744000
                email: richard@piedpiper.com
                card_number: 411111******1111
                last_four: '1111'
                active: true
                iin:
                  object: iin
                  bin: '411111'
                  card_brand: Visa
                  card_type: debito
                  card_category: Empresarial
                  issuer:
                    name: BCP
                    country: PERU
                    country_code: PE
                    website: null
                    phone_number: null
                  installments_allowed: []
                client:
                  ip: 190.42.137.165
                  ip_country: Perú
                  ip_country_code: PE
                  browser: null
                  device_fingerprint: null
                  device_type: Escritorio
                metadata: {}
              outcome:
                type: venta_exitosa
                code: AUT0000
                merchant_message: La operación de venta ha sido autorizada exitosamente
                user_message: Su compra ha sido exitosa.
              fraud_score: null
              antifraud_details:
                first_name: Liz
                last_name: Reuelas
                address: av. lima 543
                address_city: Lima
                country_code: PE
                phone: '986345071'
                object: client
              dispute: false
              capture: null
              reference_code: '713362012'
              authorization_code: '387241'
              metadata: {}
              total_fee: 14
              fee_details:
                fixed_fee: {}
                variable_fee:
                  currency_code: PEN
                  commision: 0.0399
                  total: 12
              total_fee_taxes: 2
              transfer_amount: 286
              paid: false
              statement_descriptor: CULQI*
              transfer_id: null
              capture_date: null
          plan:
            object: plan
            id: pln_live_p2h9whfQH9h4K1uF
            creation_date: 1542057736000
            name: Plan Basico
            amount: 300
            currency_code: PEN
            interval_count: 1
            interval: Días
            limit: 2
            trial_days: 0
            total_subscriptions: 3
            metadata: {}
          card:
            object: card
            id: crd_live_4F1vID7awAMt4mRB
            active: true
            creation_date: 1542057587000
            customer_id: cus_live_8yoYQOr0p6peIZ1d
            source:
              object: token
              id: tkn_live_0uBKVi3TYWvJktrZ
              type: card
              creation_date: 1542057744000
              email: richard@piedpiper.com
              card_number: 411111******1111
              last_four: '1111'
              active: true
              iin:
                object: iin
                bin: '411111'
                card_brand: Visa
                card_type: debito
                card_category: Empresarial
                issuer:
                  name: BCP
                  country: PERU
                  country_code: PE
                  website: null
                  phone_number: null
                installments_allowed: []
              client:
                ip: 190.42.137.165
                ip_country: Perú
                ip_country_code: PE
                browser: null
                device_fingerprint: null
                device_type: Escritorio
              metadata: {}
            metadata: {}
          metadata: {}
      title: ''
      properties:
        object:
          type: string
          minLength: 1
          description: Nombre del objeto.
          enum:
            - subscription
        id:
          type: string
          minLength: 1
          example: sub_live_0CjjdWhFpEAZlxlz
          description: ID de la suscripción.
        creation_date:
          type: integer
          description: 'Fecha de creación de la suscripción en [UNIX Timestamp.](http://www.unixtimestamp.com/)'
        status:
          type: string
          minLength: 1
          description: Estado de la suscripción.
          enum:
            - Activa
            - Cancelada
            - Finalizada
        current_period:
          type: integer
          description: Número del ciclo actual de la suscripción.
          example: 4
        total_period:
          type: integer
          description: Número del ciclos totales de la suscripción. Si es null los ciclos son infinitos.
          example: 12
        current_period_start:
          type: integer
          description: 'Fecha de inicio del ciclo en [UNIX Timestamp.](http://www.unixtimestamp.com/)'
          example: 1476132639
        current_period_end:
          type: integer
          description: 'Fecha de fin del ciclo en [UNIX Timestamp.](http://www.unixtimestamp.com/)'
          example: 1476132639
        cancel_at_period_end:
          type: boolean
          description: Indica si la suscripción finaliza luego de terminar el ciclo actual.
        canceled_at:
          type: integer
          description: Fecha en la que fue cancelada la suscripción en UNIX Timestamp.
          example: 1476132639
        ended_at:
          type: integer
          description: 'Fecha en la que finalizará la suscripción en [UNIX Timestamp.](http://www.unixtimestamp.com/)'
        next_billing_date:
          type: integer
          description: 'Fecha en la que inicia el próximo ciclo de la suscripción en [UNIX Timestamp.](http://www.unixtimestamp.com/)'
        trial_start:
          type: integer
          description: 'Fecha en la que inicia el periodo de pruebas gratis de la suscripción en [UNIX Timestamp.](http://www.unixtimestamp.com/)'
          example: 1476132639
        trial_end:
          type: integer
          description: 'Fecha en la que finaliza el periodo de pruebas gratis de la suscripción en [UNIX Timestamp.](http://www.unixtimestamp.com/)'
          example: 1476132639
        charges:
          type: object
          description: 'Listado de [cargos](#tag/Cargos) realizados durante todos los ciclos.'
        plan:
          type: object
          description: Información del objeto plan utilizado para crear una suscripción.
        card:
          type: object
          description: Información del objeto card utilizado para crear una suscripción.
        metadata:
          type: object
          description: Envía parametros adicionales con información relevante. Ver más.
      required:
        - object
        - id
        - creation_date
        - status
        - current_period
        - total_period
        - current_period_start
        - current_period_end
        - cancel_at_period_end
        - canceled_at
        - ended_at
        - next_billing_date
        - trial_start
        - trial_end
        - charges
        - plan
        - card
        - metadata
    Metadata:        
      title: Objeto Metadata
      type: object
      properties:
        order_id:
          type: string
          description: 'Adjunta un número de pedido incremental.'
          example: '204055'
        user_id:
          type: string
          description: 'Adjunta un identificador del cliente de tu sistema.'
          example: '4625'
        user_details:
          type: string
          description: 'Adjunta datos adicionales sobre tu cliente 100.'
          example: '46734527'
    Evento:
      description: ''
      type: object
      x-examples:
        example-1:
          object: event
          type: charged.failed
          data: {}
      properties:
        object:
          type: string
          description: Nombre del objeto.
          example: tkn_
          minLength: 25
          maxLength: 25
        type:
          type: string
          minLength: 1
          description: Identifica si es un cargo repetido.
        data:
          type: object
          description: Objeto que contiene al recurso.
      required:
        - object
        - type
        - data
      title: Objeto Evento
    Rastreo:
      type: object     
      properties:
        date:
          type: string
          description: Fecha en la que se creó la petición en UNIX Timestamp.
          example: '1476132639'
        x-culqi-environment:
          type: string
          description: Entorno al que se realizó la petición. Ver más.
          enum:
            - live
            - test
        x-culqi-tracking-id:
          type: string
          description: Código de identificación de la petición.
          example: '9283'
        x-culqi-version:
          type: string
          description: Número de versión del API.
          example: 17.01.89
        content-type:
          type: string
          description: Formato de contenido de la respuesta.
          enum:
            - applcation/json
      required:
        - date
        - x-culqi-environment
        - x-culqi-tracking-id
        - x-culqi-version
        - content-type
    Error:
      title: Objecto Error
      x-stoplight:
        id: th7ghbb22gn9b
      type: object
      properties:
        type:
          type: string
          description: Indica el tipo de error devuelto
          example: card_error
          enum:
            - invalid_request_error
            - authentication_error
            - parameter_error
            - card_error
            - limit_api_error
            - resource_error
            - api_error
        charge_id:
          type: string
          description: El ID del cargo que ha sido denegado
          example: '"chr_test_stm3Fr4HIPC50qxH"'
        code:
          type: string
          description: "Indica el tipo de error relacionado a una tarjeta"
          example: ' "card_declined"'
        declined_code:
          type: string
          description: Indica el motivo de denegación devuelto por los bancos.
          example: '"insufficient_funds"'
        merchant_message:
          type: string
          description: Mensaje dirigido al comercio para conocer el detalle del error.
          example: ' "La tarjeta no tiene fondos suficientes para realizar la compra."'
        user_message:
          type: string
          description: Mensaje dirigido al cliente para conocer el detalle del error.
          example: ' "Su tarjeta no tiene fondos suficientes. Verifica tus fondos disponibles con el banco emisor o inténta nuevamente con otra tarjeta."'
        param:
          type: string
          description: "Indica el parámetro específico relacionado al error."
          example: ' "amount"'
      required:
        - type
        - merchant_message      
  parameters:
    date:
      name: date
      in: header
      required: true
      schema:
        type: string
      description: 'Fecha en la que se creó la petición en [UNIX Timestamp.](http://www.unixtimestamp.com/)'
    x-culqi-environment:
      name: x-culqi-environment
      in: header
      required: true
      schema:
        type: string
        enum:
          - live
          - test
      description: 'Entorno al que se realizó la petición. [Ver más.](https://docs.culqi.com/#/cuenta/cuenta#entornos)'
    x-culqi-tracking-id:
      name: x-culqi-tracking-id
      in: header
      required: true
      schema:
        type: string
        example: '9283'
      description: Código de identificación de la petición.
    x-culqi-version:
      name: x-culqi-version
      in: header
      required: true
      schema:
        type: string
        example: 17.01.89
      description: Número de versión del API.
    content-type:
      name: content-type
      in: header
      required: true
      schema:
        type: string
        enum:
          - applcation/json
      description: FormFecha en la que se creó la petición en UNIX Timestamp.ato de contenido de la respuesta.
  examples:
    ExRastreo:
      value:
        description: Example shared example
        type: object
        properties:
          id:
            type: string
        required:
          - id
  requestBodies:
    Metadata:
      content:
        application/json:
          schema:
            type: object
            x-examples:
              example-1:
                amount: 200
                currency_code: PEN
                source_id: tkn_live_189fqQ2eZvKYlo2
                description: Apple Watch Series 20
                installments: 6
                capture: true
                metadata:
                  order_id: '204055'
                  user_id: '4625'
                  user_details: '46734527'
            properties:
              order_id:
                type: string
                description: Adjunta un número de pedido incremental.
                example: '204055'
              user_id:
                type: string
                description: |
                  Adjunta un identificador del cliente de tu sistema.
                example: '4625'
              user_details:
                type: string
                description: Adjunta datos adicionales sobre tu cliente
                example: '{''dni'':''46734527''}'
          examples:
            example-1:
              value:
                amount: 200
                currency_code: PEN
                source_id: tkn_live_189fqQ2eZvKYlo2
                description: Apple Watch Series 20
                installments: 6
                capture: true
                metadata:
                  order_id: '204055'
                  user_id: '4625'
                  user_details: '46734527'
