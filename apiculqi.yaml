openapi: 3.0.0
info:
  $ref: "info/info.yaml"
servers:
  - url: https://api.culqi.com
paths:
  /v2/tokens:
    get:
      requestBody:
        content:
          application/json:
            schema:
              type: object
      tags:
        - Tokens
      parameters:
        - name: Content-type
          schema:
            type: string
            example: application/json
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
        - name: creation_date
          description: Fecha del token en [UNIX Timestamp.](http://www.unixtimestamp.com/)
          schema:
            type: string
            example: '1476132639'
          in: query
        - name: creation_date_to
          description: Número de tarjeta.
          schema:
            type: string
          in: query
        - name: card_brand
          description: Marca de la tarjeta.
          schema:
            enum:
              - Visa
              - Mastercard
              - Amex
              - Diner
            type: string
          in: query
        - name: card_type
          description: Tipo de tarjeta.
          schema:
            enum:
              - credito
              - debito
              - prepagada
            type: string
          in: query
        - name: device_type
          description: Tipo de dispositivo.
          schema:
            enum:
              - escritorio
              - movil
              - tablet
            type: string
          in: query
        - name: bin
          description: >-
            Primeros seis dígitos de la tarjeta expresado en formato **ISO/IEC
            7812.** 
          schema:
            maxLength: 6
            minLength: 6
            type: string
            example: '411111'
          in: query
        - name: country_code
          description: Código del país, en formato ISO-3166 (Alfa 2).
          schema:
            type: string
            example: PE
          in: query
        - name: limit
          description: Cantidad exacta de tokens que se quieren listar.
          schema:
            maxLength: 100
            minLength: 1
            type: string
            example: '50'
          in: query
        - name: before
          description: >-
            El ID del token desde donde se quiere traer los resultados
            anteriores. No inclusivo.
          schema:
            maxLength: 25
            minLength: 25
            type: string
            example: tkn_live_7lYOtONQ9LxcgJUW
          in: query
        - name: after
          description: >-
            El ID del token desde donde se quiere traer los resultados
            siguientes. No inclusivo.
          schema:
            maxLength: 25
            minLength: 25
            type: string
            example: tkn_live_7lYOtOMM6LxcgJUW
          in: query
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
              examples:
                ejemplo 1:
                  value:
                    data: []
                    paging:
                      cursors: {}
          description: La petición fue exitosa.
      operationId: get-v2-tokens
      summary: Listar Tokens
      description: >-
        Listar tokens te permitirá obtener una serie de tokens existentes. De
        acuerdo a los filtros que uses los tokens serán ordenados de acuerdo a
        la fecha de creación, siendo el primero el más reciente.
    post:
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              required:
                - card_number
                - cvv
                - expiration_month
                - expiration_year
                - email
              type: object
              properties:
                card_number:
                  description: Número de tarjeta.
                  maxLength: 16
                  minLength: 13
                  type: string
                  example: '4111111111111111'
                cvv:
                  description: CVV de la tarjeta.
                  minLength: 1
                  type: string
                  example: '123'
                expiration_month:
                  description: Mes de expiración de la tarjeta.
                  maxLength: 2
                  minLength: 1
                  type: string
                  example: '09'
                expiration_year:
                  description: Año de expiración de la tarjeta.
                  maxLength: 4
                  minLength: 4
                  type: string
                  example: '2020'
                email:
                  description: Dirección de correo electrónico del cliente.
                  maxLength: 50
                  minLength: 5
                  type: string
                  example: ichard@piedpiper.com
                metadata:
                  description: Informacion adicional que se quiere enviar del token.
                  type: object
                  example:
                    dni: '5831543'
              x-examples:
                example-1:
                  card_number: '4111111111111111'
                  cvv: '123'
                  expiration_month: '09'
                  expiration_year: '2020'
                  email: richard@piedpiper.com
            examples:
              ejemplo 1:
                value:
                  card_number: '4111111111111111'
                  cvv: '123'
                  expiration_month: '09'
                  expiration_year: '2020'
                  email: ichard@piedpiper.com
                  metadata:
                    dni: '5831543'
      tags:
        - Tokens
      parameters:
        - name: Content-type
          schema:
            type: string
            example: application/json
          in: header
          required: true
        - name: Authorization
          description: '[Llave pública](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer pk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                type: object
              examples:
                ejemplo 1:
                  value:
                    object: token
                    id: tkn_live_0CjjdWhFpEAZlxlz
                    type: card
                    email: richard@piedpiper.com
                    creation_date: 1476132639
                    card_number: 442328******1214
                    last_four: '1214'
                    active: true
                    iin:
                      object: iin
                      bin: '442328'
                      card_brand: Visa
                      card_type: credito
                      card_category: platinum
                      issuer:
                        name: Silicon Valley Bank
                        country: United States
                        country_code: US
                        website: https://www.svb.com
                        phone_number: +1.800.774.7390
                      installments_allowed:
                        - 2
                        - 4
                        - 8
                        - 12
                        - 24
                        - 36
                    client:
                      ip: 72.229.28.185
                      ip_country: United States
                      ip_country_code: US
                      browser: Google Chrome 56.0.2924.87
                      device_fingerprint: 6rITdVTYkWfOrss8
                      device_type: escritorio
                    metadata:
                      dni: '5831543'
          description: La petición exitosa.
      operationId: crear-token
      summary: Crear Token
      description: >-
        Crear tokens te permitirá obtener información de la tarjeta y utilizarla
        para [crear un cargo](#operation/crear-cargo) o [crear una
        tarjeta](#operation/crear-tarjeta).

        - Si desarrollas una pagina web deberías crear token utilizando Culqi
        Checkout o CulqiJS

        - Si desarrollas una aplicación móvil deberías crear token utilizando
        nuestros SDKs para móviles (iOS o Android)

        - Si deseas crear el token de manera directa con el API de Culqi debes
        llenar el siguiente autocuestionario.
  /v2/tokens/{id}:
    get:
      tags:
        - Tokens
      parameters:
        - name: Content-type
          schema:
            type: string
            example: application/json
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
              examples:
                ejemplo 1:
                  value:
                    object: token
                    id: tkn_live_701ug3CDNJOAt5Q6
                    type: card
                    creation_date: 1486686216000
                    card_number: 411111******1111
                    last_four: '1111'
                    active: false
                    iin:
                      object: iin
                      bin: '411111'
                      card_brand: Visa
                      card_type: credit
                      card_category: Clásica
                      issuer:
                        name: JPMORGAN CHASE BANK, N.A.
                        country: United States
                        country_code: PE
                      installments_allowed:
                        - 2
                        - 4
                        - 6
                        - 8
                        - 10
                        - 12
                    client:
                      ip: 190.235.231.153
                      ip_country: Perú
                      ip_country_code: PE
          description: OK
      operationId: get-v2-cc
      summary: Consultar Token
      description: >-
        Consultar el detalle de un [token](#operation/crear-token) utilizando su
        respectivo ID te permitirá obtener como respuesta el objeto token
        solicitado. Si la petición es inválida te devolveremos un
        [error.](#section/Errores)
    patch:
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                metadata:
                  description: Informacion adicional que se quiere enviar del token.
                  type: object
                  example:
                    dni: '5831543'
                    cliente_id: 259
              x-examples:
                example-1:
                  metadata:
                    order_id: '0001'
      tags:
        - Tokens
      parameters:
        - name: Content-type
          schema:
            type: string
            example: application/json
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
              examples:
                ejemplo 1:
                  value:
                    data: []
                    paging:
                      cursors: {}
          description: La petición fue exitosa.
      operationId: patch-v2-tokens-id
      summary: Actualizar Token
      description: >-
        Actualizar un token te permitirá agregar o reemplazar información a los
        valores de la metadata que enviaste a la hora de crearla. Cualquier
        parámetro o valor no provisto será omitido en los valores de la
        metadata.
    parameters:
      - name: id
        description: ID del token a consultar.
        schema:
          maxLength: 25
          minLength: 25
          type: string
          example: tkn_live_LVNpj300apa78Pjq
        in: path
        required: true
  /v2/charges:
    get:
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              type: object
            examples:
              example-1: {}
      tags:
        - Cargos
      parameters:
        - name: Content-type
          schema:
            type: string
            example: application/json
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
        - name: amount
          description: Monto de los cargos en céntimos.
          schema:
            maxLength: 999900
            minLength: 300
            type: string
            example: 500.00 sería 50000
          in: query
        - name: min_amount
          description: Monto mínimo de los cargos en céntimos.
          schema:
            maxLength: 999900
            minLength: 300
            type: string
            example: 100.00 sería 10000
          in: query
        - name: max_amount
          description: Monto máximo de los cargos en céntimos.
          schema:
            maxLength: 999900
            minLength: 300
            type: string
            example: 100.00 sería 10000
          in: query
        - name: installments
          description: Cantidad de cuotas que se aplicaron al Cargo.
          schema:
            maxLength: 48
            minLength: 2
            type: string
            example: '4'
          in: query
        - name: min_installments
          description: Cantidad mínima de cuotas que se aplicaron al Cargo.
          schema:
            maxLength: 48
            minLength: 2
            type: string
            example: '8'
          in: query
        - name: max_installments
          description: Cantidad máxima de cuotas que se aplicaron al Cargo.
          schema:
            maxLength: 48
            minLength: 2
            type: string
            example: '48'
          in: query
        - name: currency_code
          description: >-
            Código de la moneda en la que se realizaron los cargos cargo en
            formato ISO 4217.
          schema:
            type: string
          in: query
        - name: fraud_score
          schema:
            type: string
          in: query
          description: Score de fraude.
          required: false
          allowEmptyValue: false
          deprecated: false
          x-last-modified: 1655487741256
        - name: min_fraud_score
          schema:
            type: string
          in: query
          description: Valor mínimo de score.
          required: false
          allowEmptyValue: false
          deprecated: false
          x-last-modified: 1655487982000
        - name: max_fraud_score
          schema:
            type: string
          in: query
        - name: first_name
          schema:
            type: string
          in: query
        - name: last_name
          schema:
            type: string
          in: query
        - name: email
          schema:
            type: string
          in: query
        - name: address
          schema:
            type: string
          in: query
        - name: address_city
          schema:
            type: string
          in: query
        - name: phone_number
          schema:
            type: string
          in: query
        - name: country_code
          schema:
            type: string
          in: query
        - name: creation_date
          schema:
            type: string
          in: query
        - name: creation_date_from
          schema:
            type: string
          in: query
        - name: creation_date_to
          schema:
            type: string
          in: query
        - name: capture_date
          schema:
            type: string
          in: query
        - name: capture_date_from
          schema:
            type: string
          in: query
        - name: capture_date_to
          schema:
            type: string
          in: query
        - name: card_brand
          schema:
            type: string
          in: query
        - name: card_type
          schema:
            type: string
          in: query
        - schema:
            type: string
          in: query
        - schema:
            type: string
          in: query
        - schema:
            type: string
          in: query
        - schema:
            type: string
          in: query
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
              examples:
                example-1:
                  value:
                    data:
                      - ...
                    paging:
                      previous: >-
                        https://api.culqi.com/v2/charges?limit=50&before=chr_test_
                        3nKwGp5EGMA8fxaW
                      next: >-
                        https://api.culqi.com/v2/charges?limit=50&after=chr_test_3nKwG
                        p5EGMA8fxaW
                      cursors:
                        before: chr_test_3nKwGp5EGMA8fxaW
                        after: chr_test_3nKwGp5EGMA8fxaW
          description: La petición fue exitosa.
          headers: {}
          links: {}
      operationId: get-v2-charges
      summary: Listar Cargos
      description: >-
        Listar cargos te permitirá obtener una serie de cargos existentes, de
        acuerdo a los filtros que uses. Los cargos serán ordenados de acuerdo a
        su fecha de creación, siendo el primero el más reciente.
    post:
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              required:
                - amount
                - currency_code
                - email
                - source_id
              type: object
              properties:
                amount:
                  description: Monto del cargo. Sin punto decimal.
                  maximum: 999900
                  minimum: 300
                  type: integer
                  example: 100.00 serían 10000
                currency_code:
                  description: Código de la moneda en tres letras (Formato ISO 4217).
                  minLength: 1
                  enum:
                    - PEN
                    - USD
                  type: string
                email:
                  description: Correo electrónico del cliente.
                  maxLength: 50
                  minLength: 5
                  type: string
                  example: richard@piedpiper.com
                source_id:
                  description: >-
                    ID del objeto Token u objeto Tarjeta que se va usar para
                    realizar el cargo.
                  maxLength: 25
                  minLength: 25
                  type: string
                  example: tkn_live_701ug3CDNJOAt5Q6, crd_live_TWsfemI22ypplGK6
                capture:
                  description: >-
                    Indica si se va realizar la captura automática de la
                    tarjeta. Si no se considera por defecto tiene el valor de
                    "true"
                  type: boolean
                description:
                  description: Descripción del cargo a realizarse.
                  maxLength: 80
                  minLength: 5
                  type: string
                  example: Prueba
                installments:
                  description: >-
                    Cantidad de cuotas que se van a aplicar al pago. Estas
                    dependen de las cuotas aceptadas por el objeto token.
                  maxLength: 48
                  minLength: 2
                  type: string
                  example: 2
                metadata:
                  description: Informacion adicional que se quiere enviar del cargo
                  type: object
                  example:
                    dni: '70202170'
                antifraud_details:
                  description: >-
                    Datos de la persona que realiza la compra, para detectar
                    posibles fraudes.
                  type: object
                  properties:
                    address:
                      description: Direccion del cliente.
                      maxLength: 100
                      minLength: 5
                      type: string
                      example: Avenida Lima 213
                    address_city:
                      description: Ciudad del cliente
                      maxLength: 30
                      minLength: 2
                      type: string
                      example: Lima
                    country_code:
                      description: Código ISO-3166-1 (Alfa 2) del país del cliente.
                      type: string
                      example: PE
                    first_name:
                      description: Nombres del cliente
                      maxLength: 50
                      minLength: 2
                      type: string
                      example: Richard
                    last_name:
                      description: Apellidos del cliente
                      maxLength: 50
                      minLength: 2
                      type: string
                      example: Hendricks
                    phone_number:
                      description: Número de teléfono del cliente
                      maxLength: 15
                      minLength: 5
                      type: string
                      example: '999999987'
                authentication_3DS:
                  type: object
                  properties:
                    cavv:
                      description: >-
                        Valor de verificación de autenticación del titular de la
                        tarjeta.
                      type: string
                      example: AAABAWFlmQAAAABjRWWZEEFgFz+=
                    directoryServerTransactionId:
                      description: >-
                        El ID de transacción del servidor de directorio es
                        generado por el servidor de directorio de Mastercard
                        durante la transacción de autenticación y devuelto al
                        comerciante con los resultados de la autenticación.
                      type: string
                      example: 88debec7-a798-46d1-bcfb-db3075fedb82
                    eci:
                      description: >-
                        El indicador de comercio numérico que indica al banco el
                        grado de cambio de responsabilidad logrado durante el
                        proceso de autenticación del pagador.
                      type: string
                      example: '06'
                    protocolVersion:
                      description: ' Este campo contiene la versión de 3D Secure que se utilizó para procesar la transacción. Por ejemplo, 1.0.2 o 2.0.0.'
                      type: string
                      example: 2.1.0
              x-examples:
                example-1:
                  amount: '10000'
                  currency_code: PEN
                  email: richard@piedpiper.com
                  source_id: tkn_live_0CjjdWhFpEAZlxlz
            examples:
              example-1:
                value:
                  amount: '10000'
                  currency_code: PEN
                  email: richard@piedpiper.com
                  source_id: tkn_live_0CjjdWhFpEAZlxlz
      tags:
        - Cargos
      parameters:
        - name: Content-type
          schema:
            type: string
            example: application/json
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                required: []
                enum: null
                description: ''
                example: ''
                properties: ''
                externalDocs:
                  url: ''
                  description: ''
              examples:
                example-1:
                  value:
                    user_message: El usuario necesita autenticarse
                    action_code: REVIEW
              encoding: ''
              example: ''
          description: Se requieren parámetros 3Ds.
          headers: {}
          links: {}
        '201':
          content:
            application/json:
              schema:
                type: object
              examples:
                example-1:
                  value:
                    duplicated: false
                    object: charge
                    id: chr_live_kEazTaQBDtzNdwFr
                    amount: 10000
                    amount_refunded: 0
                    current_amount: 10000
                    installments: 0
                    currency: PEN
                    source:
                      object: token
                      id: tkn_live_701ug3CDNJOAt5Q6
                      type: card
                      creation_date: 1487021247000
                      card_number: 411111******1111
                      last_four: '1111'
                      active: true
                      iin:
                        object: iin
                        bin: '411111'
                        card_brand: Visa
                        card_type: credit
                        card_category: Clásica
                        issuer:
                          name: JPMORGAN CHASE BANK, N.A.
                          country: United States
                          country_code: PE
                        installments_allowed:
                          - 2
                          - 4
                          - 6
                          - 8
                          - 10
                          - 12
                      client:
                        ip: 190.235.231.153
                        ip_country: Perú
                        ip_country_code: PE
                    antifraud_details:
                      email: richard@piedpiper.com
                      object: client
                    date: 1487021262000
                    reference_code: kwd3glvhbs
                    fee_details:
                      - type: comision_porcentual
                        amount: 375
                        taxes: 68
                        total_amount: 443
                        currency_code: PEN
                        object: fee
                    net_amount: 9557
                    response_code: venta_exitosa
                    merchant_message: La operación de venta ha sido autorizada exitosamente
                    user_message: Su compra ha sido exitosa.
                    device_ip: 190.235.231.153
                    product: token
                    state: Exitosa
          description: La petición fue exitosa.
          headers: {}
          links: {}
      operationId: crear-cargo
      summary: Crear cargo
      description: >-
        Para realizar un cobro a una tarjeta de débito o crédito es necesario
        crear un cargo usando un Token o una Tarjeta. Si utilizas tu llave
        secreta de integración no se realizarán cargos reales, a diferencia del
        entorno de producción donde enviamos tu petición a los bancos y marcas
        procesadoras.
  /v2/charges/{id}:
    get:
      tags:
        - Cargos
      parameters:
        - name: Content-type
          schema:
            type: string
            example: application/json
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
      responses:
        '200':
          description: La petición fue exitosa.
      operationId: get-v2-charges-id
      summary: Consultar Cargo
      description: >-
        Consultar el detalle de un cargo utilizando el ID devuelto en la
        petición de creación, esto te permitirá obtener como respuesta todos los
        parámetros del objeto cargo.
    patch:
      tags:
        - Cargos
      parameters:
        - name: Content-type
          schema:
            type: string
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                description: ''
                required:
                  - metadata
                type: object
                properties:
                  metadata:
                    required:
                      - dni
                    type: object
                    properties:
                      dni:
                        minLength: 1
                        type: string
                x-examples:
                  example-1:
                    metadata:
                      dni: '71702323'
              examples:
                example-1:
                  value:
                    metadata:
                      dni: '71702323'
          description: La petición fue exitosa.
      operationId: patch-v2-charges-id
      summary: Actualizar Cargo
      description: >-
        Actualizar un cargo te permitirá agregar o reemplazar información a los
        valores de la metadata que enviaste a la hora de crear un cargo.
        Cualquier parámetro o valor no provisto será omitido en la el valores de
        la metadata.
    parameters:
      - name: id
        description: ID del cargo.
        schema:
          maxLength: 25
          minLength: 25
          type: string
          example: chr_live_7VUwCneoG1XtLeS7
        in: path
        required: true
  /v2/charges/{id}/capture:
    post:
      tags:
        - Cargos
      parameters:
        - name: Content-type
          schema:
            type: string
            example: application/json
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
      responses:
        '200':
          description: La petición fue exitosa.
      operationId: post-v2-charges-id-capture
      summary: Capturar Cargos
      description: >-
        Esta operación permite capturar una transacción que se encuentra en
        estado "Autorizada", es decir que aún no ha sido capturada. Esta
        operación es la segunda mitad del flujo de pagos en dos pasos
        (autorización y captura) que sucede cuando creas un cargo con el
        parámetro de captura falso. Una vez que captures un cargo, empezará el
        proceso de transferencia de esa transacción a tu cuenta bancaria. En el
        caso que no captures un cargo en un periodo de 4 días, el cargo vencerá
        y los fondos serán devueltos inmediatamente a la tarjeta de tu cliente y
        el estado del cargo cambiará a "Devuelta".
    parameters:
      - name: id
        description: ID del cargo a capturar.
        schema:
          maxLength: 25
          minLength: 25
          type: string
          example: chr_live_7VUwCneoG1XtLeS7
        in: path
        required: true
  /v2/refunds:
    get:
      tags:
        - Devoluciones
      parameters:
        - name: Content-type
          schema:
            type: string
            example: application/json
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
        - name: creation_date
          description: Fecha de la devolución en UNIX Timestamp
          schema:
            type: string
            example: '1476132639'
          in: query
        - name: creation_date_from
          description: Fecha inicial de las devoluciones en UNIX Timestamp
          schema:
            type: string
            example: '1476132639'
          in: query
        - name: creation_date_to
          description: Fecha limite de las devoluciones en UNIX Timestamp
          schema:
            type: string
            example: '1476132639'
          in: query
        - name: reason
          description: Razón o motivo de la devolución, es una cadena de texto predefinida.
          schema:
            enum:
              - duplicado
              - fraudulento
              - solicitud_comprador
            type: string
          in: query
        - name: limit
          description: Cantidad exacta de devoluciones que se quieren listar.
          schema:
            maxLength: 100
            minLength: 1
            type: string
            example: '50'
          in: query
        - name: before
          description: >-
            El ID de la devolución desde donde se quiere traer la página
            anterior. No inclusivo.
          schema:
            maxLength: 25
            minLength: 25
            type: string
            example: ref_live_7lYOtONQ9LxcgJUW
          in: query
        - name: after
          description: >-
            El ID de la devolución desde donde se quiere traer la siguiente
            página. No inclusivo.
          schema:
            maxLength: 25
            minLength: 25
            type: string
            example: ref_live_7lYOtOMM6LxcgJUW
          in: query
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
              examples:
                example-1:
                  value:
                    data: []
                    paging:
                      cursors: {}
          description: La petición fue exitosa.
      operationId: get-v2-refunds
      summary: Listar Devoluciones
      description: >-
        Listar devoluciones te permitirá obtener una serie de devoluciones
        existentes. De acuerdo a los filtros que uses, las devoluciones serán
        ordenados de acuerdo a su fecha de creación; siendo el primero el más
        reciente.
    post:
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              required:
                - amount
                - charge_id
                - reason
              type: object
              properties:
                amount:
                  description: Monto de la devolución en céntimos.
                  type: integer
                  example: 2000
                charge_id:
                  description: ID del cargo a devolver.
                  minLength: 1
                  type: string
                  example: chr_live_3xWxRF1Zswgp6C7N
                reason:
                  description: >-
                    Razón o motivo de la devolución, es una cadena de texto
                    predefinida.
                  minLength: 1
                  enum:
                    - duplicado
                    - fraudulento
                    - solicitud_comprador
                  type: string
              x-examples:
                example-1:
                  amount: 2000
                  charge_id: chr_live_7lYOtONQ9LxcgJUW
                  reason: fraudulento
      tags:
        - Devoluciones
      parameters:
        - name: Content-type
          schema:
            type: string
            example: application/json
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                type: object
              examples:
                example-1:
                  value:
                    id: ref_live_TTfLAgaA8nz8PWbO
                    charge_id: chr_live_TWsfemI22ypplGK6
                    amount: 5000
                    reason: Devolución solicitada por el comercio
                    creation_date: 1487039706000
                    object: refund
                    metadata: {}
          description: La petición fue exitosa.
      operationId: post-v2-refunds
      summary: Crear Devolución
      description: >-
        Para crear una devolución es necesario que envíes el ID del cargo que
        deseas devolver. Esta operación retorna los fondos a la tarjeta de
        crédito o débito de tu cliente y adicionalmente las comisión variable
        cargada por Culqi.


        Opcionalmente podrías devolver solo una parte del cargo, operación
        conocida como devolución parcial. Puedes hacerlo las veces que quieras
        hasta que el monto total del cargo haya sido devuelto por completo.
  /v2/refunds/{id}:
    get:
      tags:
        - Devoluciones
      parameters:
        - name: Content-type
          schema:
            type: string
            example: application/json
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
              examples:
                example-1:
                  value:
                    id: ref_live_TTfLAgaA8nz8PWbO
                    charge_id: chr_live_TWsfemI22ypplGK6
                    amount: 5000
                    reason: Devolución solicitada por el comercio
                    creation_date: 1487039706000
                    object: refund
                    metadata: {}
          description: La petición fue exitosa.
      operationId: get-v2-refunds-id
      summary: Consultar Devolución
      description: >-
        Devuelve los detalles de una devolución en particular. Para la petición
        solo debes enviar el ID de la devolución que Culqi te devolvió a la hora
        de crear una Devolución.
    patch:
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              required:
                - metadata
              type: object
              properties:
                metadata:
                  type: object
                  example:
                    dni: '71702323'
              x-examples:
                example-1:
                  metadata:
                    dni: '71702323'
            examples:
              example-1:
                value:
                  metadata:
                    dni: '71702323'
      tags:
        - Devoluciones
      parameters:
        - name: Content-type
          schema:
            type: string
            example: application/json
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
      responses:
        '200':
          description: La petición fue exitosa.
      operationId: patch-v2-refunds-id
      summary: Actualizar Devolución
      description: >-
        Actualizar una devolución te permitirá agregar o reemplazar información
        a los valores de la metadata que enviaste a la hora de crear una
        devolución. Cualquier parámetro o valor no provisto será omitido en la
        el valores de la metadata.
    parameters:
      - name: id
        description: ID de la devolución a consultar.
        schema:
          maxLength: 25
          minLength: 25
          type: string
          example: ref_live_LVNpj300apa78Pjq
        in: path
        required: true
  /v2/customers:
    get:
      tags:
        - Clientes
      parameters:
        - name: Content-type
          schema:
            type: string
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
        - name: first_name
          description: Nombre del cliente.
          schema:
            maxLength: 50
            minLength: 2
            type: string
            example: Richard
          in: query
        - name: last_name
          description: Apellido del cliente.
          schema:
            maxLength: 50
            minLength: 2
            type: string
            example: Hendricks
          in: query
        - name: email
          description: Correo electrónico del cliente.
          schema:
            maxLength: 50
            minLength: 5
            type: string
            example: richard@piedpiper.com
          in: query
        - name: address
          description: Dirección física del cliente.
          schema:
            maxLength: 100
            minLength: 5
            type: string
            example: San Francisco Bay
          in: query
        - name: address_city
          description: Ciudad del cliente.
          schema:
            maxLength: 15
            minLength: 5
            type: string
            example: San Francisco
          in: query
        - name: phone_number
          description: Teléfono del cliente.
          schema:
            maxLength: 15
            minLength: 5
            type: string
            example: '3383478'
          in: query
        - name: country_code
          description: Código del país, en formato ISO-3166 (Alfa 2).
          schema:
            type: string
            example: PE
          in: query
        - name: limit
          description: Cantidad exacta de clientes que se quieren listar.
          schema:
            maxLength: 100
            minLength: 1
            type: string
            example: '50'
          in: query
        - name: before
          description: >-
            El ID del cliente desde donde se quiere traer los resultados
            anteriores. No inclusivo.
          schema:
            maxLength: 25
            minLength: 25
            type: string
            example: cus_live_7lYOtONQ9LxcgJUW
          in: query
        - name: after
          description: >-
            El ID del cliente desde donde se quiere traer los resultados
            siguientes. No inclusivo.
          schema:
            maxLength: 25
            minLength: 25
            type: string
            example: cus_live_7lYOtOMM6LxcgJUW
          in: query
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
              examples:
                example-1:
                  value:
                    data:
                      - ...
                    paging:
                      previous: >-
                        https://api.culqi.com/v2/customers?limit=50&before=cus_live_
                        Psny4smwxpmEDooU
                      next: >-
                        https://api.culqi.com/v2/customers?limit=50&after=cus_live_Lz6Yf
                        sm7QqCPIECW
                      cursors:
                        before: cus_live_Psny4smwxpmEDooU
                        after: cus_live_Lz6Yfsm7QqCPIECW
          description: La petición fue exitosa.
      operationId: get-v2-customers
      summary: Listar Clientes
      description: >-
        Listar Clientes te permitirá obtener una serie de Customer existentes.
        De acuerdo a los filtros que uses, los clientes serán ordenados de
        acuerdo a su fecha de creación; siendo el primero el más reciente.
    post:
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              required:
                - address
                - address_city
                - country_code
                - email
                - first_name
                - last_name
                - phone_number
              type: object
              properties:
                address:
                  description: Dirección del cliente.
                  maxLength: 50
                  minLength: 2
                  type: string
                  example: Av. Brasil 123
                address_city:
                  description: Ciudad del cliente
                  maxLength: 50
                  minLength: 2
                  type: string
                  example: Lima
                country_code:
                  description: Código ISO-3166-1 (Alfa 2) del país del cliente.
                  minLength: 1
                  type: string
                  example: PE
                email:
                  format: email
                  description: Correo electrónico del cliente
                  maxLength: 50
                  minLength: 5
                  type: string
                  example: richard@piedpiper.com
                first_name:
                  description: Nombre del cliente.
                  maxLength: 50
                  minLength: 2
                  type: string
                  example: Richard
                last_name:
                  description: Apellido del cliente.
                  maxLength: 50
                  minLength: 2
                  type: string
                  example: Hendricks
                phone_number:
                  description: Teléfono del cliente.
                  maxLength: 15
                  minLength: 5
                  type: string
                  example: '6505434800'
                metadata:
                  description: >-
                    Informacion adicional que se requiera enviar al crear el
                    plan.
                  type: object
                  example:
                    codigo_alumno: 0001A
              x-examples:
                example-1:
                  first_name: Richard
                  last_name: Hendricks
                  email: richard@piedpiper.com
                  address: San Francisco Bay Area
                  address_city: Palo Alto
                  country_code: US
                  phone_number: '6505434800'
            examples:
              example-1:
                value:
                  first_name: Richard
                  last_name: Hendricks
                  email: richard@piedpiper.com
                  address: San Francisco Bay Area
                  address_city: Palo Alto
                  country_code: US
                  phone_number: '6505434800'
      tags:
        - Clientes
      parameters:
        - name: Content-type
          schema:
            type: string
            example: application/json
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
      responses:
        '201':
          description: La petición fue exitosa.
      operationId: crear-cliente
      summary: Crear Cliente
      description: >-
        Crea un cliente enviando los datos de tu cliente y más datos
        relacionados al mismo a través de los valores de metadata.
  /v2/customers/{id}:
    get:
      tags:
        - Clientes
      parameters:
        - name: Content-type
          schema:
            default: application/json
            type: string
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
              examples:
                example-1:
                  value:
                    object: customer
                    id: cus_live_Lz6Yfsm7QqCPIECW
                    creation_date: 1487041774773
                    email: richard@piedpiper.com
                    antifraud_details:
                      country_code: US
                      first_name: Richard
                      last_name: Richard
                      address_city: Palo Alto
                      address: San Francisco Bay Area
                      phone: '6505434800'
                      object: client
          description: La petición fue exitosa.
      operationId: get-v2-customers-id
      summary: Consultar Cliente
      description: >-
        Devuelve los detalles de un cliente en particular. En la petición solo
        debes enviar el ID del cliente que Culqi te devolvió a la hora de crear
        uno.
    delete:
      tags:
        - Clientes
      parameters:
        - name: Content-type
          schema:
            type: string
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
              examples:
                example-1:
                  value:
                    id: cus_live_LbB0x6yB2Pd0JJnP
                    deleted: true
                    merchant_message: >-
                      Se eliminó el cliente con ID cus_live_LbB0x6yB2Pd0JJnP
                      exitosamente.
          description: Petición exitosa.
      operationId: delete-v2-customers-id
      summary: Eliminar Cliente
      description: >-
        Elimina de manera permanente a un cliente. Esta operación cancela
        cualquier cargo posterior o suscripción que esté relacionada con el
        Cliente.
    patch:
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              type: object
            examples:
              example-1:
                value:
                  metadata:
                    dni: '71702323'
          application/xml:
            schema:
              description: ''
              required:
                - metadata
              type: object
              properties:
                metadata:
                  required:
                    - dni
                  type: object
                  properties:
                    dni:
                      minLength: 1
                      type: string
              x-examples:
                example-1:
                  metadata:
                    dni: '71702323'
      tags:
        - Clientes
      parameters:
        - name: Content-type
          schema:
            type: string
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
      responses:
        '200':
          description: OK
      operationId: patch-v2-customers-id
      summary: Actualizar Cliente
      description: >-
        Actualizar un cliente te permitirá modificar los valores enviados a la
        hora de crearlo. Cualquier parámetro que no sea proveído en la petición
        mantendrá el valor de la creación.
    parameters:
      - name: id
        description: ID del cliente.
        schema:
          maxLength: 25
          minLength: 25
          type: string
          example: cus_live_QDO81GT6Zaseewkp
        in: path
        required: true
  /v2/plans:
    get:
      tags:
        - Planes
      parameters:
        - name: Content-type
          description: application/json
          schema:
            type: string
          in: header
        - name: Authorization
          description: '[Llave_privada](#section/Autenticacion)'
          schema:
            type: string
          in: header
        - name: amount
          description: Monto de los planes en céntimos.
          schema:
            maximum: 999900
            minimum: 300
            maxLength: 999900
            minLength: 300
            type: integer
            example: Prueba
          in: query
        - name: min_amount
          description: Monto mínimo de los planes en céntimos.
          schema:
            maximum: 999900
            minimum: 300
            maxLength: 999900
            minLength: 300
            type: integer
            example: 100.00 sería 10000
          in: query
        - name: max_amount
          description: Monto máximo de los planes en céntimos.
          schema:
            maximum: 999900
            minimum: 300
            type: integer
            example: 100.00 sería 10000
          in: query
        - name: creation_date_from
          description: Fecha inicial de los planes en UNIX Timestamp
          schema:
            maxLength: 15
            minLength: 5
            type: string
            example: '34343443434'
          in: query
        - name: creation_date_to
          description: Fecha limite de los planes en UNIX Timestamp
          schema:
            maxLength: 15
            minLength: 5
            type: string
            example: '34343443434'
          in: query
        - name: limit
          description: Cantidad exacta de planes que se quieren listar.
          schema:
            maximum: 100
            minimum: 1
            type: integer
            example: 50
          in: query
        - name: before
          description: >-
            El ID del plan desde donde se quiere traer los resultados
            anteriores. No inclusivo.
          schema:
            maxLength: 25
            minLength: 25
            type: string
            example: pln_live_7lYOtONQ9LxcgJUW
          in: query
        - name: after
          description: >-
            El ID del plan desde donde se quiere traer los resultados
            siguientes. No inclusivo.
          schema:
            maxLength: 25
            minLength: 25
            type: string
            example: pln_live_7lYOtOMM6LxcgJUW
          in: query
      responses:
        '200':
          description: La petición fue exitosa
      operationId: get-users-userId
      summary: Listar Planes
      description: >-
        Listar planes te permitirá obtener una serie de planes existentes. De
        acuerdo a los filtros que uses los planes serán ordenados de acuerdo a
        la fecha de creación, siendo el primero el más reciente.
    post:
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              required:
                - name
                - amount
                - currency_code
                - interval
                - interval_count
              type: object
              properties:
                name:
                  description: |-
                    Nombre del plan.

                    Ejemplo: "Mi primer plan Básico"
                  maxLength: 50
                  minLength: 2
                  type: string
                  example: '"Mi primer plan Básico"'
                amount:
                  description: |-
                    Monto del plan a cobrar recurrentemente. Sin punto decimal

                    Ejemplo: 100.00 serían 10000
                  maximum: 999900
                  minimum: 300
                  type: number
                  example: 100.00 serían 10000
                currency_code:
                  description: |
                    Código de la moneda en tres letras (Formato ISO 4217).

                    Ejemplo: "PEN", "USD"
                  minLength: 1
                  type: string
                  example: '"PEN", "USD"'
                interval:
                  description: >-
                    Cantidad de cada cuanto se deben ejecutar los cargos del
                    plan. Si en 'interval' pusimos "meses", poner valor 1 en
                    este campo hará que se cobre cada mes.
                  maxLength: 7
                  minLength: 1
                  type: string
                  example: 'Valores permitidos: dias, semanas, meses, años,'
                interval_count:
                  description: >-
                    Cantidad de cada cuanto se deben ejecutar los cargos del
                    plan. Si en 'interval' pusimos "meses", poner valor 1 en
                    este campo hará que se cobre cada mes.


                    Ejemplo: 1
                  maximum: 999
                  minimum: 1
                  type: number
                  example: 1
                trial_days:
                  description: |-
                    Número de días del periodo de prueba (sin costo).

                    Ejemplo: "5
                  maximum: 99
                  minimum: 1
                  type: integer
                  example: '"5"'
                limit:
                  description: >-
                    Limite de cargos a realizar (ciclos). Si no se define, es
                    automáticamente sin límite.


                    Ejemplo: "12"
                  maximum: 99
                  minimum: 2
                  type: number
                  example: '"12"'
                metadata:
                  description: >
                    Informacion adicional que se requiera enviar al crear el
                    plan.


                    Example: {"descripcion" : "Este es un plan para poder
                    agruparlos a todos."}
                  type: object
              x-examples:
                example-1:
                  name: Hooli Subscription
                  amount: 2000
                  currency_code: PEN
                  interval: meses
                  interval_count: 1
                  limit: 12
            examples:
              example-1:
                value: {}
      tags:
        - Planes
      parameters:
        - name: Content-type
          description: application/json
          schema:
            type: string
          in: header
        - name: Authorization
          description: '[Llave_privada](#section/Autenticacion)'
          schema:
            type: string
          in: header
      responses:
        '201':
          content:
            application/json:
              schema:
                description: ''
                required:
                  - object
                  - id
                  - creation_date
                  - name
                  - amount
                  - currency_code
                  - interval_count
                  - interval
                  - limit
                  - trial_days
                  - total_subscriptions
                  - metadata
                type: object
                properties:
                  object:
                    minLength: 1
                    type: string
                  id:
                    minLength: 1
                    type: string
                  creation_date:
                    type: number
                  name:
                    minLength: 1
                    type: string
                  amount:
                    type: number
                  currency_code:
                    minLength: 1
                    type: string
                  interval_count:
                    type: number
                  interval:
                    minLength: 1
                    type: string
                  limit:
                    type: number
                  trial_days:
                    type: number
                  total_subscriptions:
                    type: number
                  metadata:
                    required: []
                    type: object
                x-examples:
                  example-1:
                    object: plan
                    id: pln_live_uvBzalwuY3UsxJ9l
                    creation_date: 1556569427000
                    name: Hooli Subscription
                    amount: 2000
                    currency_code: PEN
                    interval_count: 1
                    interval: Meses
                    limit: 0
                    trial_days: 0
                    total_subscriptions: 0
                    metadata: {}
          description: La petición fue exitosa
      operationId: post-v2-plans
      summary: Crear Plan
      description: >-
        Esta operación te permitirá configurar los detalles del plan para que
        puedas realizar cargos recurrentes. Adicionalmente podrás hacer esta
        operación vía el Panel de Culqi.
  /v2/plans/{id}:
    get:
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              type: object
      tags:
        - Planes
      parameters:
        - name: Content-type
          description: application/json
          schema:
            type: string
          in: header
        - name: Authorization
          description: '[Llave_privada](#section/Autenticacion)'
          schema:
            type: string
          in: header
      responses:
        '200':
          description: La petición fue exitosa
      operationId: get-v2-plans-id
      summary: Consultar Plan
      description: >-
        Devuelve los detalles de un Plan en particular. Para la petición solo
        debes enviar el ID del Plan que Culqi te devolvió a la hora de crearlo.
    delete:
      tags:
        - Planes
      parameters:
        - name: Content-type
          description: application/json
          schema:
            type: string
          in: header
        - name: Authorization
          description: '[Llave_privada](#section/Autenticacion)'
          schema:
            type: string
          in: header
      responses:
        '200':
          description: La petición fue exitosa
      operationId: delete-v2-plans-id
      summary: Eliminar Plan
      description: >-
        Elimina de manera permanente un Plan. Esta operación cancela todas las
        suscripciones relacionadas con el Plan.
    patch:
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              required:
                - metadata
              type: object
              properties:
                metadata:
                  description: |-
                    Información adicional del plan a modificar

                    Example: "{"descripcion"=>"Este es un plan simple."}"
                  required:
                    - descripcion
                  type: object
                  properties:
                    descripcion:
                      minLength: 1
                      type: string
              x-examples:
                example-1:
                  metadata:
                    descripcion: Plan inicial.
      tags:
        - Planes
      parameters:
        - name: Content-type
          description: application/json
          schema:
            type: string
          in: header
        - name: Authorization
          description: '[Llave_privada](#section/Autenticacion)'
          schema:
            type: string
          in: header
      responses:
        '200':
          description: La petición fue exitosa
      operationId: patch-v2-plans-id
      summary: Actualizar Plan
      description: >-
        Actualizar un plan te permitirá agregar o reemplazar información a los
        valores de la metadata que enviaste a la hora de crearla. Cualquier
        parámetro o valor no provisto será omitido en los valores de la
        metadata.
    parameters:
      - name: id
        description: ID del plan a consultar
        schema:
          maxLength: 25
          minLength: 25
          type: string
          example: '"pln_live_QDO81GT6Zaseewkp"'
        in: path
        required: true
  /v2/cards:
    get:
      tags:
        - Tarjetas
      parameters:
        - name: Content-type
          schema:
            type: string
            example: application/json
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
        - name: creation_date
          description: Fecha de la tarjeta en UNIX Timestamp.
          schema:
            type: string
            example: '1476132639'
          in: query
        - name: creation_date_from
          description: Fecha inicial de las tarjetas en UNIX Timestamp.
          schema:
            maxLength: 15
            minLength: 5
            type: string
            example: '1476132639'
          in: query
        - name: creation_date_to
          description: Fecha limite de las tarjetas en UNIX Timestamp.
          schema:
            maxLength: 15
            minLength: 5
            type: string
            example: '1476132639'
          in: query
        - name: card_brand
          description: Marca de la tarjeta.
          schema:
            enum:
              - Visa
              - Mastercard
              - Amex
              - Diners
            type: string
          in: query
        - name: card_type
          description: Tipo de la tarjeta a consultar.
          schema:
            enum:
              - credito
              - debito
              - prepagada
            type: string
          in: query
        - name: device_type
          description: Tipo de dispositivo.
          schema:
            enum:
              - escritorio
              - movil
              - tablet
            type: string
          in: query
        - name: bin
          description: Son los primeros seis dígitos del número de tarjeta.
          schema:
            maxLength: 15
            minLength: 5
            type: string
            example: '411111'
          in: query
        - name: country_code
          description: Código del país, en formato ISO-3166 (Alfa 2).
          schema:
            type: string
            example: PE
          in: query
        - name: limit
          description: Cantidad exacta de clientes que se quieren listar.
          schema:
            maxLength: 100
            minLength: 1
            type: string
            example: '50'
          in: query
        - name: before
          description: >-
            El ID de la tarjeta desde donde se quiere traer los resultados
            anteriores. No inclusivo.
          schema:
            maxLength: 25
            minLength: 25
            type: string
            example: crd_live_7lYOtONQ9LxcgJUW
          in: query
        - name: after
          description: >-
            El ID de la tarjeta desde donde se quiere traer los resultados
            siguientes. No inclusivo..
          schema:
            maxLength: 25
            minLength: 25
            type: string
            example: crd_live_7lYOtOMM6LxcgJUW
          in: query
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
              examples:
                example-1:
                  value:
                    data:
                      - ...
                    paging:
                      previous: >-
                        https://api.culqi.com/v2/cards?limit=50&before=crd_live_RzjT
                        yGUwZioJLpZt
                      next: >-
                        https://api.culqi.com/v2/cards?limit=50&after=crd_live_Z1YXhVdg6
                        0B0UCLI
                      cursors:
                        before: crd_live_RzjTyGUwZioJLpZt
                        after: crd_live_Z1YXhVdg60B0UCLI
          description: La petición fue exitosa.
      operationId: get-v2-cards
      summary: Listar Tarjetas
      description: >-
        Listar Tarjetas te permitirá obtener una serie de Tarjetas existentes.
        De acuerdo a los filtros que uses, las tarjetas serán ordenados de
        acuerdo a su fecha de creación; siendo el primero el más reciente.
    post:
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              required:
                - customer_id
                - token_id
              type: object
              properties:
                customer_id:
                  description: ID de la tarjeta a enlazar a la tarjeta.
                  maxLength: 25
                  minLength: 25
                  type: string
                  example: cus_live_Lz6Yfsm7QqCPIECW
                token_id:
                  description: ID del token generado al Crear Token.
                  maxLength: 25
                  minLength: 25
                  type: string
                  example: tkn_live_vEcZSCOVz5PGDPdQ
                validate:
                  description: >-
                    Indica si se debe realizar una validación a la tarjeta, es
                    decir, Culqi crea un cargo mínimo (3 PEN) y lo devuelve
                    inmediatamente. Si no se considera el parametro, por defecto
                    tiene un valor true.
                  default: true
                  type: boolean
                metadata:
                  description: >-
                    Informacion adicional que se requiera enviar al crear la
                    tarjeta.
                  type: object
                  example:
                    marca_tarjeta: VISA
              x-examples:
                example-1:
                  customer_id: cus_live_Lz6Yfsm7QqCPIECW
                  token_id: tkn_live_vEcZSCOVz5PGDPdQ
      tags:
        - Tarjetas
      parameters:
        - name: Content-type
          schema:
            type: string
            example: application/json
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                type: object
              examples:
                example-1:
                  value:
                    object: card
                    id: crd_live_RzjTyGUwZioJLpZt
                    date: 1487044833972
                    customer_id: cus_live_Lz6Yfsm7QqCPIECW
                    token:
                      object: token
                      id: tkn_live_vEcZSCOVz5PGDPdQ
                      type: card
                      creation_date: 1487044809000
                      card_number: 411111******1111
                      last_four: '1111'
                      active: true
                      iin:
                        object: iin
                        bin: '411111'
                        card_brand: Visa
                        card_type: credit
                        card_category: Clásica
                        issuer:
                          name: JPMORGAN CHASE BANK, N.A.
                          country: United States
                          country_code: PE
                        installments_allowed:
                          - 2
                          - 4
                          - 6
                          - 8
                          - 10
                          - 12
                      client:
                        ip: 190.235.231.153
                        ip_country: Perú
                        ip_country_code: PE
                    metadata: {}
          description: La petición fue exitosa.
      operationId: crear-tarjeta
      summary: Crear Tarjeta
      description: >-
        A la hora de crear una Tarjeta tendrás que relacionar un token con un
        Cliente que has creado anteriormente para que este pueda ser utilizado
        para pagos posteriores y suscripciones.
  /v2/cards/{id}:
    get:
      tags:
        - Tarjetas
      parameters:
        - name: Content-type
          schema:
            type: string
            example: application/json
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
              examples:
                example-1:
                  value:
                    object: card
                    id: crd_live_RzjTyGUwZioJLpZt
                    date: 1487044833972
                    customer_id: cus_live_Lz6Yfsm7QqCPIECW
                    token:
                      object: token
                      id: tkn_live_vEcZSCOVz5PGDPdQ
                      type: card
                      creation_date: 1487044809000
                      card_number: 411111******1111
                      last_four: '1111'
                      active: true
                      iin:
                        object: iin
                        bin: '411111'
                        card_brand: Visa
                        card_type: credit
                        card_category: Clásica
                        issuer:
                          name: JPMORGAN CHASE BANK, N.A.
                          country: United States
                          country_code: PE
                        installments_allowed:
                          - 2
                          - 4
                          - 6
                          - 8
                          - 10
                          - 12
                      client:
                        ip: 190.235.231.153
                        ip_country: Perú
                        ip_country_code: PE
          description: La petición fue exitosa.
      operationId: get-v2-cards-id
      summary: Consultar Tarjeta
      description: >-
        Consultar el detalle de una tarjeta utilizando el ID devuelto en la
        petición para crear una Tarjeta, te permitirá obtener como respuesta
        todos los parámetros de esta. Si la petición es inválida te devolveremos
        un error.
    delete:
      tags:
        - Tarjetas
      parameters:
        - name: Content-type
          schema:
            type: string
            example: application/json
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
      responses:
        '200':
          description: La petición fue exitosa.
      operationId: delete-v2-cards-id
      summary: Eliminar Tarjeta
      description: >-
        Eliminar una Tarjeta te permitirá limpiar la cantidad de tarjetas
        asociadas a un Customer por varios motivos: la tarjeta superó la
        cantidad de denegaciones esperadas o el cliente es fraudulento y no
        quieres realizar más cobros a ese cliente, prevenir que tus clientes no
        paguen una suscripción de la que se han retirado, entre otras cosas. La
        petición devuelva el objeto Card eliminado.
    patch:
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                token_id:
                  description: >-
                    ID del token nuevo a actualizar en la Tarjeta, este es
                    generado previamente en Crear Token.
                  maxLength: 25
                  minLength: 25
                  type: string
                  example: tkn_live_vEcZSCOVz5PGDPdQ
                metadata:
                  type: object
                  example:
                    dni: '71701978'
            examples:
              example-1:
                value:
                  metadata:
                    dni: '71702323'
      tags:
        - Tarjetas
      parameters:
        - name: Content-type
          description: application/json
          schema:
            type: string
          in: header
          required: true
        - name: Authorization
          description: '[Llave privada.](#section/Autenticacion)'
          schema:
            type: string
          in: header
          required: true
      responses:
        '200':
          description: Petición fue exitosa.
      operationId: actualizar-tarjeta
      summary: Actualizar Tarjeta
      description: >-
        Actualizar una Tarjeta te permitirá agregar o reemplazar información a
        los valores de la metadata que enviaste a la hora de crearla. Cualquier
        parámetro o valor no provisto será omitido en los valores de la
        metadata. Actualmente, también permite actualizar el **ID del token
        asociado.**
    parameters:
      - name: id
        description: ID de la tarjeta.
        schema:
          maxLength: 25
          minLength: 25
          type: string
          example: crd_live_QDO81GT6Zaseewkp
        in: path
        required: true
  /v2/subscriptions:
    get:
      tags:
        - Suscripciones
      parameters:
        - name: Content-type
          description: application/json
          schema:
            type: string
          in: header
        - name: Authorization
          description: Bearer << llave_privada >>
          schema:
            type: string
          in: header
        - name: amount
          description: Monto de los planes asociados a las suscripciones
          schema:
            maxLength: 9999900
            minLength: 300
            type: string
            example: '2000'
          in: query
        - name: min_amount
          description: Monto mínimo de los planes asociados a las suscripciones
          schema:
            maxLength: 9999900
            minLength: 300
            type: string
            example: '2000'
          in: query
        - name: max_amount
          description: Monto máximo de los planes asociados a las suscripciones
          schema:
            maxLength: 9999900
            minLength: 300
            type: string
            example: '4000'
          in: query
        - name: date
          description: Fecha de la suscripción en UNIX Timestamp
          schema:
            format: date
            type: string
            example: '1476132639'
          in: query
        - name: date_from
          description: Fecha inicial de las suscripciones en UNIX Timestamp
          schema:
            format: date
            type: string
            example: '1476132639'
          in: query
        - name: date_to
          description: Fecha limite de las suscripciones en UNIX Timestamp
          schema:
            format: date
            type: string
            example: '1476132639'
          in: query
        - name: interval
          description: Intervalo de los planes asociados a las suscripciones
          schema:
            type: string
            example: 'Valores permitidos: Dias, Semanas, Meses, Años,'
          in: query
        - name: status
          description: Estado de las suscripciones  Valores permitidos
          schema:
            type: string
            example: Activa, Cancelada, Finalizada,
          in: query
        - name: limit
          description: Cantidad exacta de suscripciones que se quieren listar.
          schema:
            maxLength: 100
            minLength: 1
            type: string
            example: '50'
          in: query
        - name: before
          description: >-
            El ID de la suscripción desde donde se quiere traer la página
            anterior. No inclusivo.
          schema:
            maxLength: 25
            minLength: 25
            type: string
            example: sub_live_7lYOtONQ9LxcgJUW
          in: query
        - name: after
          description: >-
            El ID de la suscripción desde donde se quiere traer la siguiente
            página. No inclusivo.
          schema:
            maxLength: 25
            minLength: 25
            type: string
            example: sub_live_7lYOtOMM6LxcgJUW
          in: query
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
              examples:
                Get User Alice Smith:
                  value:
                    id: 142
                    firstName: Alice
                    lastName: Smith
                    email: alice.smith@gmail.com
                    dateOfBirth: '1997-10-31'
                    emailVerified: true
                    signUpDate: '2019-08-24'
          description: La petición fue exitosa
      operationId: get-users-userId
      summary: Listar Suscripciones
      description: >-
        Listar suscripciones te permitirá obtener una serie de suscripciones
        existentes. De acuerdo a los filtros que uses, las diferentes
        suscripciones serán ordenadas de acuerdo a su fecha de creación; siendo
        el primero el más reciente.
    post:
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              description: ''
              required:
                - card_id
                - plan_id
              type: object
              properties:
                card_id:
                  description: ID de la tarjeta.
                  maxLength: 25
                  minLength: 25
                  type: string
                  example: '"crd_live_b3MMECR8cJ5tZqf2"'
                plan_id:
                  description: ID del plan.
                  maxLength: 25
                  minLength: 25
                  type: string
                  example: '"pln_live_jwOAYnxX49o2ydWv"'
                metadata:
                  description: >-
                    Información adicional de la suscripción


                    Example: {"cliente_id": "256", "documento_identidad":
                    "000551487"}
                  type: object
              x-examples:
                example-1:
                  card_id: crd_live_b3MMECR8cJ5tZqf2
                  plan_id: pln_live_jwOAYnxX49o2ydWv
      tags:
        - Suscripciones
      parameters:
        - name: Content-type
          description: application/json
          schema:
            type: string
          in: header
        - name: Authorization
          description: Bearer << llave_privada >>
          schema:
            type: string
          in: header
      responses:
        '201':
          description: La petición fue exitosa
      operationId: post-v2-subscriptions
      summary: Crear Suscripción
      description: >-
        Esta operación relaciona la tarjeta de un cliente con un plan de
        cobranza recurrente creado anteriormente.
  /v2/subscriptions/{id}:
    get:
      tags:
        - Suscripciones
      parameters:
        - name: Content-type
          description: application/json
          schema:
            type: string
          in: header
        - name: Authorization
          description: Bearer << llave_privada >>
          schema:
            type: string
          in: header
      responses:
        '200':
          description: La petición fue exitosa
      operationId: get-v2-subscriptions-id
      summary: Consultar Suscripción
      description: >-
        Devuelve los detalles de una Suscripción en particular. Para la petición
        solo debes enviar el ID de la Suscripción que Culqi te devolvió a la
        hora de crearlo.
    delete:
      tags:
        - Suscripciones
      parameters:
        - name: Content-type
          description: application/json
          schema:
            type: string
          in: header
        - name: Authorization
          description: Bearer << llave_privada >>
          schema:
            type: string
          in: header
      responses:
        '200':
          description: La pertición fue exitosa
      operationId: delete-v2-subscriptions-id
      summary: Cancelar Suscripción
      description: >-
        Esta operación permite cancelar la suscripción a una tarjeta para que el
        cliente no vuelva a ser cobrado nuevamente.
    patch:
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              required:
                - metadata
              type: object
              properties:
                metadata:
                  description: >-
                    Información adicional de la suscripción a modificar


                    Example: {"cliente_id": "259", "documento_identidad":
                    "000551337"}
                  required:
                    - dni
                  type: object
                  properties:
                    dni:
                      minLength: 1
                      type: string
              x-examples:
                example-1:
                  metadata:
                    dni: '71702323'
      tags:
        - Suscripciones
      parameters:
        - name: Content-type
          description: application/json
          schema:
            type: string
          in: header
        - name: Authorization
          schema:
            type: string
          in: header
      responses:
        '200':
          description: La petición fue exitosa
      operationId: patch-v2-subscriptions-id
      summary: Actualizar Suscripción
      description: >-
        Actualizar una suscripción te permitirá agregar o reemplazar información
        a los valores de la metadata que enviaste a la hora de crearla.
        Cualquier parámetro o valor no provisto será omitido en los valores de
        la metadata.
    parameters:
      - name: id
        description: ID de la suscripcion a consultar.
        schema:
          maxLength: 25
          minLength: 25
          type: string
          example: '"sub_live_0CjjdWhFpEAZlxlz"'
        in: path
        required: true
  /v2/orders:
    get:
      tags:
        - Ordenes
      parameters:
        - name: Content-type
          description: application/json
          schema:
            type: string
          in: header
        - name: Authorization
          description: Bearer << llave_privada >>
          schema:
            type: string
          in: header
        - name: amount
          description: Monto de la orden en céntimos.
          schema:
            maximum: 999900
            minimum: 100
            type: integer
            example: 50.00 sería 5000
          in: query
        - name: min_amount
          description: Monto mínimo de los cargos en céntimos.
          schema:
            type: integer
            example: 100.00 sería 10000
          in: query
        - name: max_amount
          description: Monto máximo de los cargos en céntimos.
          schema:
            maximum: 999900
            minimum: 100
            type: integer
            example: 100.00 sería 10000
          in: query
        - name: creation_date
          description: Fecha de la tarjeta en UNIX Timestamp
          schema:
            type: string
            example: '1476132639'
          in: query
        - name: creation_date_from
          description: Fecha inicial de las tarjetas en UNIX Timestamp
          schema:
            type: string
            example: '1476132639'
          in: query
        - name: creation_date_to
          description: Fecha limite de las tarjetas en UNIX Timestamp
          schema:
            type: string
            example: '1476132639'
          in: query
        - name: state
          description: 'Estado de la orden a consultar  Valores permitidos:'
          schema:
            type: string
            example: created, pending, paid, expired, deleted,
          in: query
        - name: limit
          description: Cantidad exacta de ordenes que se quieren listar.
          schema:
            maximum: 100
            minimum: 1
            type: integer
            example: 50
          in: query
        - name: before
          description: >-
            El ID de la orden desde donde se quiere traer los resultados
            anteriores. No inclusivo.
          schema:
            maxLength: 25
            minLength: 25
            type: string
            example: ord_live_7lYOtONQ9LxcgJUW
          in: query
        - name: after
          description: >-
            El ID de la orden desde donde se quiere traer los resultados
            siguientes. No inclusivo.
          schema:
            maxLength: 25
            minLength: 25
            type: string
            example: ord_live_7lYOtOMM6LxcgJUW
          in: query
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
              examples:
                Example-1:
                  value:
                    data:
                      - ...
                    paging:
                      previous: >-
                        https://api.culqi.com/v2/orders?limit=50&before=crd_live_RzjT
                        yGUwZioJLpZt
                      next: >-
                        https://api.culqi.com/v2/orders?limit=50&after=crd_live_Z1YXhVdg6
                        0B0UCLI
                      cursors:
                        before: ord_live_RzjTyGUwZioJLpZt
                        after: ord_live_Z1YXhVdg60B0UCLI
          description: La petición fue exitosa
      operationId: get-users-userId
      summary: Listar órdenes
      description: >-
        Listas órdenes permtie obtener el listado de órdenes de tu comercio. De
        acuerdo a los filtros que uses, las ordenes serán ordenados de acuerdo a
        su fecha de creación; siendo el primero el más reciente.
    post:
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              required:
                - amount
                - currency_code
                - description
                - order_number
                - expiration_date
                - client_details
              type: object
              properties:
                amount:
                  description: Monto de la orden. Sin punto decimal.
                  maximum: 999900
                  minimum: 600
                  type: integer
                  example: 600.00 serían 60000
                currency_code:
                  description: Código de la moneda en tres letras (Formato ISO 4217).
                  minLength: 1
                  type: string
                  example: PEN
                description:
                  description: Descripcion de la orden
                  maxLength: 80
                  minLength: 5
                  type: string
                  example: ' Venta de polo'
                order_number:
                  description: Numero que identifica a la orden. Debe ser unico
                  maxLength: 36
                  minLength: 1
                  type: string
                  example: '"#id-9999"'
                expiration_date:
                  format: time
                  description: Fecha de expiracion de la orden. Debe ser una fecha futura.
                  type: string
                  example: '"1476132639"'
                client_details:
                  description: "\t\nDatos de la persona que realiza la compra."
                  required:
                    - confirm
                    - metadata
                  type: object
                  properties:
                    confirm:
                      description: "\t\nIndica si se debe confirmar la orden. Por defecto tiene un valor true.\n\nExample: true"
                      type: boolean
                    metadata:
                      description: >-
                        Informacion adicional que se requiera enviar al crear la
                        orden.


                        Example: "{dni"=>"71702999"}"
                      type: object
              x-examples:
                example-1:
                  amount: 1000
                  currency_code: PEN
                  description: Venta de prueba
                  order_number: pedido-9999
                  client_details:
                    first_name: Richard
                    last_name: Hendricks
                    email: richard@piedpiper.com
                    phone_number: '+51945145288'
                  expiration_date: 1538772846
      tags:
        - Ordenes
      parameters:
        - name: Content-type
          description: application/json
          schema:
            type: string
          in: header
        - name: Authorization
          description: Bearer << llave_privada >>
          schema:
            type: string
          in: header
      responses:
        '201':
          content:
            application/json:
              schema:
                type: object
              examples:
                example-1:
                  value:
                    object: order
                    id: ord_live_xjmEW4dIyJM9G4cc
                    amount: 6000
                    payment_code: '13642064'
                    currency_code: PEN
                    description: Venta de polo
                    order_number: '#id-9999'
                    state: pending
                    creation_date: 1538540487
                    expiration_date: 1538540700
                    qr: iVBORw0KGgoAAAANSUhE..........K5CYII=
                    cuotealo: url de cuotéalo
          description: La petición fue exitosa
      operationId: post-v2-orders
      summary: Crear Orden
      description: >-
        La creación de una orden permite que se genere un objeto orden con los
        detalles de la posible venta. Esta orden nace con un estado pendiente de
        pago. Además, al momento de la creación tu cliente recibe un correo con
        las instrucciones de como pagar la orden.


        <div class="box info"><div class="content">Si una orden es creada con el
        parametro confirm en false, esta tendrá que ser confirmada
        inmediatamente con el método Confirmar orden. De lo contrario, la orden
        no podrá ser pagada por tu cliente. Se recomienda crearla sin incluir el
        parámetro 'confirm'' para que siga el flujo natural.</div></div>
  /v2/orders/{id}/confirm:
    post:
      tags:
        - Ordenes
      parameters:
        - name: Content-type
          description: application/json
          schema:
            type: string
          in: header
        - name: Authorization
          description: Bearer << llave_privada >>
          schema:
            type: string
          in: header
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
              examples:
                New User Bob Fellow:
                  value:
                    object: order
                    id: ord_live_xjmEW4dIyJM9G4cc
                    amount: 6000
                    payment_code: '13642064'
                    currency_code: PEN
                    description: Venta de polo
                    order_number: '#id-9999'
                    state: pending
                    creation_date: 1538540487
                    expiration_date: 1538540700
                    qr: iVBORw0KGgoAAAANSUhE..........K5CYII=
                    cuotealo: url de cuotéalo
          description: La peticioón fue exitosa
        '400':
          description: Missing Required Information
        '409':
          description: Email Already Taken
      operationId: post-user
      summary: Confirmar orden
      description: >-
        El uso de este método es opcional. Confirmar una orden permite que una
        orden se habilite para ser pagada, generandole un código de pago y
        pasando a estado "pendiente". Solo se puede usar este método cuando la
        orden se encuentra en estado "creada".
    parameters:
      - name: id
        description: ID de la orden a confirmar.
        schema:
          maxLength: 25
          minLength: 25
          type: string
          example: '"ord_live_0CjjdWhFpEAZlxlz"'
        in: path
        required: true
  /v2/orders/confirm:
    post:
      requestBody:
        content:
          application/json:
            schema:
              required:
                - id
                - order_types
              type: object
              properties:
                id:
                  description: ID de la orden a confirmar.
                  type: string
                order_types:
                  description: >-
                    Es el medio de confirmación de cuotéalo y cip. Pueden ser
                    ambas o una de ellas.
                  type: array
                  items:
                    type: string
              x-examples:
                example-1:
                  id: ord_live_xjmEW4dIyJM9G4cc
                  order_types:
                    - cuotealo
                    - cip
            examples:
              example-1:
                value:
                  id: ord_live_xjmEW4dIyJM9G4cc
                  order_types:
                    - cuotealo
                    - cip
      tags:
        - Ordenes
      parameters:
        - name: Content-type
          schema:
            enum:
              - application/json
            type: string
          in: header
          required: true
        - name: Authorization
          description: Llave privada.
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
              examples:
                example-1:
                  value:
                    object: order
                    id: ord_live_xjmEW4dIyJM9G4cc
                    amount: 6000
                    payment_code: '13642064'
                    currency_code: PEN
                    description: Venta de polo
                    order_number: '#id-9999'
                    state: pending
                    creation_date: 1538540487
                    expiration_date: 1538540700
                    qr: iVBORw0KGgoAAAANSUhE..........K5CYII=
                    cuotealo: url de cuotéalo
          description: Petición exitosa.
      operationId: post-v2-orders-confirm
      summary: Confirmar tipo de Orden
      description: >-
        El uso de este método es opcional. Confirmar una orden permite que una
        orden se habilite para ser pagada, generandole un código de pago y
        pasando a estado "pendiente". Solo se puede usar este método cuando la
        orden se encuentra en estado "creada".
  /v2/orders/{id}:
    get:
      tags:
        - Ordenes
      parameters:
        - name: Content-type
          schema:
            type: string
          in: header
        - name: Authorization
          description: Llave privada.
          schema:
            type: string
          in: header
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
              examples:
                example-1:
                  value:
                    object: order
                    id: ord_live_xjmEW4dIyJM9G4cc
                    amount: 6000
                    payment_code: '13642064'
                    currency_code: PEN
                    description: Venta de polo
                    order_number: '#id-9999'
                    state: pending
                    creation_date: 1538540487000
                    expiration_date: 1538540700000
                    qr: iVBORw0KGgoAAAANSUhE..........K5CYII=
                    cuotealo: url de cuotéalo
          description: La petición fue exitosa
      operationId: get-v2-orders-id
      summary: Consultar Orden
      description: >-
        Consulta el detalle de una orden utilizando su ID. Como respuesta
        exitosa obtendrás un objeto Orden. Si la petición es inválida te
        devolveremos un error
    delete:
      tags:
        - Ordenes
      parameters:
        - name: Content-type
          description: application/json
          schema:
            type: string
          in: header
        - name: Authorization
          description: Bearer << llave_privada >>
          schema:
            type: string
          in: header
      responses:
        '200':
          description: La petición fue exitosa
      operationId: delete-v2-orders-id
      summary: Eliminar orden
      description: >-
        Eliminar una Orden te permitirá desactivar y dejar sin efecto una orden.
        Solo se puede aplicar para ordenes que se encuentren en estado
        'pendiente' o 'creada'.
    patch:
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              required:
                - expiration_date
              type: object
              properties:
                expiration_date:
                  description: >-
                    Nueva fecha de expiración. Debe ser mayor a la fecha de
                    expiración original.
                  maxLength: 25
                  minLength: 25
                  type: string
                  example: '"ord_live_vEcZSCOVz5PGDPdQ"'
                metadata:
                  description: "\t\nInformación adicional de la orden a modificar\n\nExample: \"{\"dni\"=>\"71701978\"}\""
                  type: object
              x-examples:
                example-1:
                  expiration_date: 234354545
            examples:
              example-1:
                value:
                  expiration_date: '"ord_live_vEcZSCOVz5PGDPdQ"'
                  metadata: {}
      tags:
        - Ordenes
      parameters:
        - name: Content-type
          description: application/json
          schema:
            type: string
          in: header
        - name: Authorization
          description: Bearer << llave_privada >>
          schema:
            type: string
          in: header
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
              examples:
                example-1:
                  value:
                    object: order
                    id: ord_live_xjmEW4dIyJM9G4cc
                    amount: 6000
                    payment_code: '13642064'
                    currency_code: PEN
                    description: Venta de polo
                    order_number: '#id-9999'
                    state: pending
                    creation_date: 1538540487000
                    expiration_date: 1538540700000
                    qr: iVBORw0KGgoAAAANSUhE..........K5CYII=
                    cuotealo: url de cuotéalo
          description: La petición fue exitosa
      operationId: patch-v2-orders-id
      summary: Actualizar orden
      description: >
        Con actualizar una orden se puede extender la validez de una orden, es
        decir, el tiempo de expiración. Además, te permitirá agregar o
        reemplazar información a los valores de la metadata que enviaste a la
        hora de crearla. Cualquier parámetro o valor no provisto será omitido en
        los valores de la metadata.
    parameters:
      - name: id
        description: ID de la orden a consultar.
        schema:
          maxLength: 25
          minLength: 25
          type: string
          example: '"ord_live_QDO81GT6Zaseewkp"'
        in: path
        required: true
  /v2/events/{id}:
    get:
      tags:
        - Eventos
      parameters:
        - name: Content-type
          schema:
            type: string
            example: application/json
          in: header
          required: true
        - name: Authorization
          description: Llave privada.
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
      responses:
        '200':
          description: La petición fue exitosa.
      operationId: consultar-evento
      summary: Consultar Evento
      description: >-
        Devuelve los detalles de un Evento en particular. Para la petición solo
        debes enviar el ID del Evento que Culqi te devolvió en el Webhook. Todos
        los eventos comparten una estructura común y la única propiedad que es
        diferente es el parámetro data.
    parameters:
      - name: id
        description: ID del evento a consultar.
        schema:
          maxLength: 25
          minLength: 25
          type: string
          example: evt_live_0CjjdWhFpEAZlxlz
        in: path
        required: true
  /v2/events:
    get:
      tags:
        - Eventos
      parameters:
        - name: Content-type
          schema:
            type: string
            example: application/json
          in: header
          required: true
        - name: Authorization
          description: Llave privada.
          schema:
            type: string
            example: Bearer sk_test_UTCQSGcXW8bCyU59
          in: header
          required: true
        - name: type
          description: Tipo de evento a filtrar.
          schema:
            type: string
            example: charge.creation.succeeded (cargos exitosos)
          in: query
        - name: creation_date
          description: Fecha del evento en [UNIX Timestamp](http://www.unixtimestamp.com/)
          schema:
            type: string
            example: '1476132639'
          in: query
        - name: creation_date_from
          description: >-
            Fecha inicial de los eventos en [UNIX
            Timestamp.](http://www.unixtimestamp.com/)
          schema:
            type: string
            example: '1476132639'
          in: query
        - name: creation_date_to
          description: >-
            Fecha limite de los eventos en [UNIX
            Timestamp.](http://www.unixtimestamp.com/)
          schema:
            type: string
            example: '1476132639'
          in: query
        - name: limit
          description: Cantidad exacta de eventos que se quieren listar.
          schema:
            maxLength: 100
            minLength: 1
            type: string
            example: '50'
          in: query
        - name: before
          description: >-
            El ID del evento desde donde se quiere traer la página anterior. No
            inclusivo.
          schema:
            type: string
            example: evt_live_7lYOtONQ9LxcgJUW
          in: query
        - name: after
          description: >-
            El ID del evento desde donde se quiere traer la siguiente página. No
            inclusivo.
          schema:
            maxLength: 25
            minLength: 25
            type: string
            example: evt_live_7lYOtOMM6LxcgJUW
          in: query
      responses:
        '200':
          description: La petición fue exitosa.
      operationId: listar-eventos
      summary: Listar Eventos
      description: >-
        Listar eventos te permitirá obtener una serie de eventos existentes. De
        acuerdo a los filtros que uses, los diferentes eventos serán ordenados
        de acuerdo a su fecha de creación; siendo el primero el más reciente.
components:
  schemas:
    Token:
      title: Objeto Token
      description: Objeto Token
      required:
        - object
        - id
        - type
        - creation_date
        - email
        - card_number
        - last_four
        - active
        - iin
        - client
      type: object
      properties:
        object:
          description: Nombre del objeto
          minLength: 1
          enum:
            - token
          type: string
        id:
          description: ID del token.
          minLength: 1
          type: string
          example: tkn_live_0CjjdWhFpEAZlxlz
        type:
          description: Método de pago.
          minLength: 1
          enum:
            - card
          type: string
        creation_date:
          description: >-
            Fecha de creación del [token en
            UNIX.](http://www.unixtimestamp.com/)
          type: integer
          example: 1476132639
        email:
          description: Dirección de correo electrónico del cliente.
          minLength: 1
          type: string
          example: richard@piedpiper.com
        card_number:
          description: Número de la tarjeta enmascarado.
          minLength: 1
          type: string
          example: 442328******1214
        last_four:
          description: Ultimos cuatro números de la tarjeta.
          minLength: 1
          type: string
          example: '1214'
        active:
          description: Indica si el token se encuentra activo para realizar un cargo.
          type: boolean
        iin:
          description: Información del banco emisor y el tipo de tarjeta.
          required:
            - object
            - bin
            - card_brand
            - card_type
            - card_category
            - issuer
            - installments_allowed
          type: object
          properties:
            object:
              description: Nombre del objeto.
              minLength: 1
              type: string
            bin:
              description: >-
                Código de identificación del banco emisor expresado en formato
                ISO/IEC 7812.
              type: string
              example: '442328'
            card_brand:
              description: Marca de la tarjeta.
              minLength: 1
              enum:
                - Visa
                - Mastercard
                - Amex
                - Diners
              type: string
            card_type:
              description: Tipo de tarjeta.
              minLength: 1
              enum:
                - credito
                - debito
                - prepagada
              type: string
            card_category:
              description: Categoría de la tarjeta.
              minLength: 1
              type: string
              example: platinum
            issuer:
              description: Información del banco emisor de la tarjeta.
              required:
                - name
                - country
                - country_code
                - website
                - phone_number
              type: object
              properties:
                name:
                  description: Nombre del banco emisor de la tarjeta.
                  minLength: 1
                  type: string
                  example: Silicon Valley Bank
                country:
                  minLength: 1
                  type: string
                  example: País del banco emisor de la tarjeta.
                country_code:
                  description: Código del país del banco emisor en formato ISO 3166-2.
                  minLength: 1
                  type: string
                  example: US
                website:
                  description: Sitio web del banco emisor.
                  type: string
                  example: https://www.svb.com/
                phone_number:
                  description: Número de teléfono del banco emisor.
                  minLength: 1
                  type: string
                  example: +1.800.774.7390
            installments_allowed:
              description: Número de cuotas soportadas por la tarjeta.
              type: array
              items:
                type: integer
                example: 2, 4, 8, 12, 24, 36
        client:
          description: Información del cliente y dispositivo utilizado.
          required:
            - ip
            - ip_country
            - ip_country_code
            - browser
            - device_fingerprint
            - device_type
          type: object
          properties:
            ip:
              description: Dirección IP.
              type: string
              example: 72.229.28.185
            ip_country:
              description: País de la Dirección IP.
              type: string
              example: United States
            ip_country_code:
              description: Código del país de la Dirección IP en formato ISO 3166-2.
              minLength: 1
              type: string
              example: US
            browser:
              description: Nombre y versión del navegador.
              minLength: 1
              type: string
              example: Google Chrome 56.0.2924.87
            device_fingerprint:
              description: Código único de identificación del dispositivo.
              type: string
              example: 6rITdVTYkWfOrss8
            device_type:
              description: Tipo de dispositivo.
              enum:
                - escritorio
                - tablet
                - smartphone
              type: string
        metadata:
          description: >-
            Envía parametros adicionales con información relevante. [Ver
            más](#section/Metadata)
          type: object
          properties:
            dni:
              type: string
              example: '5831543'
      x-examples:
        example-1:
          object: token
          id: tkn_live_0CjjdWhFpEAZlxlz
          type: card
          email: richard@piedpiper.com
          creation_date: 1476132639
          card_number: 442328******1214
          last_four: '1214'
          active: true
          iin:
            object: iin
            bin: '442328'
            card_brand: Visa
            card_type: credito
            card_category: platinum
            issuer:
              name: Silicon Valley Bank
              country: United States
              country_code: US
              website: https://www.svb.com
              phone_number: +1.800.774.7390
            installments_allowed:
              - 2
              - 4
              - 8
              - 12
              - 24
              - 36
          client:
            ip: 72.229.28.185
            ip_country: United States
            ip_country_code: US
            browser: Google Chrome 56.0.2924.87
            device_fingerprint: 6rITdVTYkWfOrss8
            device_type: escritorio
          metadata:
            dni: '5831543'
    Cargo:
      title: Cargo
      required:
        - object
        - id
        - creation_date
        - amount
        - current_amount
        - currency_code
        - email
        - source
        - outcome
        - antifraud_details
        - dispute
        - reference_code
        - duplicated
        - metadata
        - fee_details
        - paid
        - statement_descriptor
        - operations
      type: object
      properties:
        object:
          description: Nombre del objeto.
          type: string
        id:
          description: ID del cargo.
          type: string
          example: chr_live_kEazTaQBDtzNdwFr
        creation_date:
          description: Fecha de creación del cargo en UNIX Timestamp.
          type: integer
          example: '1476132639'
        amount:
          description: Monto inicial del cargo en céntimos.
          type: integer
          example: 10000
        amount_refunded:
          description: Monto devuelto del cargo en céntimos.
          type: integer
          example: '500'
        current_amount:
          description: Monto actual del cargo en céntimos.
          type: integer
          example: 9900
        installments:
          description: Número de cuotas aplicadas al cargo.
          type: integer
          example: '2'
        installments_amount:
          description: Monto aproximado de la cuota que se aplicará al cliente.
          type: integer
        currency_code:
          description: >-
            Código de la moneda en la que se realizó el cargo en formato **ISO
            3166-2.** 
          enum:
            - PEN
            - USD
          type: string
        email:
          description: Dirección de correo electrónico del cliente.
          type: string
          example: richard@piedpiper.com
        description:
          description: Descripción del producto o servicio adquirido.
          type: string
          example: Hooli Phone
        source:
          description: >-
            Información del objeto utilizado para crear el cargo. Puede ser un
            [token](#tag/Tokens) o una [tarjeta](#tag/Tarjetas).
          type: object
        outcome:
          description: Información detallada acerca del éxito o denegación del cargo.
          required:
            - type
            - code
            - merchant_message
            - user_message
          type: object
          properties:
            type:
              description: >-
                Si el cargo fue exitoso recibirás tipos de errores para más
                información.
              type: string
              example: succesfull_request
            code:
              description: Código que indica el resultado del cargo.
              enum:
                - succesfull_charge
                - card_declined
              type: string
              example: succesfull_charge
            decline_code:
              description: Indica el motivo de denegación devuelto por los bancos.
              type: string
              example: insufficient_funds
            merchant_message:
              description: >-
                Mensaje dirigido al comercio para conocer el resultado del
                cargo.
              type: string
              example: >-
                Venta exitosa. Se logró realizar el cargo a la tarjeta del
                cliente.
            user_message:
              description: Mensaje dirigido al cliente para conocer el resultado del cargo.
              type: string
              example: ¡Felicitaciones! Su compra ha sido exitosa.
        fraud_score:
          description: >-
            Métrica que define el nivel de riesgo de fraude del cliente. Revisa
            la [guía de análisis de
            riesgo](https://docs.culqi.com/#/fraude/riesgo) para más
            información.
          type: number
          example: 30
        antifraud_details:
          description: Parámetros evaluados para el motor de fraude.
          type: object
          properties:
            first_name:
              description: Nombres del cliente.
              type: string
              example: Richard
            last_name:
              description: Apellidos del cliente.
              type: string
              example: Hendricks
            address:
              description: Dirección del cliente.
              type: string
              example: 5230 Newell Road
            address_city:
              description: Ciudad del cliente.
              type: string
              example: Palo Alto
            country_code:
              description: >-
                Código del país de la dirección del cliente en formato **ISO
                3166-2**.
              type: string
              example: US
            phone:
              description: >-
                Número de teléfono del cliente, sólo dígitos. No permite signos
                ni espacios.
              type: string
              example: '65054324800'
        dispute:
          description: >-
            Indica si el cargo está en disputa. Revisa la [guía de
            disputas](https://docs.culqi.com/#/fraude/disputas) para más
            información.
          type: boolean
        reference_code:
          description: ID de referencia de la marca procesadora.
          type: string
          example: 1jKsutQy4s
        duplicated:
          description: Indica si ya se realizó un cargo con la misma información.
          type: boolean
        metadata:
          description: >-
            Envía parametros adicionales con información relevante. [Ver
            más.](#section/Metadata)
          type: object
        fee_details:
          description: >-
            Información detallada acerca de la comisión cobrada por Culqi.


            **IMPORTANTE:** Las comisiones se calculan de manera asíncrona, por
            lo que podrá recibir valores en blanco o NULL
            temporalmente.                
          type: object
          properties:
            fixed_fee:
              description: >-
                Información detallada acerca de la comisión fija cobrada por
                Culqi.
              type: object
            variable_fee:
              required:
                - currency_code
                - commision
                - total
              type: object
              properties:
                currency_code:
                  description: >-
                    Código del país de la moneda de la comisión variable
                    expresada en formato ISO 3166-2.
                  enum:
                    - PEN
                    - USD
                  type: string
                  example: PEN
                commision:
                  description: Porcentaje variable que se aplica al monto actual del cargo.
                  type: number
                  example: 0.0399
                total:
                  description: Monto final de la comisión variable expresada en céntimos.
                  type: integer
                  example: 399
        paid:
          description: >-
            Indica si el cargo está depositado en la cuenta bancaria. Revisa la
            [guía de depósitos](https://docs.culqi.com/#/operaciones/depositos)
            para más información.
          type: boolean
        statement_descriptor:
          description: >-
            Descripción que aparecerá en el estado de cuenta del cliente para
            reflejar el cargo.
          type: string
          example: Culqi
        operations:
          description: >-
            Información de las operaciones que afectaron el monto original del
            cargo.
          required:
            - type
            - operation_id
            - creation_date
          type: object
          properties:
            type:
              description: Tipo de operación.
              enum:
                - devolucion
                - disputa
                - fraude
              type: string
              example: devolucion
            operation_id:
              description: ID de la operación.
              type: string
              example: ref_live_TWsfemI22ypplGK6
            creation_date:
              description: >-
                Fecha de creación de la operación en [UNIX
                Timestamp].(http://www.unixtimestamp.com/)
              type: integer
              example: 1476132639
      x-examples:
        example-1:
          object: charge
          id: chr_live_kEazTaQBDtzNdwFr
          creation_date: 1556206150307
          amount: 10000
          amount_refunded: 0
          current_amount: 10000
          installments: 0
          currency: PEN
          description: Hooli Phone
          source:
            object: token
            id: tkn_live_0CjjdWhFpEAZlxlz
            type: card
            email: richard@piedpiper.com
            creation_date: 1476132639
            card_number: 442328******1214
            last_four: '1214'
            active: true
            iin:
              object: iin
              bin: '442328'
              card_brand: Visa
              card_type: credito
              card_category: platinum
              issuer:
                name: Silicon Valley Bank
                country: United States
                country_code: US
                website: https://www.svb.com
                phone_number: +1.800.774.7390
              installments_allowed:
                - 2
                - 4
                - 8
                - 12
                - 24
                - 36
            client:
              ip: 72.229.28.185
              ip_country: United States
              ip_country_code: US
              browser: Google Chrome 56.0.2924.87
              device_fingerprint: 6rITdVTYkWfOrss8
              device_type: escritorio
    Devolucion:
      title: Objeto Devolución
      description: ''
      required:
        - object
        - id
        - charge_id
        - creation_date
        - amount
        - reason
      type: object
      properties:
        object:
          description: Nombre del objeto.
          minLength: 1
          enum:
            - refund
          type: string
        id:
          description: ID de la devolución.
          minLength: 1
          type: string
          example: ref_live_TTfLAgaA8nz8PWbO
        charge_id:
          description: ID del cargo al que se le aplicó la devolución.
          minLength: 1
          type: string
          example: chr_live_kEazTaQBDtzNdwFr
        creation_date:
          description: Fecha de creación de la devolución en UNIX Timestamp.
          type: integer
          example: 1476132639
        amount:
          description: Monto de la devolución en céntimos.
          type: integer
          example: 1000
        reason:
          description: Razón o motivo de la devolución.
          minLength: 1
          enum:
            - Duplicado
            - Fraudulento
            - Devolución solicitada por el comercio
          type: string
        metadata:
          description: Envía parametros adicionales con información
          type: object
      x-examples:
        example-1:
          object: refund
          id: ref_live_TTfLAgaA8nz8PWbO
          charge_id: chr_live_kEazTaQBDtzNdwFr
          creation_date: 1556552960000
          amount: 2000
          reason: Devolución solicitada por el comercio
          metadata: {}
    Cliente:
      description: ''
      required:
        - object
        - id
        - creation_date
        - email
        - antifraud_details
      type: object
      properties:
        object:
          description: Nombre del objeto.
          minLength: 1
          enum:
            - customer
          type: string
        id:
          description: ID del cliente.
          minLength: 1
          type: string
          example: cus_live_TWsfemI22ypplGK6
        creation_date:
          description: Fecha de creación del cliente en UNIX Timestamp.
          type: integer
          example: 1476132639
        email:
          description: Dirección de correo electrónico del cliente.
          minLength: 1
          type: string
          example: richard@piedpiper.com
        antifraud_details:
          description: Parámetros evaluados para el motor de fraude.
          required:
            - country_code
            - first_name
            - last_name
            - address_city
            - address
            - phone
            - object
          type: object
          properties:
            country_code:
              description: >-
                Código del país de la dirección del cliente en formato ISO
                3166-2.
              minLength: 1
              type: string
              example: US
            first_name:
              description: Nombres del cliente.
              minLength: 1
              type: string
              example: Richard
            last_name:
              description: Apellidos del cliente.
              minLength: 1
              type: string
              example: Hendricks
            address_city:
              description: Ciudad del cliente.
              minLength: 1
              type: string
              example: Palo Alto
            address:
              description: Dirección del cliente.
              minLength: 1
              type: string
              example: 5230 Newell Road
            phone:
              description: Número de teléfono del cliente.
              minLength: 1
              type: string
              example: '65054324800'
            object:
              description: Nombre del objeto.
              minLength: 1
              type: string
              example: client
        metadata:
          description: Envía parametros adicionales con información relevante. Ver más.
          type: object
      x-examples:
        example-1:
          object: customer
          id: cus_live_Lz6Yfsm7QqCPIECW
          creation_date: 1487041774773
          email: richard@piedpiper.com
          antifraud_details:
            country_code: US
            first_name: Richard
            last_name: Richard
            address_city: Palo Alto
            address: San Francisco Bay Area
            phone: '6505434800'
            object: client
          metadata: {}
    Tarjeta:
      description: ''
      required:
        - object
        - id
        - creation_date
        - customer_id
        - source
        - metadata
      type: object
      properties:
        object:
          description: Nombre del objeto.
          enum:
            - card
          type: string
        id:
          description: ID de la tarjeta.
          type: string
          example: crd_live_TWsfemI22ypplGK6
        creation_date:
          description: Fecha de creación de la tarjeta en UNIX Timestamp.
          type: integer
          example: 1476132639
        customer_id:
          description: ID del cliente.
          type: string
          example: cus_live_TWsfemI22ypplGK6
        source:
          description: >
            Información del objeto <a href="#operation/crear-token">token</a>
            utilizado para crear una tarjeta.
          type: object
        metadata:
          description: Envia parámetros adicionales con información relevante. Ver más.
          type: object
      x-examples:
        example-1:
          object: card
          id: crd_live_TWsfemI22ypplGK6
          date: 1487044833972
          customer_id: cus_live_TWsfemI22ypplGK6
          source:
            object: token
            id: tkn_live_vEcZSCOVz5PGDPdQ
            type: card
            creation_date: 1487044809000
            card_number: 411111******1111
            last_four: '1111'
            active: true
            iin:
              object: iin
              bin: '411111'
              card_brand: Visa
              card_type: credit
              card_category: Clásica
              issuer:
                name: JPMORGAN CHASE BANK, N.A.
                country: United States
                country_code: PE
              installments_allowed:
                - 2
                - 4
                - 6
                - 8
                - 10
                - 12
            client:
              ip: 190.235.231.153
              ip_country: Perú
              ip_country_code: PE
          metadata: {}
    Plan:
      description: ''
      required:
        - object
        - id
        - creation_date
        - name
        - amount
        - currency_code
        - interval_count
        - interval
        - limit
        - trial_days
        - total_subscriptions
        - metadata
      type: object
      properties:
        object:
          description: Nombre del objeto.
          minLength: 1
          enum:
            - plan
          type: string
        id:
          description: ID del plan.
          minLength: 1
          type: string
          example: pln_live_QDO81GT6Zaseewkp
        creation_date:
          description: >-
            Fecha de creación del plan en [UNIX
            Timestamp](http://www.unixtimestamp.com/).
          type: integer
          example: 1476132639
        name:
          description: Descripción del plan.
          minLength: 1
          type: string
          example: Hooli Subscription
        amount:
          description: Monto del plan a cobrar recurrentemente expresado en céntimos.
          type: number
          example: 10000
        currency_code:
          description: >-
            Código del país de la moneda de la suscripción en formato **ISO
            3166-2**.
          minLength: 1
          enum:
            - PEN
            - USD
          type: string
        interval_count:
          description: Define el intervalo de cada cuánto se va a realizar un cargo.
          type: integer
          example: 1
        interval:
          description: Define el periodo de un cargo recurrente.
          minLength: 1
          enum:
            - dias
            - semanas
            - meses
            - años
          type: string
        limit:
          description: >-
            Define el límite de cuántos cargos se deben realizar. Si no se
            define, los cargos recurrentes son infinitos.
          type: integer
          example: 2
        trial_days:
          description: Número de días del "periodo de pruebas".
          type: integer
          example: 1
        total_subscriptions:
          description: Número de suscripciones afiliadas a un plan.
          type: integer
          example: 79
        metadata:
          description: >-
            Envía parametros adicionales con información relevante. [Ver
            más](#section/Metadata).
          type: object
      x-examples:
        example-1:
          object: plan
          id: pln_live_uvBzalwuY3UsxJ9l
          creation_date: 1556569427000
          name: Hooli Subscription
          amount: 2000
          currency_code: PEN
          interval_count: 1
          interval: Meses
          limit: 0
          trial_days: 0
          total_subscriptions: 0
          metadata: {}
    Orden:
      title: ''
      description: ''
      required:
        - object
        - id
        - amount
        - currency_code
        - description
        - creation_date
        - expiration_date
      type: object
      properties:
        object:
          description: Nombre del objeto.
          minLength: 1
          enum:
            - order
          type: string
        id:
          description: ID de la Orden.
          minLength: 1
          type: string
          example: ord_live_TWsfemI22ypplGK6
        amount:
          description: Monto de la Orden. Sin punto decimal.
          type: integer
          example: 600.00 serían 60000
        payment_code:
          description: Código de pago de la orden.
          minLength: 1
          type: string
          example: '13642064'
        currency_code:
          description: Código de la moneda en tres letras Formato **ISO 4217**.
          minLength: 1
          enum:
            - PEN
          type: string
        description:
          description: Descripcion de la orden.
          maxLength: 80
          minLength: 5
          type: string
          example: Venta de polo
        order_number:
          description: Número de la orden. Este debe ser único entre todas tus órdenes.
          minLength: 1
          type: string
          example: '#id-9999'
        creation_date:
          description: >-
            Fecha de creación de la orden en [UNIX
            Timestamp.](http://www.unixtimestamp.com/)
          type: integer
          example: 1476132639
        expiration_date:
          description: >-
            Fecha de creación de la tarjeta en [UNIX
            Timestamp.](http://www.unixtimestamp.com/)


            El tiempo de vigencia de CIP es mínimo 10 minutos y máximo 6 meses
          type: integer
          example: 1476132639
        metadata:
          description: >-
            Envia parámetros adicionales con información relevante. [Ver
            más.](#section/Metadata)
          type: object
        qr:
          description: >-
            Contiene la imagen del QR en base 64 para los pagos con billeteras
            móviles.
          minLength: 1
          type: string
        cuotealo:
          description: >-
            Muestra la URL que será redirigido tu cliente para evaluar si su
            compra será financiada por Cuotéalo BCP.
          minLength: 1
          type: string
      x-examples:
        example-1:
          object: order
          id: ord_live_xjmEW4dIyJM9G4cc
          amount: 6000
          payment_code: '13642064'
          currency_code: PEN
          description: Venta de polo
          order_number: '#id-9999'
          state: pending
          creation_date: 1538540487000
          expiration_date: 1538540700000
          qr: iVBORw0KGgoAAAANSUhE..........K5CYII=
          cuotealo: url de cuotéalo
    Suscripcion:
      title: ''
      description: ''
      required:
        - object
        - id
        - creation_date
        - status
        - current_period
        - total_period
        - current_period_start
        - current_period_end
        - cancel_at_period_end
        - canceled_at
        - ended_at
        - next_billing_date
        - trial_start
        - trial_end
        - charges
        - plan
        - card
        - metadata
      type: object
      properties:
        object:
          description: Nombre del objeto.
          minLength: 1
          enum:
            - subscription
          type: string
        id:
          description: ID de la suscripción.
          minLength: 1
          type: string
          example: sub_live_0CjjdWhFpEAZlxlz
        creation_date:
          description: >-
            Fecha de creación de la suscripción en [UNIX
            Timestamp.](http://www.unixtimestamp.com/)
          type: integer
        status:
          description: Estado de la suscripción.
          minLength: 1
          enum:
            - Activa
            - Cancelada
            - Finalizada
          type: string
        current_period:
          description: Número del ciclo actual de la suscripción.
          type: integer
          example: 4
        total_period:
          description: >-
            Número del ciclos totales de la suscripción. Si es null los ciclos
            son infinitos.
          type: integer
          example: 12
        current_period_start:
          description: >-
            Fecha de inicio del ciclo en [UNIX
            Timestamp.](http://www.unixtimestamp.com/)
          type: integer
          example: 1476132639
        current_period_end:
          description: >-
            Fecha de fin del ciclo en [UNIX
            Timestamp.](http://www.unixtimestamp.com/)
          type: integer
          example: 1476132639
        cancel_at_period_end:
          description: Indica si la suscripción finaliza luego de terminar el ciclo actual.
          type: boolean
        canceled_at:
          description: Fecha en la que fue cancelada la suscripción en UNIX Timestamp.
          type: integer
          example: 1476132639
        ended_at:
          description: >-
            Fecha en la que finalizará la suscripción en [UNIX
            Timestamp.](http://www.unixtimestamp.com/)
          type: integer
        next_billing_date:
          description: >-
            Fecha en la que inicia el próximo ciclo de la suscripción en [UNIX
            Timestamp.](http://www.unixtimestamp.com/)
          type: integer
        trial_start:
          description: >-
            Fecha en la que inicia el periodo de pruebas gratis de la
            suscripción en [UNIX Timestamp.](http://www.unixtimestamp.com/)
          type: integer
          example: 1476132639
        trial_end:
          description: >-
            Fecha en la que finaliza el periodo de pruebas gratis de la
            suscripción en [UNIX Timestamp.](http://www.unixtimestamp.com/)
          type: integer
          example: 1476132639
        charges:
          description: >-
            Listado de [cargos](#tag/Cargos) realizados durante todos los
            ciclos.
          type: object
        plan:
          description: Información del objeto plan utilizado para crear una suscripción.
          type: object
        card:
          description: Información del objeto card utilizado para crear una suscripción.
          type: object
        metadata:
          description: Envía parametros adicionales con información relevante. Ver más.
          type: object
      x-examples:
        example-1:
          object: subscription
          id: sub_live_3jswePaiCzqgrGeb
          creation_date: 1556573460000
          status: Activa
          current_period: 1
          total_period: 2
          current_period_start: 1556600400000
          current_period_end: 1556686800000
          cancel_at_period_end: true
          ended_at: 1556686800000
          next_billing_date: 1556600400000
          trial_start: 1556573460000
          trial_end: 1556573460000
          charges:
            - object: charge
              id: chr_live_ZIFPHDMxfK4o3SWG
              creation_date: 1556573460854
              amount: 300
              amount_refunded: 0
              current_amount: 300
              installments: 0
              currency_code: PEN
              email: richard@piedpiper.com
              description: Plan Basico
              source:
                object: token
                id: tkn_live_0uBKVi3TYWvJktrZ
                type: card
                creation_date: 1542057744000
                email: richard@piedpiper.com
                card_number: 411111******1111
                last_four: '1111'
                active: true
                iin:
                  object: iin
                  bin: '411111'
                  card_brand: Visa
                  card_type: debito
                  card_category: Empresarial
                  issuer:
                    name: BCP
                    country: PERU
                    country_code: PE
                  installments_allowed: []
                client:
                  ip: 190.42.137.165
                  ip_country: Perú
                  ip_country_code: PE
                  device_type: Escritorio
                metadata: {}
              outcome:
                type: venta_exitosa
                code: AUT0000
                merchant_message: La operación de venta ha sido autorizada exitosamente
                user_message: Su compra ha sido exitosa.
              antifraud_details:
                first_name: Liz
                last_name: Reuelas
                address: av. lima 543
                address_city: Lima
                country_code: PE
                phone: '986345071'
                object: client
              dispute: false
              reference_code: '713362012'
              authorization_code: '387241'
              metadata: {}
              total_fee: 14
              fee_details:
                fixed_fee: {}
                variable_fee:
                  currency_code: PEN
                  commision: 0.0399
                  total: 12
              paid: false
              statement_descriptor: CULQI*
          plan:
            object: plan
            id: pln_live_p2h9whfQH9h4K1uF
            creation_date: 1542057736000
            name: Plan Basico
            amount: 300
            currency_code: PEN
            interval_count: 1
            interval: Días
            limit: 2
            trial_days: 0
            total_subscriptions: 3
            metadata: {}
          card:
            object: card
            id: crd_live_4F1vID7awAMt4mRB
            active: true
            creation_date: 1542057587000
            customer_id: cus_live_8yoYQOr0p6peIZ1d
            source:
              object: token
              id: tkn_live_0uBKVi3TYWvJktrZ
              type: card
              creation_date: 1542057744000
              email: richard@piedpiper.com
              card_number: 411111******1111
              last_four: '1111'
              active: true
              iin:
                object: iin
                bin: '411111'
                card_brand: Visa
                card_type: debito
                card_category: Empresarial
                issuer:
                  name: BCP
                  country: PERU
                  country_code: PE
                installments_allowed: []
              client:
                ip: 190.42.137.165
                ip_country: Perú
                ip_country_code: PE
                device_type: Escritorio
              metadata: {}
            metadata: {}
          metadata: {}
    Metadata:
      title: Objeto Metadata
      type: object
      properties:
        order_id:
          description: Adjunta un número de pedido incremental.
          type: string
          example: '204055'
        user_id:
          description: Adjunta un identificador del cliente de tu sistema.
          type: string
          example: '4625'
        user_details:
          description: Adjunta datos adicionales sobre tu cliente 100.
          type: string
          example: '46734527'
    Evento:
      title: Objeto Evento
      description: ''
      required:
        - object
        - type
        - data
      type: object
      properties:
        object:
          description: Nombre del objeto.
          maxLength: 25
          minLength: 25
          type: string
          example: tkn_
        type:
          description: Identifica si es un cargo repetido.
          minLength: 1
          type: string
        data:
          description: Objeto que contiene al recurso.
          type: object
      x-examples:
        example-1:
          object: event
          type: charged.failed
          data: {}
    Rastreo:
      required:
        - date
        - x-culqi-environment
        - x-culqi-tracking-id
        - x-culqi-version
        - content-type
      type: object
      properties:
        date:
          description: Fecha en la que se creó la petición en UNIX Timestamp.
          type: string
          example: '1476132639'
        x-culqi-environment:
          description: Entorno al que se realizó la petición. Ver más.
          enum:
            - live
            - test
          type: string
        x-culqi-tracking-id:
          description: Código de identificación de la petición.
          type: string
          example: '9283'
        x-culqi-version:
          description: Número de versión del API.
          type: string
          example: 17.01.89
        content-type:
          description: Formato de contenido de la respuesta.
          enum:
            - applcation/json
          type: string
    Error:
      title: Objecto Error
      required:
        - type
        - merchant_message
      type: object
      properties:
        type:
          description: Indica el tipo de error devuelto
          enum:
            - invalid_request_error
            - authentication_error
            - parameter_error
            - card_error
            - limit_api_error
            - resource_error
            - api_error
          type: string
          example: card_error
        charge_id:
          description: El ID del cargo que ha sido denegado
          type: string
          example: '"chr_test_stm3Fr4HIPC50qxH"'
        code:
          description: Indica el tipo de error relacionado a una tarjeta
          type: string
          example: ' "card_declined"'
        declined_code:
          description: Indica el motivo de denegación devuelto por los bancos.
          type: string
          example: '"insufficient_funds"'
        merchant_message:
          description: Mensaje dirigido al comercio para conocer el detalle del error.
          type: string
          example: ' "La tarjeta no tiene fondos suficientes para realizar la compra."'
        user_message:
          description: Mensaje dirigido al cliente para conocer el detalle del error.
          type: string
          example: ' "Su tarjeta no tiene fondos suficientes. Verifica tus fondos disponibles con el banco emisor o inténta nuevamente con otra tarjeta."'
        param:
          description: Indica el parámetro específico relacionado al error.
          type: string
          example: ' "amount"'
      x-stoplight:
        id: th7ghbb22gn9b
  parameters:
    date:
      name: date
      description: >-
        Fecha en la que se creó la petición en [UNIX
        Timestamp.](http://www.unixtimestamp.com/)
      schema:
        type: string
      in: header
      required: true
    x-culqi-environment:
      name: x-culqi-environment
      description: >-
        Entorno al que se realizó la petición. [Ver
        más.](https://docs.culqi.com/#/cuenta/cuenta#entornos)
      schema:
        enum:
          - live
          - test
        type: string
      in: header
      required: true
    x-culqi-tracking-id:
      name: x-culqi-tracking-id
      description: Código de identificación de la petición.
      schema:
        type: string
        example: '9283'
      in: header
      required: true
    x-culqi-version:
      name: x-culqi-version
      description: Número de versión del API.
      schema:
        type: string
        example: 17.01.89
      in: header
      required: true
    content-type:
      name: content-type
      description: >-
        FormFecha en la que se creó la petición en UNIX Timestamp.ato de
        contenido de la respuesta.
      schema:
        enum:
          - applcation/json
        type: string
      in: header
      required: true
  examples:
    ExRastreo:
      value:
        description: Example shared example
        type: object
        properties:
          id:
            type: string
        required:
          - id
  requestBodies:
    Metadata:
      content:
        application/json:
          schema:
            type: object
            properties:
              order_id:
                description: Adjunta un número de pedido incremental.
                type: string
                example: '204055'
              user_id:
                description: |
                  Adjunta un identificador del cliente de tu sistema.
                type: string
                example: '4625'
              user_details:
                description: Adjunta datos adicionales sobre tu cliente
                type: string
                example: '{''dni'':''46734527''}'
            x-examples:
              example-1:
                amount: 200
                currency_code: PEN
                source_id: tkn_live_189fqQ2eZvKYlo2
                description: Apple Watch Series 20
                installments: 6
                capture: true
                metadata:
                  order_id: '204055'
                  user_id: '4625'
                  user_details: '46734527'
          examples:
            example-1:
              value:
                amount: 200
                currency_code: PEN
                source_id: tkn_live_189fqQ2eZvKYlo2
                description: Apple Watch Series 20
                installments: 6
                capture: true
                metadata:
                  order_id: '204055'
                  user_id: '4625'
                  user_details: '46734527'
  securitySchemes: {}
  headers: {}
  responses: {}
tags:
  - name: Tokens
    description: >-
      **Tokenización** es el proceso que utiliza Culqi para capturar de manera
      segura datos sensibles de tarjetas de crédito y débito directamente desde
      el navegador del cliente. Un <em>token</em> representa a una tarjeta
      dentro del flujo de pago de Culqi y es devuelto a tus servidores para que
      puedas utilizarlo a través de [Culqi
      Checkout](https://docs.culqi.com/#/pagos/checkout),
      [Culqi.JS](https://docs.culqi.com/#/pagos/js) o nuestras bibliotecas para
      móviles ([iOS](https://docs.culqi.com/#/pagos/ios) y
      [Android](https://docs.culqi.com/#/pagos/android)). Este método nos
      asegura que ningún dato de tarjeta toque tus servidores y permite que la
      integración cumple con la normativa **PCI DSS**.

      </br> </br>

      Si no deseas hacer uso de los métodos de tokenización disponibles, también
      puedes crear tokens utilizando la API y tu llave pública. Pero en este
      caso recuerda que tu empresa será la responsable de cualquier
      procedimiento requerido por la normativa **PCI DSS**, como por ejemplo el
      [siguiente
      autocuestionario](https://www.pcisecuritystandards.org/documents/SAQ_D_v3_Merchant.pdf).
      A diferencia de Culqi Checkout, Culqi.JS y los SDKs para móviles, la
      información de tu cliente no será enviada directamente a Culqi así que no
      podríamos determinar si manejas o guardas esta información con seguridad.

      </br>

      <div class="box info"><div class="content">Los tokens tienen un tiempo de
      expiración de 5 minutos por lo que no pueden ser guardados y utilizados
      más de una vez. Para hacerlos permanentes y generar cargos posteriores o
      recurrentes, debes <a href="#operation/crear-cliente">crear un cliente</a>
      y posteriormente <a href="#operation/crear-tarjeta"> crear una
      tarjeta</a>.</div></div>


      # Objeto Token

      <SchemaDefinition schemaRef="#/components/schemas/Token" />
  - name: Cargos
    description: >
      Para realizar un cargo a una tarjeta de débito o crédito debes crear un
      objeto cargo. Adicionalmente puedes consultar, devolver un cargo en
      particular o listar tu historial de cargos en base a los filtros que
      desees. Todos los cargos están identificados por un ID.

      # Objeto Cargo

      <SchemaDefinition schemaRef="#/components/schemas/Cargo" />
  - name: Devoluciones
    description: >
      Una devolución te permite devolver un cargo que ha sido creado previamente
      y que aún no ha sido devuelto en su totalidad. Los fondos serán devueltos
      a la tarjeta de crédito o débito que se ha realizado el cargo.

      # Objeto Devolucion

      <SchemaDefinition schemaRef="#/components/schemas/Devolucion" />
  - name: Clientes
    description: >
      El recurso cliente te permite guardar la información de tus clientes para
      realizarles cargos recurrentes o posteriores. La API de Culqi permite
      crear, eliminar y actualizar los datos de tus clientes. Adicionalmente
      podrás consultar los datos de un cliente en particular o listar a todos
      tus clientes en base a los filtros que desees.

      # Objeto Cliente

      <SchemaDefinition schemaRef="#/components/schemas/Cliente" />
  - name: Tarjetas
    description: >
      El objeto Tarjeta se usa para crear cargos posteriores a una tarjeta.
      Recuerda que un Token por si solo vence a los 5 minutos de creado, pero si
      lo conviertes en una Tarjeta podrás realizar cargos posteriores. Podrás
      relacionar múltiples tarjeta al mismo Cliente.

      # Objeto Tarjeta

      <SchemaDefinition schemaRef="#/components/schemas/Tarjeta" />      
  - name: Planes
    description: >
      Un plan de suscripción contiene información acerca del tipo de cargo,
      frecuencia y monto que quieres cargarle a un Card de manera recurrente.
      Por ejemplo, podrías configurar un plan básico de S/ 50 mensuales y un
      plan Premium de S/ 75 mensuales.

      # Objeto Plan

      <SchemaDefinition schemaRef="#/components/schemas/Plan" />      
  - name: Suscripciones
    description: >
      El crear suscripciones te permite realizar cargos recurrentes a la tarjeta
      de un cliente. Una suscripción relaciona al objeto Customer y al objeto
      Plan que has creado previamente.

      <SchemaDefinition schemaRef="#/components/schemas/Suscripcion" />
  - name: Ordenes
    description: >
      El objeto Orden contiene información de una posible venta. Es usado para
      el método de pago en efectivo. Una vez es pagada la orden por tu cliente
      via banco o agente, cambia de estado en el momento de la acción. Con este
      recurso podrás brindar a tus clientes la opción de pagar sus compras en
      efectivo.

      # Objeto Orden

      <SchemaDefinition schemaRef="#/components/schemas/Orden" />
  - name: Eventos
    description: >
      Los eventos son formas de hacerte saber cuando algo sucede en tu cuenta de
      Culqi. Cuando un evento ocurre, Culqi crea un objeto Evento. Por ejemplo,
      cuando un cargo es exitoso, Culqi crea el evento charge.succeeded.
      Adicionalmente, si realizas muchas peticiones al API podría llegar a
      causar multiples eventos. Por ejemplo, si creas una suscripción para un
      cliente, recibirás el evento customer.subscription.created y el evento
      charge.succeeded.


      Al igual que los otros recursos del API, puedes consultar un evento
      particular o listar una serie de eventos directamente desde el API.
      Adicionalmente, hemos construido un sistema automatizado que enviará
      eventos directamente a tu servidor: webhooks. Te reconedamos que revises
      nuestra guía de webhooks para que sepas como configurarlos.

      # Objeto Evento

      <SchemaDefinition schemaRef="#/components/schemas/Evento" />
security: []
